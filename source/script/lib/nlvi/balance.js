(function(I,k){typeof exports=="object"&&typeof module!="undefined"?module.exports=k():typeof define=="function"&&define.amd?define(k):(I=typeof globalThis!="undefined"?globalThis:I||self,I.Nlvi=k())})(this,function(){"use strict";var $i=Object.defineProperty,Li=Object.defineProperties;var ji=Object.getOwnPropertyDescriptors;var Sr=Object.getOwnPropertySymbols;var Mi=Object.prototype.hasOwnProperty,_i=Object.prototype.propertyIsEnumerable;var Pr=(I,k,O)=>k in I?$i(I,k,{enumerable:!0,configurable:!0,writable:!0,value:O}):I[k]=O,kr=(I,k)=>{for(var O in k||(k={}))Mi.call(k,O)&&Pr(I,O,k[O]);if(Sr)for(var O of Sr(k))_i.call(k,O)&&Pr(I,O,k[O]);return I},Ar=(I,k)=>Li(I,ji(k));var I=function(t,r){return I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},I(t,r)};function k(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");I(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var O=function(){return O=Object.assign||function(r){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},O.apply(this,arguments)};function Tr(t,r){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&r.indexOf(n)<0&&(e[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)r.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(e[n[i]]=t[n[i]]);return e}function Ir(t,r,e,n){function i(o){return o instanceof e?o:new e(function(a){a(o)})}return new(e||(e=Promise))(function(o,a){function u(l){try{c(n.next(l))}catch(h){a(h)}}function s(l){try{c(n.throw(l))}catch(h){a(h)}}function c(l){l.done?o(l.value):i(l.value).then(u,s)}c((n=n.apply(t,r||[])).next())})}function at(t,r){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function u(c){return function(l){return s([c,l])}}function s(c){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return e.label++,{value:c[1],done:!1};case 5:e.label++,i=c[1],c=[0];continue;case 7:c=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){e=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){e.label=c[1];break}if(c[0]===6&&e.label<o[1]){e.label=o[1],o=c;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(c);break}o[2]&&e.ops.pop(),e.trys.pop();continue}c=r.call(t,e)}catch(l){c=[6,l],i=0}finally{n=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function re(t){var r=typeof Symbol=="function"&&Symbol.iterator,e=r&&t[r],n=0;if(e)return e.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function R(t,r){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var n=e.call(t),i,o=[],a;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(u){a={error:u}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(a)throw a.error}}return o}function U(t,r,e){if(e||arguments.length===2)for(var n=0,i=r.length,o;n<i;n++)(o||!(n in r))&&(o||(o=Array.prototype.slice.call(r,0,n)),o[n]=r[n]);return t.concat(o||Array.prototype.slice.call(r))}function ne(t){return this instanceof ne?(this.v=t,this):new ne(t)}function Or(t,r,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=e.apply(t,r||[]),i,o=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(f){n[f]&&(i[f]=function(d){return new Promise(function(p,v){o.push([f,d,p,v])>1||u(f,d)})})}function u(f,d){try{s(n[f](d))}catch(p){h(o[0][3],p)}}function s(f){f.value instanceof ne?Promise.resolve(f.value.v).then(c,l):h(o[0][2],f)}function c(f){u("next",f)}function l(f){u("throw",f)}function h(f,d){f(d),o.shift(),o.length&&u(o[0][0],o[0][1])}}function $r(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t[Symbol.asyncIterator],e;return r?r.call(t):(t=typeof re=="function"?re(t):t[Symbol.iterator](),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(o){e[o]=t[o]&&function(a){return new Promise(function(u,s){a=t[o](a),i(u,s,a.done,a.value)})}}function i(o,a,u,s){Promise.resolve(s).then(function(c){o({value:c,done:u})},a)}}function P(t){return typeof t=="function"}function st(t){var r=function(n){Error.call(n),n.stack=new Error().stack},e=t(r);return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var Ie=st(function(t){return function(e){t(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(n,i){return i+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e}});function pe(t,r){if(t){var e=t.indexOf(r);0<=e&&t.splice(e,1)}}var ce=function(){function t(r){this.initialTeardown=r,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var r,e,n,i,o;if(!this.closed){this.closed=!0;var a=this._parentage;if(a)if(this._parentage=null,Array.isArray(a))try{for(var u=re(a),s=u.next();!s.done;s=u.next()){var c=s.value;c.remove(this)}}catch(v){r={error:v}}finally{try{s&&!s.done&&(e=u.return)&&e.call(u)}finally{if(r)throw r.error}}else a.remove(this);var l=this.initialTeardown;if(P(l))try{l()}catch(v){o=v instanceof Ie?v.errors:[v]}var h=this._finalizers;if(h){this._finalizers=null;try{for(var f=re(h),d=f.next();!d.done;d=f.next()){var p=d.value;try{lt(p)}catch(v){o=o!=null?o:[],v instanceof Ie?o=U(U([],R(o)),R(v.errors)):o.push(v)}}}catch(v){n={error:v}}finally{try{d&&!d.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}}if(o)throw new Ie(o)}},t.prototype.add=function(r){var e;if(r&&r!==this)if(this.closed)lt(r);else{if(r instanceof t){if(r.closed||r._hasParent(this))return;r._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(r)}},t.prototype._hasParent=function(r){var e=this._parentage;return e===r||Array.isArray(e)&&e.includes(r)},t.prototype._addParent=function(r){var e=this._parentage;this._parentage=Array.isArray(e)?(e.push(r),e):e?[e,r]:r},t.prototype._removeParent=function(r){var e=this._parentage;e===r?this._parentage=null:Array.isArray(e)&&pe(e,r)},t.prototype.remove=function(r){var e=this._finalizers;e&&pe(e,r),r instanceof t&&r._removeParent(this)},t.EMPTY=function(){var r=new t;return r.closed=!0,r}(),t}(),ut=ce.EMPTY;function ct(t){return t instanceof ce||t&&"closed"in t&&P(t.remove)&&P(t.add)&&P(t.unsubscribe)}function lt(t){P(t)?t():t.unsubscribe()}var ft={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Oe={setTimeout:function(t,r){for(var e=[],n=2;n<arguments.length;n++)e[n-2]=arguments[n];var i=Oe.delegate;return i!=null&&i.setTimeout?i.setTimeout.apply(i,U([t,r],R(e))):setTimeout.apply(void 0,U([t,r],R(e)))},clearTimeout:function(t){var r=Oe.delegate;return((r==null?void 0:r.clearTimeout)||clearTimeout)(t)},delegate:void 0};function ht(t){Oe.setTimeout(function(){throw t})}function me(){}function ge(t){t()}var $e=function(t){k(r,t);function r(e){var n=t.call(this)||this;return n.isStopped=!1,e?(n.destination=e,ct(e)&&e.add(n)):n.destination=_r,n}return r.create=function(e,n,i){return new je(e,n,i)},r.prototype.next=function(e){this.isStopped||this._next(e)},r.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},r.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},r.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},r.prototype._next=function(e){this.destination.next(e)},r.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},r.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},r}(ce),Lr=Function.prototype.bind;function Le(t,r){return Lr.call(t,r)}var jr=function(){function t(r){this.partialObserver=r}return t.prototype.next=function(r){var e=this.partialObserver;if(e.next)try{e.next(r)}catch(n){ye(n)}},t.prototype.error=function(r){var e=this.partialObserver;if(e.error)try{e.error(r)}catch(n){ye(n)}else ye(r)},t.prototype.complete=function(){var r=this.partialObserver;if(r.complete)try{r.complete()}catch(e){ye(e)}},t}(),je=function(t){k(r,t);function r(e,n,i){var o=t.call(this)||this,a;if(P(e)||!e)a={next:e!=null?e:void 0,error:n!=null?n:void 0,complete:i!=null?i:void 0};else{var u;o&&ft.useDeprecatedNextContext?(u=Object.create(e),u.unsubscribe=function(){return o.unsubscribe()},a={next:e.next&&Le(e.next,u),error:e.error&&Le(e.error,u),complete:e.complete&&Le(e.complete,u)}):a=e}return o.destination=new jr(a),o}return r}($e);function ye(t){ht(t)}function Mr(t){throw t}var _r={closed:!0,next:me,error:Mr,complete:me},Me=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function dt(t){return t}function Cr(t){return t.length===0?dt:t.length===1?t[0]:function(e){return t.reduce(function(n,i){return i(n)},e)}}var L=function(){function t(r){r&&(this._subscribe=r)}return t.prototype.lift=function(r){var e=new t;return e.source=this,e.operator=r,e},t.prototype.subscribe=function(r,e,n){var i=this,o=Dr(r)?r:new je(r,e,n);return ge(function(){var a=i,u=a.operator,s=a.source;o.add(u?u.call(o,s):s?i._subscribe(o):i._trySubscribe(o))}),o},t.prototype._trySubscribe=function(r){try{return this._subscribe(r)}catch(e){r.error(e)}},t.prototype.forEach=function(r,e){var n=this;return e=vt(e),new e(function(i,o){var a=new je({next:function(u){try{r(u)}catch(s){o(s),a.unsubscribe()}},error:o,complete:i});n.subscribe(a)})},t.prototype._subscribe=function(r){var e;return(e=this.source)===null||e===void 0?void 0:e.subscribe(r)},t.prototype[Me]=function(){return this},t.prototype.pipe=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return Cr(r)(this)},t.prototype.toPromise=function(r){var e=this;return r=vt(r),new r(function(n,i){var o;e.subscribe(function(a){return o=a},function(a){return i(a)},function(){return n(o)})})},t.create=function(r){return new t(r)},t}();function vt(t){var r;return(r=t!=null?t:ft.Promise)!==null&&r!==void 0?r:Promise}function Rr(t){return t&&P(t.next)&&P(t.error)&&P(t.complete)}function Dr(t){return t&&t instanceof $e||Rr(t)&&ct(t)}function Br(t){return P(t==null?void 0:t.lift)}function N(t){return function(r){if(Br(r))return r.lift(function(e){try{return t(e,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function M(t,r,e,n,i){return new Fr(t,r,e,n,i)}var Fr=function(t){k(r,t);function r(e,n,i,o,a,u){var s=t.call(this,e)||this;return s.onFinalize=a,s.shouldUnsubscribe=u,s._next=n?function(c){try{n(c)}catch(l){e.error(l)}}:t.prototype._next,s._error=o?function(c){try{o(c)}catch(l){e.error(l)}finally{this.unsubscribe()}}:t.prototype._error,s._complete=i?function(){try{i()}catch(c){e.error(c)}finally{this.unsubscribe()}}:t.prototype._complete,s}return r.prototype.unsubscribe=function(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;t.prototype.unsubscribe.call(this),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}},r}($e),qr=st(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),pt=function(t){k(r,t);function r(){var e=t.call(this)||this;return e.closed=!1,e.currentObservers=null,e.observers=[],e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return r.prototype.lift=function(e){var n=new mt(this,this);return n.operator=e,n},r.prototype._throwIfClosed=function(){if(this.closed)throw new qr},r.prototype.next=function(e){var n=this;ge(function(){var i,o;if(n._throwIfClosed(),!n.isStopped){n.currentObservers||(n.currentObservers=Array.from(n.observers));try{for(var a=re(n.currentObservers),u=a.next();!u.done;u=a.next()){var s=u.value;s.next(e)}}catch(c){i={error:c}}finally{try{u&&!u.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}}})},r.prototype.error=function(e){var n=this;ge(function(){if(n._throwIfClosed(),!n.isStopped){n.hasError=n.isStopped=!0,n.thrownError=e;for(var i=n.observers;i.length;)i.shift().error(e)}})},r.prototype.complete=function(){var e=this;ge(function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var n=e.observers;n.length;)n.shift().complete()}})},r.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(r.prototype,"observed",{get:function(){var e;return((e=this.observers)===null||e===void 0?void 0:e.length)>0},enumerable:!1,configurable:!0}),r.prototype._trySubscribe=function(e){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,e)},r.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},r.prototype._innerSubscribe=function(e){var n=this,i=this,o=i.hasError,a=i.isStopped,u=i.observers;return o||a?ut:(this.currentObservers=null,u.push(e),new ce(function(){n.currentObservers=null,pe(u,e)}))},r.prototype._checkFinalizedStatuses=function(e){var n=this,i=n.hasError,o=n.thrownError,a=n.isStopped;i?e.error(o):a&&e.complete()},r.prototype.asObservable=function(){var e=new L;return e.source=this,e},r.create=function(e,n){return new mt(e,n)},r}(L),mt=function(t){k(r,t);function r(e,n){var i=t.call(this)||this;return i.destination=e,i.source=n,i}return r.prototype.next=function(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,e)},r.prototype.error=function(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,e)},r.prototype.complete=function(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)},r.prototype._subscribe=function(e){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&i!==void 0?i:ut},r}(pt),gt={now:function(){return(gt.delegate||Date).now()},delegate:void 0},Ur=function(t){k(r,t);function r(e,n){return t.call(this)||this}return r.prototype.schedule=function(e,n){return this},r}(ce),be={setInterval:function(t,r){for(var e=[],n=2;n<arguments.length;n++)e[n-2]=arguments[n];var i=be.delegate;return i!=null&&i.setInterval?i.setInterval.apply(i,U([t,r],R(e))):setInterval.apply(void 0,U([t,r],R(e)))},clearInterval:function(t){var r=be.delegate;return((r==null?void 0:r.clearInterval)||clearInterval)(t)},delegate:void 0},Hr=function(t){k(r,t);function r(e,n){var i=t.call(this,e,n)||this;return i.scheduler=e,i.work=n,i.pending=!1,i}return r.prototype.schedule=function(e,n){if(n===void 0&&(n=0),this.closed)return this;this.state=e;var i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(o,this.id,n),this},r.prototype.requestAsyncId=function(e,n,i){return i===void 0&&(i=0),be.setInterval(e.flush.bind(e,this),i)},r.prototype.recycleAsyncId=function(e,n,i){if(i===void 0&&(i=0),i!=null&&this.delay===i&&this.pending===!1)return n;be.clearInterval(n)},r.prototype.execute=function(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(e,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},r.prototype._execute=function(e,n){var i=!1,o;try{this.work(e)}catch(a){i=!0,o=a||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),o},r.prototype.unsubscribe=function(){if(!this.closed){var e=this,n=e.id,i=e.scheduler,o=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,pe(o,this),n!=null&&(this.id=this.recycleAsyncId(i,n,null)),this.delay=null,t.prototype.unsubscribe.call(this)}},r}(Ur),yt=function(){function t(r,e){e===void 0&&(e=t.now),this.schedulerActionCtor=r,this.now=e}return t.prototype.schedule=function(r,e,n){return e===void 0&&(e=0),new this.schedulerActionCtor(this,r).schedule(n,e)},t.now=gt.now,t}(),Vr=function(t){k(r,t);function r(e,n){n===void 0&&(n=yt.now);var i=t.call(this,e,n)||this;return i.actions=[],i._active=!1,i._scheduled=void 0,i}return r.prototype.flush=function(e){var n=this.actions;if(this._active){n.push(e);return}var i;this._active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,i){for(;e=n.shift();)e.unsubscribe();throw i}},r}(yt),zr=new Vr(Hr),Nr=new L(function(t){return t.complete()});function Wr(t){return t[t.length-1]}function bt(t){return P(Wr(t))?t.pop():void 0}var _e=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function wt(t){return P(t==null?void 0:t.then)}function xt(t){return P(t[Me])}function Et(t){return Symbol.asyncIterator&&P(t==null?void 0:t[Symbol.asyncIterator])}function St(t){return new TypeError("You provided "+(t!==null&&typeof t=="object"?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function Yr(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Pt=Yr();function kt(t){return P(t==null?void 0:t[Pt])}function At(t){return Or(this,arguments,function(){var e,n,i,o;return at(this,function(a){switch(a.label){case 0:e=t.getReader(),a.label=1;case 1:a.trys.push([1,,9,10]),a.label=2;case 2:return[4,ne(e.read())];case 3:return n=a.sent(),i=n.value,o=n.done,o?[4,ne(void 0)]:[3,5];case 4:return[2,a.sent()];case 5:return[4,ne(i)];case 6:return[4,a.sent()];case 7:return a.sent(),[3,2];case 8:return[3,10];case 9:return e.releaseLock(),[7];case 10:return[2]}})})}function Tt(t){return P(t==null?void 0:t.getReader)}function D(t){if(t instanceof L)return t;if(t!=null){if(xt(t))return Kr(t);if(_e(t))return Qr(t);if(wt(t))return Gr(t);if(Et(t))return It(t);if(kt(t))return Zr(t);if(Tt(t))return Jr(t)}throw St(t)}function Kr(t){return new L(function(r){var e=t[Me]();if(P(e.subscribe))return e.subscribe(r);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Qr(t){return new L(function(r){for(var e=0;e<t.length&&!r.closed;e++)r.next(t[e]);r.complete()})}function Gr(t){return new L(function(r){t.then(function(e){r.closed||(r.next(e),r.complete())},function(e){return r.error(e)}).then(null,ht)})}function Zr(t){return new L(function(r){var e,n;try{for(var i=re(t),o=i.next();!o.done;o=i.next()){var a=o.value;if(r.next(a),r.closed)return}}catch(u){e={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}r.complete()})}function It(t){return new L(function(r){Xr(t,r).catch(function(e){return r.error(e)})})}function Jr(t){return It(At(t))}function Xr(t,r){var e,n,i,o;return Ir(this,void 0,void 0,function(){var a,u;return at(this,function(s){switch(s.label){case 0:s.trys.push([0,5,6,11]),e=$r(t),s.label=1;case 1:return[4,e.next()];case 2:if(n=s.sent(),!!n.done)return[3,4];if(a=n.value,r.next(a),r.closed)return[2];s.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return u=s.sent(),i={error:u},[3,11];case 6:return s.trys.push([6,,9,10]),n&&!n.done&&(o=e.return)?[4,o.call(e)]:[3,8];case 7:s.sent(),s.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return r.complete(),[2]}})})}function K(t,r,e,n,i){n===void 0&&(n=0),i===void 0&&(i=!1);var o=r.schedule(function(){e(),i?t.add(this.schedule(null,n)):this.unsubscribe()},n);if(t.add(o),!i)return o}function Ot(t,r){return r===void 0&&(r=0),N(function(e,n){e.subscribe(M(n,function(i){return K(n,t,function(){return n.next(i)},r)},function(){return K(n,t,function(){return n.complete()},r)},function(i){return K(n,t,function(){return n.error(i)},r)}))})}function $t(t,r){return r===void 0&&(r=0),N(function(e,n){n.add(t.schedule(function(){return e.subscribe(n)},r))})}function en(t,r){return D(t).pipe($t(r),Ot(r))}function tn(t,r){return D(t).pipe($t(r),Ot(r))}function rn(t,r){return new L(function(e){var n=0;return r.schedule(function(){n===t.length?e.complete():(e.next(t[n++]),e.closed||this.schedule())})})}function nn(t,r){return new L(function(e){var n;return K(e,r,function(){n=t[Pt](),K(e,r,function(){var i,o,a;try{i=n.next(),o=i.value,a=i.done}catch(u){e.error(u);return}a?e.complete():e.next(o)},0,!0)}),function(){return P(n==null?void 0:n.return)&&n.return()}})}function Lt(t,r){if(!t)throw new Error("Iterable cannot be null");return new L(function(e){K(e,r,function(){var n=t[Symbol.asyncIterator]();K(e,r,function(){n.next().then(function(i){i.done?e.complete():e.next(i.value)})},0,!0)})})}function on(t,r){return Lt(At(t),r)}function an(t,r){if(t!=null){if(xt(t))return en(t,r);if(_e(t))return rn(t,r);if(wt(t))return tn(t,r);if(Et(t))return Lt(t,r);if(kt(t))return nn(t,r);if(Tt(t))return on(t,r)}throw St(t)}function sn(t,r){return r?an(t,r):D(t)}function j(t,r){return N(function(e,n){var i=0;e.subscribe(M(n,function(o){n.next(t.call(r,o,i++))}))})}var un=Array.isArray;function cn(t,r){return un(r)?t.apply(void 0,U([],R(r))):t(r)}function ln(t){return j(function(r){return cn(t,r)})}function fn(t,r,e,n,i,o,a,u){var s=[],c=0,l=0,h=!1,f=function(){h&&!s.length&&!c&&r.complete()},d=function(v){return c<n?p(v):s.push(v)},p=function(v){o&&r.next(v),c++;var w=!1;D(e(v,l++)).subscribe(M(r,function(b){i==null||i(b),o?d(b):r.next(b)},function(){w=!0},void 0,function(){if(w)try{c--;for(var b=function(){var m=s.shift();a?K(r,a,function(){return p(m)}):p(m)};s.length&&c<n;)b();f()}catch(m){r.error(m)}}))};return t.subscribe(M(r,d,function(){h=!0,f()})),function(){u==null||u()}}function jt(t,r,e){return e===void 0&&(e=1/0),P(r)?jt(function(n,i){return j(function(o,a){return r(n,o,i,a)})(D(t(n,i)))},e):(typeof r=="number"&&(e=r),N(function(n,i){return fn(n,i,t,e)}))}var hn=["addListener","removeListener"],dn=["addEventListener","removeEventListener"],vn=["on","off"];function Z(t,r,e,n){if(P(e)&&(n=e,e=void 0),n)return Z(t,r,e).pipe(ln(n));var i=R(gn(t)?dn.map(function(u){return function(s){return t[u](r,s,e)}}):pn(t)?hn.map(Mt(t,r)):mn(t)?vn.map(Mt(t,r)):[],2),o=i[0],a=i[1];if(!o&&_e(t))return jt(function(u){return Z(u,r,e)})(D(t));if(!o)throw new TypeError("Invalid event target");return new L(function(u){var s=function(){for(var c=[],l=0;l<arguments.length;l++)c[l]=arguments[l];return u.next(1<c.length?c:c[0])};return o(s),function(){return a(s)}})}function Mt(t,r){return function(e){return function(n){return t[e](r,n)}}}function pn(t){return P(t.addListener)&&P(t.removeListener)}function mn(t){return P(t.on)&&P(t.off)}function gn(t){return P(t.addEventListener)&&P(t.removeEventListener)}var yn=Array.isArray;function bn(t){return t.length===1&&yn(t[0])?t[0]:t}function _t(t,r){return N(function(e,n){var i=0;e.subscribe(M(n,function(o){return t.call(r,o,i++)&&n.next(o)}))})}function Ct(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var e=bt(t),n=bn(t);return n.length?new L(function(i){var o=n.map(function(){return[]}),a=n.map(function(){return!1});i.add(function(){o=a=null});for(var u=function(c){D(n[c]).subscribe(M(i,function(l){if(o[c].push(l),o.every(function(f){return f.length})){var h=o.map(function(f){return f.shift()});i.next(e?e.apply(void 0,U([],R(h))):h),o.some(function(f,d){return!f.length&&a[d]})&&i.complete()}},function(){a[c]=!0,!o[c].length&&i.complete()}))},s=0;!i.closed&&s<n.length;s++)u(s);return function(){o=a=null}}):Nr}function wn(t,r){return r===void 0&&(r=zr),N(function(e,n){var i=null,o=null,a=null,u=function(){if(i){i.unsubscribe(),i=null;var c=o;o=null,n.next(c)}};function s(){var c=a+t,l=r.now();if(l<c){i=this.schedule(void 0,c-l),n.add(i);return}u()}e.subscribe(M(n,function(c){o=c,a=r.now(),i||(i=r.schedule(s,t),n.add(i))},function(){u(),n.complete()},void 0,function(){o=i=null}))})}function Ce(t,r){return N(function(e,n){var i=null,o=0,a=!1,u=function(){return a&&!i&&n.complete()};e.subscribe(M(n,function(s){i==null||i.unsubscribe();var c=0,l=o++;D(t(s,l)).subscribe(i=M(n,function(h){return n.next(r?r(s,h,l,c++):h)},function(){i=null,u()}))},function(){a=!0,u()}))})}function xn(t){return N(function(r,e){D(t).subscribe(M(e,function(){return e.complete()},me)),!e.closed&&r.subscribe(e)})}function En(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var e=bt(t);return N(function(n,i){for(var o=t.length,a=new Array(o),u=t.map(function(){return!1}),s=!1,c=function(h){D(t[h]).subscribe(M(i,function(f){a[h]=f,!s&&!u[h]&&(u[h]=!0,(s=u.every(dt))&&(u=null))},me))},l=0;l<o;l++)c(l);n.subscribe(M(i,function(h){if(s){var f=U([h],R(a));i.next(e?e.apply(void 0,U([],R(f))):f)}}))})}function Sn(t,r){r===void 0&&(r={});var e=r.selector,n=Tr(r,["selector"]);return new L(function(i){var o=new AbortController,a=o.signal,u=!0,s=n.signal;if(s)if(s.aborted)o.abort();else{var c=function(){a.aborted||o.abort()};s.addEventListener("abort",c),i.add(function(){return s.removeEventListener("abort",c)})}var l=O(O({},n),{signal:a}),h=function(f){u=!1,i.error(f)};return fetch(t,l).then(function(f){e?D(e(f)).subscribe(M(i,void 0,function(){u=!1,i.complete()},h)):(u=!1,i.next(f),i.complete())}).catch(h),function(){u&&o.abort()}})}function Pn(t,r){const e=Sn(t).pipe(Ce(a=>a.text()),j(a=>new window.DOMParser().parseFromString(a,"text/xml")),j(a=>a.querySelectorAll("entry")),j(a=>[...a].map(u=>({title:u.getElementsByTagName("title")[0].textContent,url:u.getElementsByTagName("url")[0].textContent,content:u.getElementsByTagName("content")[0].textContent})))),n=Z(document.getElementById(r),"input").pipe(wn(500),j(({target:a})=>a.value.trim())),i=n.pipe(j(a=>!!a)),o=n.pipe(En(e),j(([a,u])=>u.filter(({title:s,content:c})=>s.indexOf(a)>=0||c.indexOf(a)>=0).map(s=>{const c=new RegExp(`(${a})`,"gi"),l=s.title.replace(c,'<strong class="search-keyword">$1</strong>');let h=s.content.replace(/<[^>]+>/g,"");const f=h.indexOf(a);return h=h.slice(f<20?0:f-20,f<0?100:f+80).replace(c,'<strong class="search-keyword">$1</strong>'),Ar(kr({},s),{title:l,content:h})})));return Ct(i,o).pipe(j(([a,u])=>a?u:[]))}class Re{constructor(r){this.config=r}static getInstance(r){return this.instance||(this.instance=new Re(r)),this.instance}handleScroll(r){const e=Z(window,"scroll").pipe(xn(new pt().asObservable()),j(n=>n.target.scrollTop));r.length&&e.subscribe(n=>r.forEach(i=>i(n)))}isDisplay(r){return r.offsetParent!==null}animationEnd(r,e,n){r.classList.add(...e.split(" ")),r.addEventListener("animationend",i=>n==null?void 0:n(i),{once:!0})}get isBanderole(){return this.config.theme.scheme==="banderole"}get isBalance(){return this.config.theme.scheme==="balance"}}var Rt={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},De={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},kn=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],we={CSS:{},springs:{}};function H(t,r,e){return Math.min(Math.max(t,r),e)}function le(t,r){return t.indexOf(r)>-1}function Be(t,r){return t.apply(null,r)}var g={arr:function(t){return Array.isArray(t)},obj:function(t){return le(Object.prototype.toString.call(t),"Object")},pth:function(t){return g.obj(t)&&t.hasOwnProperty("totalLength")},svg:function(t){return t instanceof SVGElement},inp:function(t){return t instanceof HTMLInputElement},dom:function(t){return t.nodeType||g.svg(t)},str:function(t){return typeof t=="string"},fnc:function(t){return typeof t=="function"},und:function(t){return typeof t=="undefined"},nil:function(t){return g.und(t)||t===null},hex:function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)},rgb:function(t){return/^rgb/.test(t)},hsl:function(t){return/^hsl/.test(t)},col:function(t){return g.hex(t)||g.rgb(t)||g.hsl(t)},key:function(t){return!Rt.hasOwnProperty(t)&&!De.hasOwnProperty(t)&&t!=="targets"&&t!=="keyframes"}};function Dt(t){var r=/\(([^)]+)\)/.exec(t);return r?r[1].split(",").map(function(e){return parseFloat(e)}):[]}function Bt(t,r){var e=Dt(t),n=H(g.und(e[0])?1:e[0],.1,100),i=H(g.und(e[1])?100:e[1],.1,100),o=H(g.und(e[2])?10:e[2],.1,100),a=H(g.und(e[3])?0:e[3],.1,100),u=Math.sqrt(i/n),s=o/(2*Math.sqrt(i*n)),c=s<1?u*Math.sqrt(1-s*s):0,l=1,h=s<1?(s*u+-a)/c:-a+u;function f(p){var v=r?r*p/1e3:p;return s<1?v=Math.exp(-v*s*u)*(l*Math.cos(c*v)+h*Math.sin(c*v)):v=(l+h*v)*Math.exp(-v*u),p===0||p===1?p:1-v}function d(){var p=we.springs[t];if(p)return p;for(var v=1/6,w=0,b=0;;)if(w+=v,f(w)===1){if(b++,b>=16)break}else b=0;var m=w*v*1e3;return we.springs[t]=m,m}return r?f:d}function An(t){return t===void 0&&(t=10),function(r){return Math.ceil(H(r,1e-6,1)*t)*(1/t)}}var Tn=function(){var t=11,r=1/(t-1);function e(l,h){return 1-3*h+3*l}function n(l,h){return 3*h-6*l}function i(l){return 3*l}function o(l,h,f){return((e(h,f)*l+n(h,f))*l+i(h))*l}function a(l,h,f){return 3*e(h,f)*l*l+2*n(h,f)*l+i(h)}function u(l,h,f,d,p){var v,w,b=0;do w=h+(f-h)/2,v=o(w,d,p)-l,v>0?f=w:h=w;while(Math.abs(v)>1e-7&&++b<10);return w}function s(l,h,f,d){for(var p=0;p<4;++p){var v=a(h,f,d);if(v===0)return h;var w=o(h,f,d)-l;h-=w/v}return h}function c(l,h,f,d){if(!(0<=l&&l<=1&&0<=f&&f<=1))return;var p=new Float32Array(t);if(l!==h||f!==d)for(var v=0;v<t;++v)p[v]=o(v*r,l,f);function w(b){for(var m=0,y=1,E=t-1;y!==E&&p[y]<=b;++y)m+=r;--y;var S=(b-p[y])/(p[y+1]-p[y]),x=m+S*r,F=a(x,l,f);return F>=.001?s(b,x,l,f):F===0?x:u(b,m,m+r,l,f)}return function(b){return l===h&&f===d||b===0||b===1?b:o(w(b),h,d)}}return c}(),Ft=function(){var t={linear:function(){return function(n){return n}}},r={Sine:function(){return function(n){return 1-Math.cos(n*Math.PI/2)}},Circ:function(){return function(n){return 1-Math.sqrt(1-n*n)}},Back:function(){return function(n){return n*n*(3*n-2)}},Bounce:function(){return function(n){for(var i,o=4;n<((i=Math.pow(2,--o))-1)/11;);return 1/Math.pow(4,3-o)-7.5625*Math.pow((i*3-2)/22-n,2)}},Elastic:function(n,i){n===void 0&&(n=1),i===void 0&&(i=.5);var o=H(n,1,10),a=H(i,.1,2);return function(u){return u===0||u===1?u:-o*Math.pow(2,10*(u-1))*Math.sin((u-1-a/(Math.PI*2)*Math.asin(1/o))*(Math.PI*2)/a)}}},e=["Quad","Cubic","Quart","Quint","Expo"];return e.forEach(function(n,i){r[n]=function(){return function(o){return Math.pow(o,i+2)}}}),Object.keys(r).forEach(function(n){var i=r[n];t["easeIn"+n]=i,t["easeOut"+n]=function(o,a){return function(u){return 1-i(o,a)(1-u)}},t["easeInOut"+n]=function(o,a){return function(u){return u<.5?i(o,a)(u*2)/2:1-i(o,a)(u*-2+2)/2}},t["easeOutIn"+n]=function(o,a){return function(u){return u<.5?(1-i(o,a)(1-u*2))/2:(i(o,a)(u*2-1)+1)/2}}}),t}();function Fe(t,r){if(g.fnc(t))return t;var e=t.split("(")[0],n=Ft[e],i=Dt(t);switch(e){case"spring":return Bt(t,r);case"cubicBezier":return Be(Tn,i);case"steps":return Be(An,i);default:return Be(n,i)}}function qt(t){try{var r=document.querySelectorAll(t);return r}catch{return}}function xe(t,r){for(var e=t.length,n=arguments.length>=2?arguments[1]:void 0,i=[],o=0;o<e;o++)if(o in t){var a=t[o];r.call(n,a,o,t)&&i.push(a)}return i}function Ee(t){return t.reduce(function(r,e){return r.concat(g.arr(e)?Ee(e):e)},[])}function Ut(t){return g.arr(t)?t:(g.str(t)&&(t=qt(t)||t),t instanceof NodeList||t instanceof HTMLCollection?[].slice.call(t):[t])}function qe(t,r){return t.some(function(e){return e===r})}function Ue(t){var r={};for(var e in t)r[e]=t[e];return r}function He(t,r){var e=Ue(t);for(var n in t)e[n]=r.hasOwnProperty(n)?r[n]:t[n];return e}function Se(t,r){var e=Ue(t);for(var n in r)e[n]=g.und(t[n])?r[n]:t[n];return e}function In(t){var r=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(t);return r?"rgba("+r[1]+",1)":t}function On(t){var r=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,e=t.replace(r,function(u,s,c,l){return s+s+c+c+l+l}),n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e),i=parseInt(n[1],16),o=parseInt(n[2],16),a=parseInt(n[3],16);return"rgba("+i+","+o+","+a+",1)"}function $n(t){var r=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(t),e=parseInt(r[1],10)/360,n=parseInt(r[2],10)/100,i=parseInt(r[3],10)/100,o=r[4]||1;function a(f,d,p){return p<0&&(p+=1),p>1&&(p-=1),p<1/6?f+(d-f)*6*p:p<1/2?d:p<2/3?f+(d-f)*(2/3-p)*6:f}var u,s,c;if(n==0)u=s=c=i;else{var l=i<.5?i*(1+n):i+n-i*n,h=2*i-l;u=a(h,l,e+1/3),s=a(h,l,e),c=a(h,l,e-1/3)}return"rgba("+u*255+","+s*255+","+c*255+","+o+")"}function Ln(t){if(g.rgb(t))return In(t);if(g.hex(t))return On(t);if(g.hsl(t))return $n(t)}function W(t){var r=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(t);if(r)return r[1]}function jn(t){if(le(t,"translate")||t==="perspective")return"px";if(le(t,"rotate")||le(t,"skew"))return"deg"}function Ve(t,r){return g.fnc(t)?t(r.target,r.id,r.total):t}function V(t,r){return t.getAttribute(r)}function ze(t,r,e){var n=W(r);if(qe([e,"deg","rad","turn"],n))return r;var i=we.CSS[r+e];if(!g.und(i))return i;var o=100,a=document.createElement(t.tagName),u=t.parentNode&&t.parentNode!==document?t.parentNode:document.body;u.appendChild(a),a.style.position="absolute",a.style.width=o+e;var s=o/a.offsetWidth;u.removeChild(a);var c=s*parseFloat(r);return we.CSS[r+e]=c,c}function Ht(t,r,e){if(r in t.style){var n=r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),i=t.style[r]||getComputedStyle(t).getPropertyValue(n)||"0";return e?ze(t,i,e):i}}function Ne(t,r){if(g.dom(t)&&!g.inp(t)&&(!g.nil(V(t,r))||g.svg(t)&&t[r]))return"attribute";if(g.dom(t)&&qe(kn,r))return"transform";if(g.dom(t)&&r!=="transform"&&Ht(t,r))return"css";if(t[r]!=null)return"object"}function Vt(t){if(!!g.dom(t)){for(var r=t.style.transform||"",e=/(\w+)\(([^)]*)\)/g,n=new Map,i;i=e.exec(r);)n.set(i[1],i[2]);return n}}function Mn(t,r,e,n){var i=le(r,"scale")?1:0+jn(r),o=Vt(t).get(r)||i;return e&&(e.transforms.list.set(r,o),e.transforms.last=r),n?ze(t,o,n):o}function We(t,r,e,n){switch(Ne(t,r)){case"transform":return Mn(t,r,n,e);case"css":return Ht(t,r,e);case"attribute":return V(t,r);default:return t[r]||0}}function Ye(t,r){var e=/^(\*=|\+=|-=)/.exec(t);if(!e)return t;var n=W(t)||0,i=parseFloat(r),o=parseFloat(t.replace(e[0],""));switch(e[0][0]){case"+":return i+o+n;case"-":return i-o+n;case"*":return i*o+n}}function zt(t,r){if(g.col(t))return Ln(t);if(/\s/g.test(t))return t;var e=W(t),n=e?t.substr(0,t.length-e.length):t;return r?n+r:n}function Ke(t,r){return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))}function _n(t){return Math.PI*2*V(t,"r")}function Cn(t){return V(t,"width")*2+V(t,"height")*2}function Rn(t){return Ke({x:V(t,"x1"),y:V(t,"y1")},{x:V(t,"x2"),y:V(t,"y2")})}function Nt(t){for(var r=t.points,e=0,n,i=0;i<r.numberOfItems;i++){var o=r.getItem(i);i>0&&(e+=Ke(n,o)),n=o}return e}function Dn(t){var r=t.points;return Nt(t)+Ke(r.getItem(r.numberOfItems-1),r.getItem(0))}function Wt(t){if(t.getTotalLength)return t.getTotalLength();switch(t.tagName.toLowerCase()){case"circle":return _n(t);case"rect":return Cn(t);case"line":return Rn(t);case"polyline":return Nt(t);case"polygon":return Dn(t)}}function Bn(t){var r=Wt(t);return t.setAttribute("stroke-dasharray",r),r}function Fn(t){for(var r=t.parentNode;g.svg(r)&&g.svg(r.parentNode);)r=r.parentNode;return r}function Yt(t,r){var e=r||{},n=e.el||Fn(t),i=n.getBoundingClientRect(),o=V(n,"viewBox"),a=i.width,u=i.height,s=e.viewBox||(o?o.split(" "):[0,0,a,u]);return{el:n,viewBox:s,x:s[0]/1,y:s[1]/1,w:a,h:u,vW:s[2],vH:s[3]}}function qn(t,r){var e=g.str(t)?qt(t)[0]:t,n=r||100;return function(i){return{property:i,el:e,svg:Yt(e),totalLength:Wt(e)*(n/100)}}}function Un(t,r,e){function n(l){l===void 0&&(l=0);var h=r+l>=1?r+l:0;return t.el.getPointAtLength(h)}var i=Yt(t.el,t.svg),o=n(),a=n(-1),u=n(1),s=e?1:i.w/i.vW,c=e?1:i.h/i.vH;switch(t.property){case"x":return(o.x-i.x)*s;case"y":return(o.y-i.y)*c;case"angle":return Math.atan2(u.y-a.y,u.x-a.x)*180/Math.PI}}function Kt(t,r){var e=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,n=zt(g.pth(t)?t.totalLength:t,r)+"";return{original:n,numbers:n.match(e)?n.match(e).map(Number):[0],strings:g.str(t)||r?n.split(e):[]}}function Qe(t){var r=t?Ee(g.arr(t)?t.map(Ut):Ut(t)):[];return xe(r,function(e,n,i){return i.indexOf(e)===n})}function Qt(t){var r=Qe(t);return r.map(function(e,n){return{target:e,id:n,total:r.length,transforms:{list:Vt(e)}}})}function Hn(t,r){var e=Ue(r);if(/^spring/.test(e.easing)&&(e.duration=Bt(e.easing)),g.arr(t)){var n=t.length,i=n===2&&!g.obj(t[0]);i?t={value:t}:g.fnc(r.duration)||(e.duration=r.duration/n)}var o=g.arr(t)?t:[t];return o.map(function(a,u){var s=g.obj(a)&&!g.pth(a)?a:{value:a};return g.und(s.delay)&&(s.delay=u?0:r.delay),g.und(s.endDelay)&&(s.endDelay=u===o.length-1?r.endDelay:0),s}).map(function(a){return Se(a,e)})}function Vn(t){for(var r=xe(Ee(t.map(function(o){return Object.keys(o)})),function(o){return g.key(o)}).reduce(function(o,a){return o.indexOf(a)<0&&o.push(a),o},[]),e={},n=function(o){var a=r[o];e[a]=t.map(function(u){var s={};for(var c in u)g.key(c)?c==a&&(s.value=u[c]):s[c]=u[c];return s})},i=0;i<r.length;i++)n(i);return e}function zn(t,r){var e=[],n=r.keyframes;n&&(r=Se(Vn(n),r));for(var i in r)g.key(i)&&e.push({name:i,tweens:Hn(r[i],t)});return e}function Nn(t,r){var e={};for(var n in t){var i=Ve(t[n],r);g.arr(i)&&(i=i.map(function(o){return Ve(o,r)}),i.length===1&&(i=i[0])),e[n]=i}return e.duration=parseFloat(e.duration),e.delay=parseFloat(e.delay),e}function Wn(t,r){var e;return t.tweens.map(function(n){var i=Nn(n,r),o=i.value,a=g.arr(o)?o[1]:o,u=W(a),s=We(r.target,t.name,u,r),c=e?e.to.original:s,l=g.arr(o)?o[0]:c,h=W(l)||W(s),f=u||h;return g.und(a)&&(a=c),i.from=Kt(l,f),i.to=Kt(Ye(a,l),f),i.start=e?e.end:0,i.end=i.start+i.delay+i.duration+i.endDelay,i.easing=Fe(i.easing,i.duration),i.isPath=g.pth(o),i.isPathTargetInsideSVG=i.isPath&&g.svg(r.target),i.isColor=g.col(i.from.original),i.isColor&&(i.round=1),e=i,i})}var Gt={css:function(t,r,e){return t.style[r]=e},attribute:function(t,r,e){return t.setAttribute(r,e)},object:function(t,r,e){return t[r]=e},transform:function(t,r,e,n,i){if(n.list.set(r,e),r===n.last||i){var o="";n.list.forEach(function(a,u){o+=u+"("+a+") "}),t.style.transform=o}}};function Zt(t,r){var e=Qt(t);e.forEach(function(n){for(var i in r){var o=Ve(r[i],n),a=n.target,u=W(o),s=We(a,i,u,n),c=u||W(s),l=Ye(zt(o,c),s),h=Ne(a,i);Gt[h](a,i,l,n.transforms,!0)}})}function Yn(t,r){var e=Ne(t.target,r.name);if(e){var n=Wn(r,t),i=n[n.length-1];return{type:e,property:r.name,animatable:t,tweens:n,duration:i.end,delay:n[0].delay,endDelay:i.endDelay}}}function Kn(t,r){return xe(Ee(t.map(function(e){return r.map(function(n){return Yn(e,n)})})),function(e){return!g.und(e)})}function Jt(t,r){var e=t.length,n=function(o){return o.timelineOffset?o.timelineOffset:0},i={};return i.duration=e?Math.max.apply(Math,t.map(function(o){return n(o)+o.duration})):r.duration,i.delay=e?Math.min.apply(Math,t.map(function(o){return n(o)+o.delay})):r.delay,i.endDelay=e?i.duration-Math.max.apply(Math,t.map(function(o){return n(o)+o.duration-o.endDelay})):r.endDelay,i}var Xt=0;function Qn(t){var r=He(Rt,t),e=He(De,t),n=zn(e,t),i=Qt(t.targets),o=Kn(i,n),a=Jt(o,e),u=Xt;return Xt++,Se(r,{id:u,children:[],animatables:i,animations:o,duration:a.duration,delay:a.delay,endDelay:a.endDelay})}var B=[],er=function(){var t;function r(){!t&&(!tr()||!A.suspendWhenDocumentHidden)&&B.length>0&&(t=requestAnimationFrame(e))}function e(i){for(var o=B.length,a=0;a<o;){var u=B[a];u.paused?(B.splice(a,1),o--):(u.tick(i),a++)}t=a>0?requestAnimationFrame(e):void 0}function n(){!A.suspendWhenDocumentHidden||(tr()?t=cancelAnimationFrame(t):(B.forEach(function(i){return i._onDocumentVisibility()}),er()))}return typeof document!="undefined"&&document.addEventListener("visibilitychange",n),r}();function tr(){return!!document&&document.hidden}function A(t){t===void 0&&(t={});var r=0,e=0,n=0,i,o=0,a=null;function u(m){var y=window.Promise&&new Promise(function(E){return a=E});return m.finished=y,y}var s=Qn(t);u(s);function c(){var m=s.direction;m!=="alternate"&&(s.direction=m!=="normal"?"normal":"reverse"),s.reversed=!s.reversed,i.forEach(function(y){return y.reversed=s.reversed})}function l(m){return s.reversed?s.duration-m:m}function h(){r=0,e=l(s.currentTime)*(1/A.speed)}function f(m,y){y&&y.seek(m-y.timelineOffset)}function d(m){if(s.reversePlayback)for(var E=o;E--;)f(m,i[E]);else for(var y=0;y<o;y++)f(m,i[y])}function p(m){for(var y=0,E=s.animations,S=E.length;y<S;){var x=E[y],F=x.animatable,_=x.tweens,C=_.length-1,T=_[C];C&&(T=xe(_,function(Oi){return m<Oi.end})[0]||T);for(var se=H(m-T.start-T.delay,0,T.duration)/T.duration,Te=isNaN(se)?1:T.easing(se),q=T.to.strings,nt=T.round,it=[],Ii=T.to.numbers.length,ue=void 0,he=0;he<Ii;he++){var de=void 0,br=T.to.numbers[he],wr=T.from.numbers[he]||0;T.isPath?de=Un(T.value,Te*br,T.isPathTargetInsideSVG):de=wr+Te*(br-wr),nt&&(T.isColor&&he>2||(de=Math.round(de*nt)/nt)),it.push(de)}var xr=q.length;if(!xr)ue=it[0];else{ue=q[0];for(var ve=0;ve<xr;ve++){q[ve];var Er=q[ve+1],ot=it[ve];isNaN(ot)||(Er?ue+=ot+Er:ue+=ot+" ")}}Gt[x.type](F.target,x.property,ue,F.transforms),x.currentValue=ue,y++}}function v(m){s[m]&&!s.passThrough&&s[m](s)}function w(){s.remaining&&s.remaining!==!0&&s.remaining--}function b(m){var y=s.duration,E=s.delay,S=y-s.endDelay,x=l(m);s.progress=H(x/y*100,0,100),s.reversePlayback=x<s.currentTime,i&&d(x),!s.began&&s.currentTime>0&&(s.began=!0,v("begin")),!s.loopBegan&&s.currentTime>0&&(s.loopBegan=!0,v("loopBegin")),x<=E&&s.currentTime!==0&&p(0),(x>=S&&s.currentTime!==y||!y)&&p(y),x>E&&x<S?(s.changeBegan||(s.changeBegan=!0,s.changeCompleted=!1,v("changeBegin")),v("change"),p(x)):s.changeBegan&&(s.changeCompleted=!0,s.changeBegan=!1,v("changeComplete")),s.currentTime=H(x,0,y),s.began&&v("update"),m>=y&&(e=0,w(),s.remaining?(r=n,v("loopComplete"),s.loopBegan=!1,s.direction==="alternate"&&c()):(s.paused=!0,s.completed||(s.completed=!0,v("loopComplete"),v("complete"),!s.passThrough&&"Promise"in window&&(a(),u(s)))))}return s.reset=function(){var m=s.direction;s.passThrough=!1,s.currentTime=0,s.progress=0,s.paused=!0,s.began=!1,s.loopBegan=!1,s.changeBegan=!1,s.completed=!1,s.changeCompleted=!1,s.reversePlayback=!1,s.reversed=m==="reverse",s.remaining=s.loop,i=s.children,o=i.length;for(var y=o;y--;)s.children[y].reset();(s.reversed&&s.loop!==!0||m==="alternate"&&s.loop===1)&&s.remaining++,p(s.reversed?s.duration:0)},s._onDocumentVisibility=h,s.set=function(m,y){return Zt(m,y),s},s.tick=function(m){n=m,r||(r=n),b((n+(e-r))*A.speed)},s.seek=function(m){b(l(m))},s.pause=function(){s.paused=!0,h()},s.play=function(){!s.paused||(s.completed&&s.reset(),s.paused=!1,B.push(s),h(),er())},s.reverse=function(){c(),s.completed=!s.reversed,h()},s.restart=function(){s.reset(),s.play()},s.remove=function(m){var y=Qe(m);nr(y,s)},s.reset(),s.autoplay&&s.play(),s}function rr(t,r){for(var e=r.length;e--;)qe(t,r[e].animatable.target)&&r.splice(e,1)}function nr(t,r){var e=r.animations,n=r.children;rr(t,e);for(var i=n.length;i--;){var o=n[i],a=o.animations;rr(t,a),!a.length&&!o.children.length&&n.splice(i,1)}!e.length&&!n.length&&r.pause()}function Gn(t){for(var r=Qe(t),e=B.length;e--;){var n=B[e];nr(r,n)}}function Zn(t,r){r===void 0&&(r={});var e=r.direction||"normal",n=r.easing?Fe(r.easing):null,i=r.grid,o=r.axis,a=r.from||0,u=a==="first",s=a==="center",c=a==="last",l=g.arr(t),h=parseFloat(l?t[0]:t),f=l?parseFloat(t[1]):0,d=W(l?t[1]:t)||0,p=r.start||0+(l?h:0),v=[],w=0;return function(b,m,y){if(u&&(a=0),s&&(a=(y-1)/2),c&&(a=y-1),!v.length){for(var E=0;E<y;E++){if(!i)v.push(Math.abs(a-E));else{var S=s?(i[0]-1)/2:a%i[0],x=s?(i[1]-1)/2:Math.floor(a/i[0]),F=E%i[0],_=Math.floor(E/i[0]),C=S-F,T=x-_,se=Math.sqrt(C*C+T*T);o==="x"&&(se=-C),o==="y"&&(se=-T),v.push(se)}w=Math.max.apply(Math,v)}n&&(v=v.map(function(q){return n(q/w)*w})),e==="reverse"&&(v=v.map(function(q){return o?q<0?q*-1:-q:Math.abs(w-q)}))}var Te=l?(f-h)/w:h;return p+Te*(Math.round(v[m]*100)/100)+d}}function Jn(t){t===void 0&&(t={});var r=A(t);return r.duration=0,r.add=function(e,n){var i=B.indexOf(r),o=r.children;i>-1&&B.splice(i,1);function a(f){f.passThrough=!0}for(var u=0;u<o.length;u++)a(o[u]);var s=Se(e,He(De,t));s.targets=s.targets||t.targets;var c=r.duration;s.autoplay=!1,s.direction=r.direction,s.timelineOffset=g.und(n)?c:Ye(n,c),a(r),r.seek(s.timelineOffset);var l=A(s);a(l),o.push(l);var h=Jt(o,t);return r.delay=h.delay,r.endDelay=h.endDelay,r.duration=h.duration,r.seek(0),r.reset(),r.autoplay&&r.play(),r},r}A.version="3.2.1",A.speed=1,A.suspendWhenDocumentHidden=!0,A.running=B,A.remove=Gn,A.get=We,A.set=Zt,A.convertPx=ze,A.path=qn,A.setDashoffset=Bn,A.stagger=Zn,A.timeline=Jn,A.easing=Fe,A.penner=Ft,A.random=function(t,r){return Math.floor(Math.random()*(r-t+1))+t};function ir(t,r){for(var e=0;e<r.length;e++){var n=r[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Ge(t,r,e){return r&&ir(t.prototype,r),e&&ir(t,e),t}function J(){return(J=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var e=arguments[r];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t}).apply(this,arguments)}function Pe(t,r){t.prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r}function or(t){return(or=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)})(t)}function Ze(t,r){return(Ze=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(t,r)}function ar(t,r,e){return(ar=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}()?Reflect.construct:function(n,i,o){var a=[null];a.push.apply(a,i);var u=new(Function.bind.apply(n,a));return o&&Ze(u,o.prototype),u}).apply(null,arguments)}function sr(t){var r=typeof Map=="function"?new Map:void 0;return(sr=function(e){if(e===null||Function.toString.call(e).indexOf("[native code]")===-1)return e;if(typeof e!="function")throw new TypeError("Super expression must either be null or a function");if(r!==void 0){if(r.has(e))return r.get(e);r.set(e,n)}function n(){return ar(e,arguments,or(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Ze(n,e)})(t)}function ie(t,r){try{var e=t()}catch(n){return r(n)}return e&&e.then?e.then(void 0,r):e}typeof Symbol!="undefined"&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),typeof Symbol!="undefined"&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));var Q,Xn="2.9.7",ei=function(){};(function(t){t[t.off=0]="off",t[t.error=1]="error",t[t.warning=2]="warning",t[t.info=3]="info",t[t.debug=4]="debug"})(Q||(Q={}));var ur=Q.off,X=function(){function t(e){this.t=e}t.getLevel=function(){return ur},t.setLevel=function(e){return ur=Q[e]};var r=t.prototype;return r.error=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];this.i(console.error,Q.error,n)},r.warn=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];this.i(console.warn,Q.warning,n)},r.info=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];this.i(console.info,Q.info,n)},r.debug=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];this.i(console.log,Q.debug,n)},r.i=function(e,n,i){n<=t.getLevel()&&e.apply(console,["["+this.t+"] "].concat(i))},t}(),ee=et,ti=lr,ri=Je,ni=fr,ii=hr,cr="/",oi=new RegExp(["(\\\\.)","(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?"].join("|"),"g");function Je(t,r){for(var e,n=[],i=0,o=0,a="",u=r&&r.delimiter||cr,s=r&&r.whitelist||void 0,c=!1;(e=oi.exec(t))!==null;){var l=e[0],h=e[1],f=e.index;if(a+=t.slice(o,f),o=f+l.length,h)a+=h[1],c=!0;else{var d="",p=e[2],v=e[3],w=e[4],b=e[5];if(!c&&a.length){var m=a.length-1,y=a[m];(!s||s.indexOf(y)>-1)&&(d=y,a=a.slice(0,m))}a&&(n.push(a),a="",c=!1);var E=v||w,S=d||u;n.push({name:p||i++,prefix:d,delimiter:S,optional:b==="?"||b==="*",repeat:b==="+"||b==="*",pattern:E?ai(E):"[^"+Y(S===u?S:S+u)+"]+?"})}}return(a||o<t.length)&&n.push(a+t.substr(o)),n}function lr(t,r){return function(e,n){var i=t.exec(e);if(!i)return!1;for(var o=i[0],a=i.index,u={},s=n&&n.decode||decodeURIComponent,c=1;c<i.length;c++)if(i[c]!==void 0){var l=r[c-1];u[l.name]=l.repeat?i[c].split(l.delimiter).map(function(h){return s(h,l)}):s(i[c],l)}return{path:o,index:a,params:u}}}function fr(t,r){for(var e=new Array(t.length),n=0;n<t.length;n++)typeof t[n]=="object"&&(e[n]=new RegExp("^(?:"+t[n].pattern+")$",Xe(r)));return function(i,o){for(var a="",u=o&&o.encode||encodeURIComponent,s=!o||o.validate!==!1,c=0;c<t.length;c++){var l=t[c];if(typeof l!="string"){var h,f=i?i[l.name]:void 0;if(Array.isArray(f)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but got array');if(f.length===0){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var d=0;d<f.length;d++){if(h=u(f[d],l),s&&!e[c].test(h))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'"');a+=(d===0?l.prefix:l.delimiter)+h}}else if(typeof f!="string"&&typeof f!="number"&&typeof f!="boolean"){if(!l.optional)throw new TypeError('Expected "'+l.name+'" to be '+(l.repeat?"an array":"a string"))}else{if(h=u(String(f),l),s&&!e[c].test(h))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but got "'+h+'"');a+=l.prefix+h}}else a+=l}return a}}function Y(t){return t.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function ai(t){return t.replace(/([=!:$/()])/g,"\\$1")}function Xe(t){return t&&t.sensitive?"":"i"}function hr(t,r,e){for(var n=(e=e||{}).strict,i=e.start!==!1,o=e.end!==!1,a=e.delimiter||cr,u=[].concat(e.endsWith||[]).map(Y).concat("$").join("|"),s=i?"^":"",c=0;c<t.length;c++){var l=t[c];if(typeof l=="string")s+=Y(l);else{var h=l.repeat?"(?:"+l.pattern+")(?:"+Y(l.delimiter)+"(?:"+l.pattern+"))*":l.pattern;r&&r.push(l),s+=l.optional?l.prefix?"(?:"+Y(l.prefix)+"("+h+"))?":"("+h+")?":Y(l.prefix)+"("+h+")"}}if(o)n||(s+="(?:"+Y(a)+")?"),s+=u==="$"?"$":"(?="+u+")";else{var f=t[t.length-1],d=typeof f=="string"?f[f.length-1]===a:f===void 0;n||(s+="(?:"+Y(a)+"(?="+u+"))?"),d||(s+="(?="+Y(a)+"|"+u+")")}return new RegExp(s,Xe(e))}function et(t,r,e){return t instanceof RegExp?function(n,i){if(!i)return n;var o=n.source.match(/\((?!\?)/g);if(o)for(var a=0;a<o.length;a++)i.push({name:a,prefix:null,delimiter:null,optional:!1,repeat:!1,pattern:null});return n}(t,r):Array.isArray(t)?function(n,i,o){for(var a=[],u=0;u<n.length;u++)a.push(et(n[u],i,o).source);return new RegExp("(?:"+a.join("|")+")",Xe(o))}(t,r,e):function(n,i,o){return hr(Je(n,o),i,o)}(t,r,e)}ee.match=function(t,r){var e=[];return lr(et(t,e,r),e)},ee.regexpToFunction=ti,ee.parse=ri,ee.compile=function(t,r){return fr(Je(t,r),r)},ee.tokensToFunction=ni,ee.tokensToRegExp=ii;var z={container:"container",history:"history",namespace:"namespace",prefix:"data-barba",prevent:"prevent",wrapper:"wrapper"},te=new(function(){function t(){this.o=z,this.u=new DOMParser}var r=t.prototype;return r.toString=function(e){return e.outerHTML},r.toDocument=function(e){return this.u.parseFromString(e,"text/html")},r.toElement=function(e){var n=document.createElement("div");return n.innerHTML=e,n},r.getHtml=function(e){return e===void 0&&(e=document),this.toString(e.documentElement)},r.getWrapper=function(e){return e===void 0&&(e=document),e.querySelector("["+this.o.prefix+'="'+this.o.wrapper+'"]')},r.getContainer=function(e){return e===void 0&&(e=document),e.querySelector("["+this.o.prefix+'="'+this.o.container+'"]')},r.removeContainer=function(e){document.body.contains(e)&&e.parentNode.removeChild(e)},r.addContainer=function(e,n){var i=this.getContainer();i?this.s(e,i):n.appendChild(e)},r.getNamespace=function(e){e===void 0&&(e=document);var n=e.querySelector("["+this.o.prefix+"-"+this.o.namespace+"]");return n?n.getAttribute(this.o.prefix+"-"+this.o.namespace):null},r.getHref=function(e){if(e.tagName&&e.tagName.toLowerCase()==="a"){if(typeof e.href=="string")return e.href;var n=e.getAttribute("href")||e.getAttribute("xlink:href");if(n)return this.resolveUrl(n.baseVal||n)}return null},r.resolveUrl=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var o=n.length;if(o===0)throw new Error("resolveUrl requires at least one argument; got none.");var a=document.createElement("base");if(a.href=arguments[0],o===1)return a.href;var u=document.getElementsByTagName("head")[0];u.insertBefore(a,u.firstChild);for(var s,c=document.createElement("a"),l=1;l<o;l++)c.href=arguments[l],a.href=s=c.href;return u.removeChild(a),s},r.s=function(e,n){n.parentNode.insertBefore(e,n.nextSibling)},t}()),dr=new(function(){function t(){this.h=[],this.v=-1}var r=t.prototype;return r.init=function(e,n){this.l="barba";var i={ns:n,scroll:{x:window.scrollX,y:window.scrollY},url:e};this.h.push(i),this.v=0;var o={from:this.l,index:0,states:[].concat(this.h)};window.history&&window.history.replaceState(o,"",e)},r.change=function(e,n,i){if(i&&i.state){var o=i.state,a=o.index;n=this.m(this.v-a),this.replace(o.states),this.v=a}else this.add(e,n);return n},r.add=function(e,n){var i=this.size,o=this.p(n),a={ns:"tmp",scroll:{x:window.scrollX,y:window.scrollY},url:e};this.h.push(a),this.v=i;var u={from:this.l,index:i,states:[].concat(this.h)};switch(o){case"push":window.history&&window.history.pushState(u,"",e);break;case"replace":window.history&&window.history.replaceState(u,"",e)}},r.update=function(e,n){var i=n||this.v,o=J({},this.get(i),{},e);this.set(i,o)},r.remove=function(e){e?this.h.splice(e,1):this.h.pop(),this.v--},r.clear=function(){this.h=[],this.v=-1},r.replace=function(e){this.h=e},r.get=function(e){return this.h[e]},r.set=function(e,n){return this.h[e]=n},r.p=function(e){var n="push",i=e,o=z.prefix+"-"+z.history;return i.hasAttribute&&i.hasAttribute(o)&&(n=i.getAttribute(o)),n},r.m=function(e){return Math.abs(e)>1?e>0?"forward":"back":e===0?"popstate":e>0?"back":"forward"},Ge(t,[{key:"current",get:function(){return this.h[this.v]}},{key:"state",get:function(){return this.h[this.h.length-1]}},{key:"previous",get:function(){return this.v<1?null:this.h[this.v-1]}},{key:"size",get:function(){return this.h.length}}]),t}()),ke=function(t,r){try{var e=function(){if(!r.next.html)return Promise.resolve(t).then(function(n){var i=r.next;if(n){var o=te.toElement(n);i.namespace=te.getNamespace(o),i.container=te.getContainer(o),i.html=n,dr.update({ns:i.namespace});var a=te.toDocument(n);document.title=a.title}})}();return Promise.resolve(e&&e.then?e.then(function(){}):void 0)}catch(n){return Promise.reject(n)}},vr=ee,si={__proto__:null,update:ke,nextTick:function(){return new Promise(function(t){window.requestAnimationFrame(t)})},pathToRegexp:vr},pr=function(){return window.location.origin},fe=function(t){return t===void 0&&(t=window.location.href),Ae(t).port},Ae=function(t){var r,e=t.match(/:\d+/);if(e===null)/^http/.test(t)&&(r=80),/^https/.test(t)&&(r=443);else{var n=e[0].substring(1);r=parseInt(n,10)}var i,o=t.replace(pr(),""),a={},u=o.indexOf("#");u>=0&&(i=o.slice(u+1),o=o.slice(0,u));var s=o.indexOf("?");return s>=0&&(a=mr(o.slice(s+1)),o=o.slice(0,s)),{hash:i,path:o,port:r,query:a}},mr=function(t){return t.split("&").reduce(function(r,e){var n=e.split("=");return r[n[0]]=n[1],r},{})},tt=function(t){return t===void 0&&(t=window.location.href),t.replace(/(\/#.*|\/|#.*)$/,"")},ui={__proto__:null,getHref:function(){return window.location.href},getOrigin:pr,getPort:fe,getPath:function(t){return t===void 0&&(t=window.location.href),Ae(t).path},parse:Ae,parseQuery:mr,clean:tt};function ci(t,r,e){return r===void 0&&(r=2e3),new Promise(function(n,i){var o=new XMLHttpRequest;o.onreadystatechange=function(){if(o.readyState===XMLHttpRequest.DONE){if(o.status===200)n(o.responseText);else if(o.status){var a={status:o.status,statusText:o.statusText};e(t,a),i(a)}}},o.ontimeout=function(){var a=new Error("Timeout error ["+r+"]");e(t,a),i(a)},o.onerror=function(){var a=new Error("Fetch error");e(t,a),i(a)},o.open("GET",t),o.timeout=r,o.setRequestHeader("Accept","text/html,application/xhtml+xml,application/xml"),o.setRequestHeader("x-barba","yes"),o.send()})}var li=function(t){return!!t&&(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"};function oe(t,r){return r===void 0&&(r={}),function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var o=!1,a=new Promise(function(u,s){r.async=function(){return o=!0,function(l,h){l?s(l):u(h)}};var c=t.apply(r,n);o||(li(c)?c.then(u,s):u(c))});return a}}var G=new(function(t){function r(){var n;return(n=t.call(this)||this).logger=new X("@barba/core"),n.all=["ready","page","reset","currentAdded","currentRemoved","nextAdded","nextRemoved","beforeOnce","once","afterOnce","before","beforeLeave","leave","afterLeave","beforeEnter","enter","afterEnter","after"],n.registered=new Map,n.init(),n}Pe(r,t);var e=r.prototype;return e.init=function(){var n=this;this.registered.clear(),this.all.forEach(function(i){n[i]||(n[i]=function(o,a){n.registered.has(i)||n.registered.set(i,new Set),n.registered.get(i).add({ctx:a||{},fn:o})})})},e.do=function(n){for(var i=this,o=arguments.length,a=new Array(o>1?o-1:0),u=1;u<o;u++)a[u-1]=arguments[u];if(this.registered.has(n)){var s=Promise.resolve();return this.registered.get(n).forEach(function(c){s=s.then(function(){return oe(c.fn,c.ctx).apply(void 0,a)})}),s.catch(function(c){i.logger.debug("Hook error ["+n+"]"),i.logger.error(c)})}return Promise.resolve()},e.clear=function(){var n=this;this.all.forEach(function(i){delete n[i]}),this.init()},e.help=function(){this.logger.info("Available hooks: "+this.all.join(","));var n=[];this.registered.forEach(function(i,o){return n.push(o)}),this.logger.info("Registered hooks: "+n.join(","))},r}(ei)),gr=function(){function t(r){if(this.P=[],typeof r=="boolean")this.g=r;else{var e=Array.isArray(r)?r:[r];this.P=e.map(function(n){return vr(n)})}}return t.prototype.checkHref=function(r){if(typeof this.g=="boolean")return this.g;var e=Ae(r).path;return this.P.some(function(n){return n.exec(e)!==null})},t}(),fi=function(t){function r(n){var i;return(i=t.call(this,n)||this).k=new Map,i}Pe(r,t);var e=r.prototype;return e.set=function(n,i,o){return this.k.set(n,{action:o,request:i}),{action:o,request:i}},e.get=function(n){return this.k.get(n)},e.getRequest=function(n){return this.k.get(n).request},e.getAction=function(n){return this.k.get(n).action},e.has=function(n){return!this.checkHref(n)&&this.k.has(n)},e.delete=function(n){return this.k.delete(n)},e.update=function(n,i){var o=J({},this.k.get(n),{},i);return this.k.set(n,o),o},r}(gr),hi=function(){return!window.history.pushState},di=function(t){return!t.el||!t.href},vi=function(t){var r=t.event;return r.which>1||r.metaKey||r.ctrlKey||r.shiftKey||r.altKey},pi=function(t){var r=t.el;return r.hasAttribute("target")&&r.target==="_blank"},mi=function(t){var r=t.el;return r.protocol!==void 0&&window.location.protocol!==r.protocol||r.hostname!==void 0&&window.location.hostname!==r.hostname},gi=function(t){var r=t.el;return r.port!==void 0&&fe()!==fe(r.href)},yi=function(t){var r=t.el;return r.getAttribute&&typeof r.getAttribute("download")=="string"},bi=function(t){return t.el.hasAttribute(z.prefix+"-"+z.prevent)},wi=function(t){return Boolean(t.el.closest("["+z.prefix+"-"+z.prevent+'="all"]'))},xi=function(t){var r=t.href;return tt(r)===tt()&&fe(r)===fe()},Ei=function(t){function r(n){var i;return(i=t.call(this,n)||this).suite=[],i.tests=new Map,i.init(),i}Pe(r,t);var e=r.prototype;return e.init=function(){this.add("pushState",hi),this.add("exists",di),this.add("newTab",vi),this.add("blank",pi),this.add("corsDomain",mi),this.add("corsPort",gi),this.add("download",yi),this.add("preventSelf",bi),this.add("preventAll",wi),this.add("sameUrl",xi,!1)},e.add=function(n,i,o){o===void 0&&(o=!0),this.tests.set(n,i),o&&this.suite.push(n)},e.run=function(n,i,o,a){return this.tests.get(n)({el:i,event:o,href:a})},e.checkLink=function(n,i,o){var a=this;return this.suite.some(function(u){return a.run(u,n,i,o)})},r}(gr),rt=function(t){function r(e,n){var i;n===void 0&&(n="Barba error");for(var o=arguments.length,a=new Array(o>2?o-2:0),u=2;u<o;u++)a[u-2]=arguments[u];return(i=t.call.apply(t,[this].concat(a))||this).error=e,i.label=n,Error.captureStackTrace&&Error.captureStackTrace(function(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}(i),r),i.name="BarbaError",i}return Pe(r,t),r}(sr(Error)),Si=function(){function t(e){e===void 0&&(e=[]),this.logger=new X("@barba/core"),this.all=[],this.page=[],this.once=[],this.A=[{name:"namespace",type:"strings"},{name:"custom",type:"function"}],e&&(this.all=this.all.concat(e)),this.update()}var r=t.prototype;return r.add=function(e,n){switch(e){case"rule":this.A.splice(n.position||0,0,n.value);break;case"transition":default:this.all.push(n)}this.update()},r.resolve=function(e,n){var i=this;n===void 0&&(n={});var o=n.once?this.once:this.page;o=o.filter(n.self?function(f){return f.name&&f.name==="self"}:function(f){return!f.name||f.name!=="self"});var a=new Map,u=o.find(function(f){var d=!0,p={};return!(!n.self||f.name!=="self")||(i.A.reverse().forEach(function(v){d&&(d=i.R(f,v,e,p),f.from&&f.to&&(d=i.R(f,v,e,p,"from")&&i.R(f,v,e,p,"to")),f.from&&!f.to&&(d=i.R(f,v,e,p,"from")),!f.from&&f.to&&(d=i.R(f,v,e,p,"to")))}),a.set(f,p),d)}),s=a.get(u),c=[];if(c.push(n.once?"once":"page"),n.self&&c.push("self"),s){var l,h=[u];Object.keys(s).length>0&&h.push(s),(l=this.logger).info.apply(l,["Transition found ["+c.join(",")+"]"].concat(h))}else this.logger.info("No transition found ["+c.join(",")+"]");return u},r.update=function(){var e=this;this.all=this.all.map(function(n){return e.T(n)}).sort(function(n,i){return n.priority-i.priority}).reverse().map(function(n){return delete n.priority,n}),this.page=this.all.filter(function(n){return n.leave!==void 0||n.enter!==void 0}),this.once=this.all.filter(function(n){return n.once!==void 0})},r.R=function(e,n,i,o,a){var u=!0,s=!1,c=e,l=n.name,h=l,f=l,d=l,p=a?c[a]:c,v=a==="to"?i.next:i.current;if(a?p&&p[l]:p[l]){switch(n.type){case"strings":default:var w=Array.isArray(p[h])?p[h]:[p[h]];v[h]&&w.indexOf(v[h])!==-1&&(s=!0),w.indexOf(v[h])===-1&&(u=!1);break;case"object":var b=Array.isArray(p[f])?p[f]:[p[f]];v[f]?(v[f].name&&b.indexOf(v[f].name)!==-1&&(s=!0),b.indexOf(v[f].name)===-1&&(u=!1)):u=!1;break;case"function":p[d](i)?s=!0:u=!1}s&&(a?(o[a]=o[a]||{},o[a][l]=c[a][l]):o[l]=c[l])}return u},r.O=function(e,n,i){var o=0;return(e[n]||e.from&&e.from[n]||e.to&&e.to[n])&&(o+=Math.pow(10,i),e.from&&e.from[n]&&(o+=1),e.to&&e.to[n]&&(o+=2)),o},r.T=function(e){var n=this;e.priority=0;var i=0;return this.A.forEach(function(o,a){i+=n.O(e,o.name,a+1)}),e.priority=i,e},t}(),Pi=function(){function t(e){e===void 0&&(e=[]),this.logger=new X("@barba/core"),this.S=!1,this.store=new Si(e)}var r=t.prototype;return r.get=function(e,n){return this.store.resolve(e,n)},r.doOnce=function(e){var n=e.data,i=e.transition;try{var o=function(){a.S=!1},a=this,u=i||{};a.S=!0;var s=ie(function(){return Promise.resolve(a.j("beforeOnce",n,u)).then(function(){return Promise.resolve(a.once(n,u)).then(function(){return Promise.resolve(a.j("afterOnce",n,u)).then(function(){})})})},function(c){a.S=!1,a.logger.debug("Transition error [before/after/once]"),a.logger.error(c)});return Promise.resolve(s&&s.then?s.then(o):o())}catch(c){return Promise.reject(c)}},r.doPage=function(e){var n=e.data,i=e.transition,o=e.page,a=e.wrapper;try{var u=function(d){if(s)return d;c.S=!1},s=!1,c=this,l=i||{},h=l.sync===!0||!1;c.S=!0;var f=ie(function(){function d(){return Promise.resolve(c.j("before",n,l)).then(function(){var v=!1;function w(m){return v?m:Promise.resolve(c.remove(n)).then(function(){return Promise.resolve(c.j("after",n,l)).then(function(){})})}var b=function(){if(h)return ie(function(){return Promise.resolve(c.add(n,a)).then(function(){return Promise.resolve(c.j("beforeLeave",n,l)).then(function(){return Promise.resolve(c.j("beforeEnter",n,l)).then(function(){return Promise.resolve(Promise.all([c.leave(n,l),c.enter(n,l)])).then(function(){return Promise.resolve(c.j("afterLeave",n,l)).then(function(){return Promise.resolve(c.j("afterEnter",n,l)).then(function(){})})})})})})},function(S){if(c.M(S))throw new rt(S,"Transition error [sync]")});var m=function(S){return v?S:ie(function(){var x=function(){if(y!==!1)return Promise.resolve(c.add(n,a)).then(function(){return Promise.resolve(c.j("beforeEnter",n,l)).then(function(){return Promise.resolve(c.enter(n,l,y)).then(function(){return Promise.resolve(c.j("afterEnter",n,l)).then(function(){})})})})}();if(x&&x.then)return x.then(function(){})},function(x){if(c.M(x))throw new rt(x,"Transition error [before/after/enter]")})},y=!1,E=ie(function(){return Promise.resolve(c.j("beforeLeave",n,l)).then(function(){return Promise.resolve(Promise.all([c.leave(n,l),ke(o,n)]).then(function(S){return S[0]})).then(function(S){return y=S,Promise.resolve(c.j("afterLeave",n,l)).then(function(){})})})},function(S){if(c.M(S))throw new rt(S,"Transition error [before/after/leave]")});return E&&E.then?E.then(m):m(E)}();return b&&b.then?b.then(w):w(b)})}var p=function(){if(h)return Promise.resolve(ke(o,n)).then(function(){})}();return p&&p.then?p.then(d):d()},function(d){throw c.S=!1,d.name&&d.name==="BarbaError"?(c.logger.debug(d.label),c.logger.error(d.error),d):(c.logger.debug("Transition error [page]"),c.logger.error(d),d)});return Promise.resolve(f&&f.then?f.then(u):u(f))}catch(d){return Promise.reject(d)}},r.once=function(e,n){try{return Promise.resolve(G.do("once",e,n)).then(function(){return n.once?oe(n.once,n)(e):Promise.resolve()})}catch(i){return Promise.reject(i)}},r.leave=function(e,n){try{return Promise.resolve(G.do("leave",e,n)).then(function(){return n.leave?oe(n.leave,n)(e):Promise.resolve()})}catch(i){return Promise.reject(i)}},r.enter=function(e,n,i){try{return Promise.resolve(G.do("enter",e,n)).then(function(){return n.enter?oe(n.enter,n)(e,i):Promise.resolve()})}catch(o){return Promise.reject(o)}},r.add=function(e,n){try{return te.addContainer(e.next.container,n),G.do("nextAdded",e),Promise.resolve()}catch(i){return Promise.reject(i)}},r.remove=function(e){try{return te.removeContainer(e.current.container),G.do("currentRemoved",e),Promise.resolve()}catch(n){return Promise.reject(n)}},r.M=function(e){return e.message?!/Timeout error|Fetch error/.test(e.message):!e.status},r.j=function(e,n,i){try{return Promise.resolve(G.do(e,n,i)).then(function(){return i[e]?oe(i[e],i)(n):Promise.resolve()})}catch(o){return Promise.reject(o)}},Ge(t,[{key:"isRunning",get:function(){return this.S},set:function(e){this.S=e}},{key:"hasOnce",get:function(){return this.store.once.length>0}},{key:"hasSelf",get:function(){return this.store.all.some(function(e){return e.name==="self"})}},{key:"shouldWait",get:function(){return this.store.all.some(function(e){return e.to&&!e.to.route||e.sync})}}]),t}(),ki=function(){function t(r){var e=this;this.names=["beforeLeave","afterLeave","beforeEnter","afterEnter"],this.byNamespace=new Map,r.length!==0&&(r.forEach(function(n){e.byNamespace.set(n.namespace,n)}),this.names.forEach(function(n){G[n](e.L(n))}))}return t.prototype.L=function(r){var e=this;return function(n){var i=r.match(/enter/i)?n.next:n.current,o=e.byNamespace.get(i.namespace);return o&&o[r]?oe(o[r],o)(n):Promise.resolve()}},t}();Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(t){var r=this;do{if(r.matches(t))return r;r=r.parentElement||r.parentNode}while(r!==null&&r.nodeType===1);return null});var Ai={container:null,html:"",namespace:"",url:{hash:"",href:"",path:"",port:null,query:{}}},yr=new(function(){function t(){this.version=Xn,this.schemaPage=Ai,this.Logger=X,this.logger=new X("@barba/core"),this.plugins=[],this.hooks=G,this.dom=te,this.helpers=si,this.history=dr,this.request=ci,this.url=ui}var r=t.prototype;return r.use=function(e,n){var i=this.plugins;i.indexOf(e)>-1?this.logger.warn("Plugin ["+e.name+"] already installed."):typeof e.install=="function"?(e.install(this,n),i.push(e)):this.logger.warn("Plugin ["+e.name+'] has no "install" method.')},r.init=function(e){var n=e===void 0?{}:e,i=n.transitions,o=i===void 0?[]:i,a=n.views,u=a===void 0?[]:a,s=n.schema,c=s===void 0?z:s,l=n.requestError,h=n.timeout,f=h===void 0?2e3:h,d=n.cacheIgnore,p=d!==void 0&&d,v=n.prefetchIgnore,w=v!==void 0&&v,b=n.preventRunning,m=b!==void 0&&b,y=n.prevent,E=y===void 0?null:y,S=n.debug,x=n.logLevel;if(X.setLevel((S!==void 0&&S)===!0?"debug":x===void 0?"off":x),this.logger.info(this.version),Object.keys(c).forEach(function(C){z[C]&&(z[C]=c[C])}),this.$=l,this.timeout=f,this.cacheIgnore=p,this.prefetchIgnore=w,this.preventRunning=m,this._=this.dom.getWrapper(),!this._)throw new Error("[@barba/core] No Barba wrapper found");this._.setAttribute("aria-live","polite"),this.q();var F=this.data.current;if(!F.container)throw new Error("[@barba/core] No Barba container found");if(this.cache=new fi(p),this.prevent=new Ei(w),this.transitions=new Pi(o),this.views=new ki(u),E!==null){if(typeof E!="function")throw new Error("[@barba/core] Prevent should be a function");this.prevent.add("preventCustom",E)}this.history.init(F.url.href,F.namespace),this.B=this.B.bind(this),this.U=this.U.bind(this),this.D=this.D.bind(this),this.F(),this.plugins.forEach(function(C){return C.init()});var _=this.data;_.trigger="barba",_.next=_.current,_.current=J({},this.schemaPage),this.hooks.do("ready",_),this.once(_),this.q()},r.destroy=function(){this.q(),this.H(),this.history.clear(),this.hooks.clear(),this.plugins=[]},r.force=function(e){window.location.assign(e)},r.go=function(e,n,i){var o;if(n===void 0&&(n="barba"),this.transitions.isRunning)this.force(e);else if(!(o=n==="popstate"?this.history.current&&this.url.getPath(this.history.current.url)===this.url.getPath(e):this.prevent.run("sameUrl",null,null,e))||this.transitions.hasSelf)return n=this.history.change(e,n,i),i&&(i.stopPropagation(),i.preventDefault()),this.page(e,n,o)},r.once=function(e){try{var n=this;return Promise.resolve(n.hooks.do("beforeEnter",e)).then(function(){function i(){return Promise.resolve(n.hooks.do("afterEnter",e)).then(function(){})}var o=function(){if(n.transitions.hasOnce){var a=n.transitions.get(e,{once:!0});return Promise.resolve(n.transitions.doOnce({transition:a,data:e})).then(function(){})}}();return o&&o.then?o.then(i):i()})}catch(i){return Promise.reject(i)}},r.page=function(e,n,i){try{var o=function(){var c=a.data;return Promise.resolve(a.hooks.do("page",c)).then(function(){var l=ie(function(){var h=a.transitions.get(c,{once:!1,self:i});return Promise.resolve(a.transitions.doPage({data:c,page:u,transition:h,wrapper:a._})).then(function(){a.q()})},function(){X.getLevel()===0&&a.force(c.current.url.href)});if(l&&l.then)return l.then(function(){})})},a=this;a.data.next.url=J({href:e},a.url.parse(e)),a.data.trigger=n;var u=a.cache.has(e)?a.cache.update(e,{action:"click"}).request:a.cache.set(e,a.request(e,a.timeout,a.onRequestError.bind(a,n)),"click").request,s=function(){if(a.transitions.shouldWait)return Promise.resolve(ke(u,a.data)).then(function(){})}();return Promise.resolve(s&&s.then?s.then(o):o())}catch(c){return Promise.reject(c)}},r.onRequestError=function(e){this.transitions.isRunning=!1;for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];var a=i[0],u=i[1],s=this.cache.getAction(a);return this.cache.delete(a),!(this.$&&this.$(e,s,a,u)===!1||(s==="click"&&this.force(a),1))},r.prefetch=function(e){var n=this;this.cache.has(e)||this.cache.set(e,this.request(e,this.timeout,this.onRequestError.bind(this,"barba")).catch(function(i){n.logger.error(i)}),"prefetch")},r.F=function(){this.prefetchIgnore!==!0&&(document.addEventListener("mouseover",this.B),document.addEventListener("touchstart",this.B)),document.addEventListener("click",this.U),window.addEventListener("popstate",this.D)},r.H=function(){this.prefetchIgnore!==!0&&(document.removeEventListener("mouseover",this.B),document.removeEventListener("touchstart",this.B)),document.removeEventListener("click",this.U),window.removeEventListener("popstate",this.D)},r.B=function(e){var n=this,i=this.I(e);if(i){var o=this.dom.getHref(i);this.prevent.checkHref(o)||this.cache.has(o)||this.cache.set(o,this.request(o,this.timeout,this.onRequestError.bind(this,i)).catch(function(a){n.logger.error(a)}),"enter")}},r.U=function(e){var n=this.I(e);if(n)return this.transitions.isRunning&&this.preventRunning?(e.preventDefault(),void e.stopPropagation()):void this.go(this.dom.getHref(n),n,e)},r.D=function(e){this.go(this.url.getHref(),"popstate",e)},r.I=function(e){for(var n=e.target;n&&!this.dom.getHref(n);)n=n.parentNode;if(n&&!this.prevent.checkLink(n,e,this.dom.getHref(n)))return n},r.q=function(){var e=this.url.getHref(),n={container:this.dom.getContainer(),html:this.dom.getHtml(),namespace:this.dom.getNamespace(),url:J({href:e},this.url.parse(e))};this.C={current:n,next:J({},this.schemaPage),trigger:void 0},this.hooks.do("reset",this.data)},Ge(t,[{key:"data",get:function(){return this.C}},{key:"wrapper",get:function(){return this._}}]),t}());yr.init({preventRunning:!0,prevent:({el:t})=>t.classList.contains("glightbox"),transitions:[{name:"default",async leave({current:t}){return await A({targets:t.container,translateX:-16,opacity:0,duration:375}).finished}},{name:"back",from:{namespace:"post"},to:{namespace:"home"},async leave({current:t}){return await A({targets:t.container,translateX:16,opacity:0,duration:375}).finished}}]}),yr.hooks.afterEnter(()=>{console.log("enter")});class ae{constructor(r){this.config=r,this.theme=r.theme,this.scrollArr=[],this.util=Re.getInstance(r)}init(){const r=["showComments","picPos"];return ae.opScroll(this.scrollArr),r.forEach(e=>this[e].call(this))}showComments(){const r=document.getElementById("com-switch");r.addEventListener("click",()=>{const e=document.getElementById("post-comments");console.log(this.util.isDisplay(e)),this.util.isDisplay(e)?(r.style.transform="",r.classList.add("syuanpi"),e.classList.remove("fadeInDown"),this.util.animationEnd(e,"syuanpi fadeOutUp",()=>{e.style.display="none",e.classList.remove("syuanpi","fadeOutUp")})):(e.style.display="block",e.classList.add("syuanpi","fadeInDown"),r.classList.remove("syuanpi"),r.style.transform="rotate(180deg)")})}picPos(){const r=this;$(".post-content").each(function(){$(this).find("img").each(function(){$(this).parent("p").css("text-align","center");let e=`<img src="${this.src}"`;r.theme.lazy&&(e=`<img data-src="${this.src}" class="lazyload"`),$(this).replaceWith(`<a href="${this.src}" class="glightbox" data-title="${this.alt}" data-gallery="post">${e} alt="${this.alt}"></a>`)})}),window.GLightbox()}smoothScroll(){$(".toc-link").on("click",function(){$("html, body").animate({scrollTop:$($.attr(this,"href")).offset().top-200})})}back2top(){$(".toTop").on("click",function(){$("html, body").animate({scrollTop:0})})}pushHeader(){const r=this.utils("cls","#mobile-header");this.scrollArr.push(e=>{e>5?r.opreate("header-scroll","add"):r.opreate("header-scroll","remove")})}updateRound(r){const e=Math.floor(r/($(document).height()-$(window).height())*100);$("#scrollpercent").html(e)}showToc(){const r=ae.utils,e=$(".toc-link"),n=$(".headerlink");this.scrollArr.push(function(i){const o=$.map(n,function(a){return $(a).offset().top});$(".title-link a").each(function(){const a=r("cls",this);i>=0&&i<230?a.opreate("active"):a.opreate("active","remove")});for(let a=0;a<e.length;a++){const u=a+1===e.length,s=o[a],c=u?1/0:o[a+1],l=r("cls",e[a]);s<i+210&&i+210<=c?l.opreate("active"):l.opreate("active","remove")}})}titleStatus(){const r=document.title;var e;document.addEventListener("visibilitychange",function(){let n=Math.floor($(window).scrollTop()/($(document).height()-$(window).height())*100);$(document).height()-$(window).height()===0&&(n=100),document.hidden?(clearTimeout(e),document.title="Read "+n+"% \xB7 "+r):(document.title="Welcome Back \xB7 "+r,e=setTimeout(function(){document.title=r},3e3))})}showReward(){if(!this.theme.reward)return;const r=ae.utils,e=r("ani","#reward-btn");$("#reward-btn").click(()=>{r("iss","#reward-wrapper").display()?($("#reward-wrapper").css("display","flex"),e.end("clarity")):e.end("melt",()=>{$("#reward-wrapper").hide()})})}listenExit(r,e){Z(r,"keydown").pipe(_t(n=>n.keyCode===27)).subscribe(()=>e())}depth(r,e){const n=this.utils,i=n("cls","body"),o=n("cls",".container-inner");i.exist("under")?(i.opreate("under","remove"),o.opreate("under","remove"),e.call(this)):(i.opreate("under","add"),o.opreate("under","add"),r.call(this))}tagcloud(){const r=this.utils,e=$("#tags"),n=r("cls","#tagcloud"),i=r("ani","#tagcloud"),o=r("cls","#search"),a=r("ani","#search"),u=()=>{n.opreate("shuttleIn","remove"),i.end("zoomOut",()=>{n.opreate("syuanpi show","remove")})},s=()=>{this.depth(()=>n.opreate("syuanpi shuttleIn show"),u)};this.listenExit(e,s),this.listenExit(document.getElementsByClassName("tagcloud-taglist"),s),e.on("click",()=>{if(o.exist("show")){n.opreate("syuanpi shuttleIn show"),o.opreate("shuttleIn","remove"),a.end("zoomOut",()=>{o.opreate("syuanpi show","remove")});return}s()}),$("#tagcloud").on("click",d=>{d.stopPropagation(),d.target.tagName==="DIV"&&this.depth(()=>n.opreate("syuanpi shuttleIn show"),u)});const c=Z(document.querySelectorAll(".tagcloud-tag button"),"click").pipe(j(({target:d})=>d)),l=sn(document.querySelectorAll(".tagcloud-postlist")),h=l.pipe(j(d=>d.classList.remove("active"))),f=c.pipe(Ce(()=>h));Ct(f,c).pipe(j(([d,p])=>p),Ce(d=>l.pipe(_t(p=>p.firstElementChild.innerHTML.trim()===d.innerHTML.trim())))).subscribe(d=>d.classList.add("active"))}search(){if(!this.theme.search)return;$("body").append('<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"><\/script>');const r=this.utils,e=$("#search-btn"),n=$("#search-result"),i=r("cls","#search"),o=r("ani","#search"),a=r("cls","#tagcloud"),u=r("ani","#tagcloud"),s=()=>{i.opreate("shuttleIn","remove"),o.end("zoomOut",()=>{i.opreate("syuanpi show","remove")})},c=()=>{this.depth(()=>i.opreate("syuanpi shuttleIn show"),s)};this.listenExit(document.getElementById("search"),c),e.on("click",()=>{if(a.exist("show")){i.opreate("syuanpi shuttleIn show"),a.opreate("shuttleIn","remove"),u.end("zoomOut",()=>{a.opreate("syuanpi show","remove")});return}c()}),$("#search").on("click",l=>{l.stopPropagation(),l.target.tagName==="DIV"&&this.depth(()=>i.opreate("syuanpi shuttleIn show"),s)}),Pn(`${this.config.baseUrl}search.xml`,"search-input").subscribe(l=>{const h=p=>`<ul class="search-result-list syuanpi fadeInUpShort">${p}</ul>`,f=({url:p,title:v,content:w})=>`
          <li class="search-result-item">
            <a href="${p}"><h2>${v}</h2></a>
            <p>${w}</p>
          </li>
        `,d=l.map(f);n.html(h(d.join("")))})}headerMenu(){const r=this.utils,e=r("cls",".mobile-header-body"),n=r("cls",".header-menu-line"),i=$("#mobile-tags"),o=r("cls","#tagcloud");i.on("click",()=>{e.opreate("show","remove"),n.opreate("show","remove"),o.opreate("syuanpi shuttleIn show")}),$("#mobile-left").on("click",()=>{this.depth(()=>{e.opreate("show"),n.opreate("show")},()=>{e.opreate("show","remove"),n.opreate("show","remove")})})}pjax(){if(!this.theme.pjax)return;const r=this.utils,e=r("cls",".container-inner"),n=r("cls",".header"),i=r("cls",".header-wrapper");$(document).pjax(".container-inner a",".container-inner",{fragment:"container-inner"}),$(document).on("pjax:send",function(){e.opreate("syuanpi fadeOutLeftShort"),i.opreate("syuanpi fadeOutLeftShort"),n.opreate("melt")})}bootstarp(){this.showToc(),this.back2top(),this.switchToc(),this.titleStatus(),this.init(),this.pushHeader(),this.tagcloud(),this.search(),this.showReward(),this.headerMenu()}static utils(r,e){const n=a=>({opreate(u,s){return s==="remove"?$(a).removeClass(u):$(a).addClass(u)},exist(u){return $(a).hasClass(u)}});return{cls:n,iss:a=>({banderole:()=>this.theme.scheme==="banderole",balance:()=>this.theme.scheme==="balance",display(){return $(a).css("display")==="none"}}),ani:a=>({close(){return n.opreate(".syuanpi","syuanpi","remove")},end(u,s){$(a).addClass(u).one("webkitAnimationEnd AnimationEnd",function(){$(a).removeClass(u),s&&s.call(null,a)})}})}[r](e)}static opScroll(r){const e=Z(window,"scroll").pipe(j(n=>n.target.scrollingElement.scrollTop));r.length&&e.subscribe(n=>r.forEach(i=>i(n)))}}class Ti extends ae{constructor(r){super(r),this.utils=ae.utils}back2top(){this.utils("cls","#backtop").opreate("melt","remove"),this.scrollArr.push(e=>{this.updateRound(e)}),super.back2top()}switchToc(){this.theme.toc;const r=this.utils,e=r("cls","#header"),n=r("cls",".post-toc");$("#switch-toc").on("click",i=>{i.stopPropagation(),e.opreate("show_toc"),n.opreate("hide","remove")}),$("#header").on("click",()=>{e.exist("show_toc")&&(e.opreate("show_toc","remove"),n.opreate("hide"))})}}return Ti});

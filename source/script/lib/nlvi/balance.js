(function(k,S){typeof exports=="object"&&typeof module!="undefined"?module.exports=S():typeof define=="function"&&define.amd?define(S):(k=typeof globalThis!="undefined"?globalThis:k||self,k.Nlvi=S())})(this,function(){"use strict";var Si=Object.defineProperty,Li=Object.defineProperties;var Ii=Object.getOwnPropertyDescriptors;var pr=Object.getOwnPropertySymbols;var ki=Object.prototype.hasOwnProperty,Ti=Object.prototype.propertyIsEnumerable;var mr=(k,S,T)=>S in k?Si(k,S,{enumerable:!0,configurable:!0,writable:!0,value:T}):k[S]=T,gr=(k,S)=>{for(var T in S||(S={}))ki.call(S,T)&&mr(k,T,S[T]);if(pr)for(var T of pr(S))Ti.call(S,T)&&mr(k,T,S[T]);return k},yr=(k,S)=>Li(k,Ii(S));var k=function(t,r){return k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},k(t,r)};function S(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");k(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var T=function(){return T=Object.assign||function(r){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},T.apply(this,arguments)};function br(t,r){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&r.indexOf(n)<0&&(e[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)r.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(e[n[i]]=t[n[i]]);return e}function wr(t,r,e,n){function i(o){return o instanceof e?o:new e(function(a){a(o)})}return new(e||(e=Promise))(function(o,a){function u(l){try{c(n.next(l))}catch(h){a(h)}}function s(l){try{c(n.throw(l))}catch(h){a(h)}}function c(l){l.done?o(l.value):i(l.value).then(u,s)}c((n=n.apply(t,r||[])).next())})}function nt(t,r){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function u(c){return function(l){return s([c,l])}}function s(c){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return e.label++,{value:c[1],done:!1};case 5:e.label++,i=c[1],c=[0];continue;case 7:c=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){e=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){e.label=c[1];break}if(c[0]===6&&e.label<o[1]){e.label=o[1],o=c;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(c);break}o[2]&&e.ops.pop(),e.trys.pop();continue}c=r.call(t,e)}catch(l){c=[6,l],i=0}finally{n=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function ae(t){var r=typeof Symbol=="function"&&Symbol.iterator,e=r&&t[r],n=0;if(e)return e.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function B(t,r){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var n=e.call(t),i,o=[],a;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(u){a={error:u}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(a)throw a.error}}return o}function H(t,r,e){if(e||arguments.length===2)for(var n=0,i=r.length,o;n<i;n++)(o||!(n in r))&&(o||(o=Array.prototype.slice.call(r,0,n)),o[n]=r[n]);return t.concat(o||Array.prototype.slice.call(r))}function ee(t){return this instanceof ee?(this.v=t,this):new ee(t)}function Er(t,r,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=e.apply(t,r||[]),i,o=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(f){n[f]&&(i[f]=function(v){return new Promise(function(p,d){o.push([f,v,p,d])>1||u(f,v)})})}function u(f,v){try{s(n[f](v))}catch(p){h(o[0][3],p)}}function s(f){f.value instanceof ee?Promise.resolve(f.value.v).then(c,l):h(o[0][2],f)}function c(f){u("next",f)}function l(f){u("throw",f)}function h(f,v){f(v),o.shift(),o.length&&u(o[0][0],o[0][1])}}function xr(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t[Symbol.asyncIterator],e;return r?r.call(t):(t=typeof ae=="function"?ae(t):t[Symbol.iterator](),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(o){e[o]=t[o]&&function(a){return new Promise(function(u,s){a=t[o](a),i(u,s,a.done,a.value)})}}function i(o,a,u,s){Promise.resolve(s).then(function(c){o({value:c,done:u})},a)}}function A(t){return typeof t=="function"}function Pr(t){var r=function(n){Error.call(n),n.stack=new Error().stack},e=t(r);return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var Pe=Pr(function(t){return function(e){t(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(n,i){return i+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e}});function Ae(t,r){if(t){var e=t.indexOf(r);0<=e&&t.splice(e,1)}}var he=function(){function t(r){this.initialTeardown=r,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var r,e,n,i,o;if(!this.closed){this.closed=!0;var a=this._parentage;if(a)if(this._parentage=null,Array.isArray(a))try{for(var u=ae(a),s=u.next();!s.done;s=u.next()){var c=s.value;c.remove(this)}}catch(d){r={error:d}}finally{try{s&&!s.done&&(e=u.return)&&e.call(u)}finally{if(r)throw r.error}}else a.remove(this);var l=this.initialTeardown;if(A(l))try{l()}catch(d){o=d instanceof Pe?d.errors:[d]}var h=this._finalizers;if(h){this._finalizers=null;try{for(var f=ae(h),v=f.next();!v.done;v=f.next()){var p=v.value;try{ot(p)}catch(d){o=o!=null?o:[],d instanceof Pe?o=H(H([],B(o)),B(d.errors)):o.push(d)}}}catch(d){n={error:d}}finally{try{v&&!v.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}}if(o)throw new Pe(o)}},t.prototype.add=function(r){var e;if(r&&r!==this)if(this.closed)ot(r);else{if(r instanceof t){if(r.closed||r._hasParent(this))return;r._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(r)}},t.prototype._hasParent=function(r){var e=this._parentage;return e===r||Array.isArray(e)&&e.includes(r)},t.prototype._addParent=function(r){var e=this._parentage;this._parentage=Array.isArray(e)?(e.push(r),e):e?[e,r]:r},t.prototype._removeParent=function(r){var e=this._parentage;e===r?this._parentage=null:Array.isArray(e)&&Ae(e,r)},t.prototype.remove=function(r){var e=this._finalizers;e&&Ae(e,r),r instanceof t&&r._removeParent(this)},t.EMPTY=function(){var r=new t;return r.closed=!0,r}(),t}();he.EMPTY;function it(t){return t instanceof he||t&&"closed"in t&&A(t.remove)&&A(t.add)&&A(t.unsubscribe)}function ot(t){A(t)?t():t.unsubscribe()}var at={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Se={setTimeout:function(t,r){for(var e=[],n=2;n<arguments.length;n++)e[n-2]=arguments[n];var i=Se.delegate;return i!=null&&i.setTimeout?i.setTimeout.apply(i,H([t,r],B(e))):setTimeout.apply(void 0,H([t,r],B(e)))},clearTimeout:function(t){var r=Se.delegate;return((r==null?void 0:r.clearTimeout)||clearTimeout)(t)},delegate:void 0};function st(t){Se.setTimeout(function(){throw t})}function Le(){}function Ar(t){t()}var Ie=function(t){S(r,t);function r(e){var n=t.call(this)||this;return n.isStopped=!1,e?(n.destination=e,it(e)&&e.add(n)):n.destination=kr,n}return r.create=function(e,n,i){return new Te(e,n,i)},r.prototype.next=function(e){this.isStopped||this._next(e)},r.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},r.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},r.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},r.prototype._next=function(e){this.destination.next(e)},r.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},r.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},r}(he),Sr=Function.prototype.bind;function ke(t,r){return Sr.call(t,r)}var Lr=function(){function t(r){this.partialObserver=r}return t.prototype.next=function(r){var e=this.partialObserver;if(e.next)try{e.next(r)}catch(n){de(n)}},t.prototype.error=function(r){var e=this.partialObserver;if(e.error)try{e.error(r)}catch(n){de(n)}else de(r)},t.prototype.complete=function(){var r=this.partialObserver;if(r.complete)try{r.complete()}catch(e){de(e)}},t}(),Te=function(t){S(r,t);function r(e,n,i){var o=t.call(this)||this,a;if(A(e)||!e)a={next:e!=null?e:void 0,error:n!=null?n:void 0,complete:i!=null?i:void 0};else{var u;o&&at.useDeprecatedNextContext?(u=Object.create(e),u.unsubscribe=function(){return o.unsubscribe()},a={next:e.next&&ke(e.next,u),error:e.error&&ke(e.error,u),complete:e.complete&&ke(e.complete,u)}):a=e}return o.destination=new Lr(a),o}return r}(Ie);function de(t){st(t)}function Ir(t){throw t}var kr={closed:!0,next:Le,error:Ir,complete:Le},Oe=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function ut(t){return t}function Tr(t){return t.length===0?ut:t.length===1?t[0]:function(e){return t.reduce(function(n,i){return i(n)},e)}}var M=function(){function t(r){r&&(this._subscribe=r)}return t.prototype.lift=function(r){var e=new t;return e.source=this,e.operator=r,e},t.prototype.subscribe=function(r,e,n){var i=this,o=Mr(r)?r:new Te(r,e,n);return Ar(function(){var a=i,u=a.operator,s=a.source;o.add(u?u.call(o,s):s?i._subscribe(o):i._trySubscribe(o))}),o},t.prototype._trySubscribe=function(r){try{return this._subscribe(r)}catch(e){r.error(e)}},t.prototype.forEach=function(r,e){var n=this;return e=ct(e),new e(function(i,o){var a=new Te({next:function(u){try{r(u)}catch(s){o(s),a.unsubscribe()}},error:o,complete:i});n.subscribe(a)})},t.prototype._subscribe=function(r){var e;return(e=this.source)===null||e===void 0?void 0:e.subscribe(r)},t.prototype[Oe]=function(){return this},t.prototype.pipe=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return Tr(r)(this)},t.prototype.toPromise=function(r){var e=this;return r=ct(r),new r(function(n,i){var o;e.subscribe(function(a){return o=a},function(a){return i(a)},function(){return n(o)})})},t.create=function(r){return new t(r)},t}();function ct(t){var r;return(r=t!=null?t:at.Promise)!==null&&r!==void 0?r:Promise}function Or(t){return t&&A(t.next)&&A(t.error)&&A(t.complete)}function Mr(t){return t&&t instanceof Ie||Or(t)&&it(t)}function jr(t){return A(t==null?void 0:t.lift)}function W(t){return function(r){if(jr(r))return r.lift(function(e){try{return t(e,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function j(t,r,e,n,i){return new Rr(t,r,e,n,i)}var Rr=function(t){S(r,t);function r(e,n,i,o,a,u){var s=t.call(this,e)||this;return s.onFinalize=a,s.shouldUnsubscribe=u,s._next=n?function(c){try{n(c)}catch(l){e.error(l)}}:t.prototype._next,s._error=o?function(c){try{o(c)}catch(l){e.error(l)}finally{this.unsubscribe()}}:t.prototype._error,s._complete=i?function(){try{i()}catch(c){e.error(c)}finally{this.unsubscribe()}}:t.prototype._complete,s}return r.prototype.unsubscribe=function(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;t.prototype.unsubscribe.call(this),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}},r}(Ie),lt={now:function(){return(lt.delegate||Date).now()},delegate:void 0},Cr=function(t){S(r,t);function r(e,n){return t.call(this)||this}return r.prototype.schedule=function(e,n){return this},r}(he),ve={setInterval:function(t,r){for(var e=[],n=2;n<arguments.length;n++)e[n-2]=arguments[n];var i=ve.delegate;return i!=null&&i.setInterval?i.setInterval.apply(i,H([t,r],B(e))):setInterval.apply(void 0,H([t,r],B(e)))},clearInterval:function(t){var r=ve.delegate;return((r==null?void 0:r.clearInterval)||clearInterval)(t)},delegate:void 0},Br=function(t){S(r,t);function r(e,n){var i=t.call(this,e,n)||this;return i.scheduler=e,i.work=n,i.pending=!1,i}return r.prototype.schedule=function(e,n){if(n===void 0&&(n=0),this.closed)return this;this.state=e;var i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(o,this.id,n),this},r.prototype.requestAsyncId=function(e,n,i){return i===void 0&&(i=0),ve.setInterval(e.flush.bind(e,this),i)},r.prototype.recycleAsyncId=function(e,n,i){if(i===void 0&&(i=0),i!=null&&this.delay===i&&this.pending===!1)return n;ve.clearInterval(n)},r.prototype.execute=function(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(e,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},r.prototype._execute=function(e,n){var i=!1,o;try{this.work(e)}catch(a){i=!0,o=a||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),o},r.prototype.unsubscribe=function(){if(!this.closed){var e=this,n=e.id,i=e.scheduler,o=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Ae(o,this),n!=null&&(this.id=this.recycleAsyncId(i,n,null)),this.delay=null,t.prototype.unsubscribe.call(this)}},r}(Cr),ft=function(){function t(r,e){e===void 0&&(e=t.now),this.schedulerActionCtor=r,this.now=e}return t.prototype.schedule=function(r,e,n){return e===void 0&&(e=0),new this.schedulerActionCtor(this,r).schedule(n,e)},t.now=lt.now,t}(),Dr=function(t){S(r,t);function r(e,n){n===void 0&&(n=ft.now);var i=t.call(this,e,n)||this;return i.actions=[],i._active=!1,i._scheduled=void 0,i}return r.prototype.flush=function(e){var n=this.actions;if(this._active){n.push(e);return}var i;this._active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,i){for(;e=n.shift();)e.unsubscribe();throw i}},r}(ft),_r=new Dr(Br),qr=new M(function(t){return t.complete()});function Hr(t){return t[t.length-1]}function ht(t){return A(Hr(t))?t.pop():void 0}var Me=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function dt(t){return A(t==null?void 0:t.then)}function vt(t){return A(t[Oe])}function pt(t){return Symbol.asyncIterator&&A(t==null?void 0:t[Symbol.asyncIterator])}function mt(t){return new TypeError("You provided "+(t!==null&&typeof t=="object"?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function Fr(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var gt=Fr();function yt(t){return A(t==null?void 0:t[gt])}function bt(t){return Er(this,arguments,function(){var e,n,i,o;return nt(this,function(a){switch(a.label){case 0:e=t.getReader(),a.label=1;case 1:a.trys.push([1,,9,10]),a.label=2;case 2:return[4,ee(e.read())];case 3:return n=a.sent(),i=n.value,o=n.done,o?[4,ee(void 0)]:[3,5];case 4:return[2,a.sent()];case 5:return[4,ee(i)];case 6:return[4,a.sent()];case 7:return a.sent(),[3,2];case 8:return[3,10];case 9:return e.releaseLock(),[7];case 10:return[2]}})})}function wt(t){return A(t==null?void 0:t.getReader)}function F(t){if(t instanceof M)return t;if(t!=null){if(vt(t))return $r(t);if(Me(t))return Ur(t);if(dt(t))return Vr(t);if(pt(t))return Et(t);if(yt(t))return zr(t);if(wt(t))return Nr(t)}throw mt(t)}function $r(t){return new M(function(r){var e=t[Oe]();if(A(e.subscribe))return e.subscribe(r);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Ur(t){return new M(function(r){for(var e=0;e<t.length&&!r.closed;e++)r.next(t[e]);r.complete()})}function Vr(t){return new M(function(r){t.then(function(e){r.closed||(r.next(e),r.complete())},function(e){return r.error(e)}).then(null,st)})}function zr(t){return new M(function(r){var e,n;try{for(var i=ae(t),o=i.next();!o.done;o=i.next()){var a=o.value;if(r.next(a),r.closed)return}}catch(u){e={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}r.complete()})}function Et(t){return new M(function(r){Wr(t,r).catch(function(e){return r.error(e)})})}function Nr(t){return Et(bt(t))}function Wr(t,r){var e,n,i,o;return wr(this,void 0,void 0,function(){var a,u;return nt(this,function(s){switch(s.label){case 0:s.trys.push([0,5,6,11]),e=xr(t),s.label=1;case 1:return[4,e.next()];case 2:if(n=s.sent(),!!n.done)return[3,4];if(a=n.value,r.next(a),r.closed)return[2];s.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return u=s.sent(),i={error:u},[3,11];case 6:return s.trys.push([6,,9,10]),n&&!n.done&&(o=e.return)?[4,o.call(e)]:[3,8];case 7:s.sent(),s.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return r.complete(),[2]}})})}function Y(t,r,e,n,i){n===void 0&&(n=0),i===void 0&&(i=!1);var o=r.schedule(function(){e(),i?t.add(this.schedule(null,n)):this.unsubscribe()},n);if(t.add(o),!i)return o}function xt(t,r){return r===void 0&&(r=0),W(function(e,n){e.subscribe(j(n,function(i){return Y(n,t,function(){return n.next(i)},r)},function(){return Y(n,t,function(){return n.complete()},r)},function(i){return Y(n,t,function(){return n.error(i)},r)}))})}function Pt(t,r){return r===void 0&&(r=0),W(function(e,n){n.add(t.schedule(function(){return e.subscribe(n)},r))})}function Yr(t,r){return F(t).pipe(Pt(r),xt(r))}function Kr(t,r){return F(t).pipe(Pt(r),xt(r))}function Qr(t,r){return new M(function(e){var n=0;return r.schedule(function(){n===t.length?e.complete():(e.next(t[n++]),e.closed||this.schedule())})})}function Gr(t,r){return new M(function(e){var n;return Y(e,r,function(){n=t[gt](),Y(e,r,function(){var i,o,a;try{i=n.next(),o=i.value,a=i.done}catch(u){e.error(u);return}a?e.complete():e.next(o)},0,!0)}),function(){return A(n==null?void 0:n.return)&&n.return()}})}function At(t,r){if(!t)throw new Error("Iterable cannot be null");return new M(function(e){Y(e,r,function(){var n=t[Symbol.asyncIterator]();Y(e,r,function(){n.next().then(function(i){i.done?e.complete():e.next(i.value)})},0,!0)})})}function Zr(t,r){return At(bt(t),r)}function Jr(t,r){if(t!=null){if(vt(t))return Yr(t,r);if(Me(t))return Qr(t,r);if(dt(t))return Kr(t,r);if(pt(t))return At(t,r);if(yt(t))return Gr(t,r);if(wt(t))return Zr(t,r)}throw mt(t)}function Xr(t,r){return r?Jr(t,r):F(t)}function O(t,r){return W(function(e,n){var i=0;e.subscribe(j(n,function(o){n.next(t.call(r,o,i++))}))})}var en=Array.isArray;function tn(t,r){return en(r)?t.apply(void 0,H([],B(r))):t(r)}function rn(t){return O(function(r){return tn(t,r)})}function nn(t,r,e,n,i,o,a,u){var s=[],c=0,l=0,h=!1,f=function(){h&&!s.length&&!c&&r.complete()},v=function(d){return c<n?p(d):s.push(d)},p=function(d){o&&r.next(d),c++;var w=!1;F(e(d,l++)).subscribe(j(r,function(b){i==null||i(b),o?v(b):r.next(b)},function(){w=!0},void 0,function(){if(w)try{c--;for(var b=function(){var m=s.shift();a?Y(r,a,function(){return p(m)}):p(m)};s.length&&c<n;)b();f()}catch(m){r.error(m)}}))};return t.subscribe(j(r,v,function(){h=!0,f()})),function(){u==null||u()}}function St(t,r,e){return e===void 0&&(e=1/0),A(r)?St(function(n,i){return O(function(o,a){return r(n,o,i,a)})(F(t(n,i)))},e):(typeof r=="number"&&(e=r),W(function(n,i){return nn(n,i,t,e)}))}var on=["addListener","removeListener"],an=["addEventListener","removeEventListener"],sn=["on","off"];function te(t,r,e,n){if(A(e)&&(n=e,e=void 0),n)return te(t,r,e).pipe(rn(n));var i=B(ln(t)?an.map(function(u){return function(s){return t[u](r,s,e)}}):un(t)?on.map(Lt(t,r)):cn(t)?sn.map(Lt(t,r)):[],2),o=i[0],a=i[1];if(!o&&Me(t))return St(function(u){return te(u,r,e)})(F(t));if(!o)throw new TypeError("Invalid event target");return new M(function(u){var s=function(){for(var c=[],l=0;l<arguments.length;l++)c[l]=arguments[l];return u.next(1<c.length?c:c[0])};return o(s),function(){return a(s)}})}function Lt(t,r){return function(e){return function(n){return t[e](r,n)}}}function un(t){return A(t.addListener)&&A(t.removeListener)}function cn(t){return A(t.on)&&A(t.off)}function ln(t){return A(t.addEventListener)&&A(t.removeEventListener)}var fn=Array.isArray;function hn(t){return t.length===1&&fn(t[0])?t[0]:t}function It(t,r){return W(function(e,n){var i=0;e.subscribe(j(n,function(o){return t.call(r,o,i++)&&n.next(o)}))})}function kt(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var e=ht(t),n=hn(t);return n.length?new M(function(i){var o=n.map(function(){return[]}),a=n.map(function(){return!1});i.add(function(){o=a=null});for(var u=function(c){F(n[c]).subscribe(j(i,function(l){if(o[c].push(l),o.every(function(f){return f.length})){var h=o.map(function(f){return f.shift()});i.next(e?e.apply(void 0,H([],B(h))):h),o.some(function(f,v){return!f.length&&a[v]})&&i.complete()}},function(){a[c]=!0,!o[c].length&&i.complete()}))},s=0;!i.closed&&s<n.length;s++)u(s);return function(){o=a=null}}):qr}function dn(t,r){return r===void 0&&(r=_r),W(function(e,n){var i=null,o=null,a=null,u=function(){if(i){i.unsubscribe(),i=null;var c=o;o=null,n.next(c)}};function s(){var c=a+t,l=r.now();if(l<c){i=this.schedule(void 0,c-l),n.add(i);return}u()}e.subscribe(j(n,function(c){o=c,a=r.now(),i||(i=r.schedule(s,t),n.add(i))},function(){u(),n.complete()},void 0,function(){o=i=null}))})}function je(t,r){return W(function(e,n){var i=null,o=0,a=!1,u=function(){return a&&!i&&n.complete()};e.subscribe(j(n,function(s){i==null||i.unsubscribe();var c=0,l=o++;F(t(s,l)).subscribe(i=j(n,function(h){return n.next(r?r(s,h,l,c++):h)},function(){i=null,u()}))},function(){a=!0,u()}))})}function vn(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var e=ht(t);return W(function(n,i){for(var o=t.length,a=new Array(o),u=t.map(function(){return!1}),s=!1,c=function(h){F(t[h]).subscribe(j(i,function(f){a[h]=f,!s&&!u[h]&&(u[h]=!0,(s=u.every(ut))&&(u=null))},Le))},l=0;l<o;l++)c(l);n.subscribe(j(i,function(h){if(s){var f=H([h],B(a));i.next(e?e.apply(void 0,H([],B(f))):f)}}))})}function pn(t,r){r===void 0&&(r={});var e=r.selector,n=br(r,["selector"]);return new M(function(i){var o=new AbortController,a=o.signal,u=!0,s=n.signal;if(s)if(s.aborted)o.abort();else{var c=function(){a.aborted||o.abort()};s.addEventListener("abort",c),i.add(function(){return s.removeEventListener("abort",c)})}var l=T(T({},n),{signal:a}),h=function(f){u=!1,i.error(f)};return fetch(t,l).then(function(f){e?F(e(f)).subscribe(j(i,void 0,function(){u=!1,i.complete()},h)):(u=!1,i.next(f),i.complete())}).catch(h),function(){u&&o.abort()}})}function mn(t,r){const e=pn(t).pipe(je(a=>a.text()),O(a=>new window.DOMParser().parseFromString(a,"text/xml")),O(a=>a.querySelectorAll("entry")),O(a=>[...a].map(u=>({title:u.getElementsByTagName("title")[0].textContent,url:u.getElementsByTagName("url")[0].textContent,content:u.getElementsByTagName("content")[0].textContent})))),n=te(document.getElementById(r),"input").pipe(dn(500),O(({target:a})=>a.value.trim())),i=n.pipe(O(a=>!!a)),o=n.pipe(vn(e),O(([a,u])=>u.filter(({title:s,content:c})=>s.indexOf(a)>=0||c.indexOf(a)>=0).map(s=>{const c=new RegExp(`(${encodeURIComponent(a)})`,"gi"),l=s.title.replace(c,'<strong class="search-keyword">$1</strong>');let h=s.content.replace(/<[^>]+>/g,"");const f=h.indexOf(a);return h=h.slice(f<20?0:f-20,f<0?100:f+80).replace(c,'<strong class="search-keyword">$1</strong>'),yr(gr({},s),{title:l,content:h})})));return kt(i,o).pipe(O(([a,u])=>a?u:[]))}class Re{constructor(r){this.config=r}static getInstance(r){return this.instance||(this.instance=new Re(r)),this.instance}handleScroll(r){const e=te(window,"scroll").pipe(O(n=>n.target.scrollingElement||n.target.documentElement),O(n=>n.scrollTop));r.length&&e.subscribe(n=>r.forEach(i=>i(n)))}isDisplay(r){return r.offsetParent!==null}animationEnd(r,e,n){r.classList.add(...e.split(" ")),r.addEventListener("animationend",i=>n==null?void 0:n(i),{once:!0})}get isBanderole(){return this.config.theme.scheme==="banderole"}get isBalance(){return this.config.theme.scheme==="balance"}}var Tt={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},Ce={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},gn=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],pe={CSS:{},springs:{}};function $(t,r,e){return Math.min(Math.max(t,r),e)}function se(t,r){return t.indexOf(r)>-1}function Be(t,r){return t.apply(null,r)}var g={arr:function(t){return Array.isArray(t)},obj:function(t){return se(Object.prototype.toString.call(t),"Object")},pth:function(t){return g.obj(t)&&t.hasOwnProperty("totalLength")},svg:function(t){return t instanceof SVGElement},inp:function(t){return t instanceof HTMLInputElement},dom:function(t){return t.nodeType||g.svg(t)},str:function(t){return typeof t=="string"},fnc:function(t){return typeof t=="function"},und:function(t){return typeof t=="undefined"},nil:function(t){return g.und(t)||t===null},hex:function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)},rgb:function(t){return/^rgb/.test(t)},hsl:function(t){return/^hsl/.test(t)},col:function(t){return g.hex(t)||g.rgb(t)||g.hsl(t)},key:function(t){return!Tt.hasOwnProperty(t)&&!Ce.hasOwnProperty(t)&&t!=="targets"&&t!=="keyframes"}};function Ot(t){var r=/\(([^)]+)\)/.exec(t);return r?r[1].split(",").map(function(e){return parseFloat(e)}):[]}function Mt(t,r){var e=Ot(t),n=$(g.und(e[0])?1:e[0],.1,100),i=$(g.und(e[1])?100:e[1],.1,100),o=$(g.und(e[2])?10:e[2],.1,100),a=$(g.und(e[3])?0:e[3],.1,100),u=Math.sqrt(i/n),s=o/(2*Math.sqrt(i*n)),c=s<1?u*Math.sqrt(1-s*s):0,l=1,h=s<1?(s*u+-a)/c:-a+u;function f(p){var d=r?r*p/1e3:p;return s<1?d=Math.exp(-d*s*u)*(l*Math.cos(c*d)+h*Math.sin(c*d)):d=(l+h*d)*Math.exp(-d*u),p===0||p===1?p:1-d}function v(){var p=pe.springs[t];if(p)return p;for(var d=1/6,w=0,b=0;;)if(w+=d,f(w)===1){if(b++,b>=16)break}else b=0;var m=w*d*1e3;return pe.springs[t]=m,m}return r?f:v}function yn(t){return t===void 0&&(t=10),function(r){return Math.ceil($(r,1e-6,1)*t)*(1/t)}}var bn=function(){var t=11,r=1/(t-1);function e(l,h){return 1-3*h+3*l}function n(l,h){return 3*h-6*l}function i(l){return 3*l}function o(l,h,f){return((e(h,f)*l+n(h,f))*l+i(h))*l}function a(l,h,f){return 3*e(h,f)*l*l+2*n(h,f)*l+i(h)}function u(l,h,f,v,p){var d,w,b=0;do w=h+(f-h)/2,d=o(w,v,p)-l,d>0?f=w:h=w;while(Math.abs(d)>1e-7&&++b<10);return w}function s(l,h,f,v){for(var p=0;p<4;++p){var d=a(h,f,v);if(d===0)return h;var w=o(h,f,v)-l;h-=w/d}return h}function c(l,h,f,v){if(!(0<=l&&l<=1&&0<=f&&f<=1))return;var p=new Float32Array(t);if(l!==h||f!==v)for(var d=0;d<t;++d)p[d]=o(d*r,l,f);function w(b){for(var m=0,y=1,x=t-1;y!==x&&p[y]<=b;++y)m+=r;--y;var P=(b-p[y])/(p[y+1]-p[y]),E=m+P*r,_=a(E,l,f);return _>=.001?s(b,E,l,f):_===0?E:u(b,m,m+r,l,f)}return function(b){return l===h&&f===v||b===0||b===1?b:o(w(b),h,v)}}return c}(),jt=function(){var t={linear:function(){return function(n){return n}}},r={Sine:function(){return function(n){return 1-Math.cos(n*Math.PI/2)}},Circ:function(){return function(n){return 1-Math.sqrt(1-n*n)}},Back:function(){return function(n){return n*n*(3*n-2)}},Bounce:function(){return function(n){for(var i,o=4;n<((i=Math.pow(2,--o))-1)/11;);return 1/Math.pow(4,3-o)-7.5625*Math.pow((i*3-2)/22-n,2)}},Elastic:function(n,i){n===void 0&&(n=1),i===void 0&&(i=.5);var o=$(n,1,10),a=$(i,.1,2);return function(u){return u===0||u===1?u:-o*Math.pow(2,10*(u-1))*Math.sin((u-1-a/(Math.PI*2)*Math.asin(1/o))*(Math.PI*2)/a)}}},e=["Quad","Cubic","Quart","Quint","Expo"];return e.forEach(function(n,i){r[n]=function(){return function(o){return Math.pow(o,i+2)}}}),Object.keys(r).forEach(function(n){var i=r[n];t["easeIn"+n]=i,t["easeOut"+n]=function(o,a){return function(u){return 1-i(o,a)(1-u)}},t["easeInOut"+n]=function(o,a){return function(u){return u<.5?i(o,a)(u*2)/2:1-i(o,a)(u*-2+2)/2}},t["easeOutIn"+n]=function(o,a){return function(u){return u<.5?(1-i(o,a)(1-u*2))/2:(i(o,a)(u*2-1)+1)/2}}}),t}();function De(t,r){if(g.fnc(t))return t;var e=t.split("(")[0],n=jt[e],i=Ot(t);switch(e){case"spring":return Mt(t,r);case"cubicBezier":return Be(bn,i);case"steps":return Be(yn,i);default:return Be(n,i)}}function Rt(t){try{var r=document.querySelectorAll(t);return r}catch{return}}function me(t,r){for(var e=t.length,n=arguments.length>=2?arguments[1]:void 0,i=[],o=0;o<e;o++)if(o in t){var a=t[o];r.call(n,a,o,t)&&i.push(a)}return i}function ge(t){return t.reduce(function(r,e){return r.concat(g.arr(e)?ge(e):e)},[])}function Ct(t){return g.arr(t)?t:(g.str(t)&&(t=Rt(t)||t),t instanceof NodeList||t instanceof HTMLCollection?[].slice.call(t):[t])}function _e(t,r){return t.some(function(e){return e===r})}function qe(t){var r={};for(var e in t)r[e]=t[e];return r}function He(t,r){var e=qe(t);for(var n in t)e[n]=r.hasOwnProperty(n)?r[n]:t[n];return e}function ye(t,r){var e=qe(t);for(var n in r)e[n]=g.und(t[n])?r[n]:t[n];return e}function wn(t){var r=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(t);return r?"rgba("+r[1]+",1)":t}function En(t){var r=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,e=t.replace(r,function(u,s,c,l){return s+s+c+c+l+l}),n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e),i=parseInt(n[1],16),o=parseInt(n[2],16),a=parseInt(n[3],16);return"rgba("+i+","+o+","+a+",1)"}function xn(t){var r=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(t),e=parseInt(r[1],10)/360,n=parseInt(r[2],10)/100,i=parseInt(r[3],10)/100,o=r[4]||1;function a(f,v,p){return p<0&&(p+=1),p>1&&(p-=1),p<1/6?f+(v-f)*6*p:p<1/2?v:p<2/3?f+(v-f)*(2/3-p)*6:f}var u,s,c;if(n==0)u=s=c=i;else{var l=i<.5?i*(1+n):i+n-i*n,h=2*i-l;u=a(h,l,e+1/3),s=a(h,l,e),c=a(h,l,e-1/3)}return"rgba("+u*255+","+s*255+","+c*255+","+o+")"}function Pn(t){if(g.rgb(t))return wn(t);if(g.hex(t))return En(t);if(g.hsl(t))return xn(t)}function z(t){var r=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(t);if(r)return r[1]}function An(t){if(se(t,"translate")||t==="perspective")return"px";if(se(t,"rotate")||se(t,"skew"))return"deg"}function Fe(t,r){return g.fnc(t)?t(r.target,r.id,r.total):t}function U(t,r){return t.getAttribute(r)}function $e(t,r,e){var n=z(r);if(_e([e,"deg","rad","turn"],n))return r;var i=pe.CSS[r+e];if(!g.und(i))return i;var o=100,a=document.createElement(t.tagName),u=t.parentNode&&t.parentNode!==document?t.parentNode:document.body;u.appendChild(a),a.style.position="absolute",a.style.width=o+e;var s=o/a.offsetWidth;u.removeChild(a);var c=s*parseFloat(r);return pe.CSS[r+e]=c,c}function Bt(t,r,e){if(r in t.style){var n=r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),i=t.style[r]||getComputedStyle(t).getPropertyValue(n)||"0";return e?$e(t,i,e):i}}function Ue(t,r){if(g.dom(t)&&!g.inp(t)&&(!g.nil(U(t,r))||g.svg(t)&&t[r]))return"attribute";if(g.dom(t)&&_e(gn,r))return"transform";if(g.dom(t)&&r!=="transform"&&Bt(t,r))return"css";if(t[r]!=null)return"object"}function Dt(t){if(!!g.dom(t)){for(var r=t.style.transform||"",e=/(\w+)\(([^)]*)\)/g,n=new Map,i;i=e.exec(r);)n.set(i[1],i[2]);return n}}function Sn(t,r,e,n){var i=se(r,"scale")?1:0+An(r),o=Dt(t).get(r)||i;return e&&(e.transforms.list.set(r,o),e.transforms.last=r),n?$e(t,o,n):o}function Ve(t,r,e,n){switch(Ue(t,r)){case"transform":return Sn(t,r,n,e);case"css":return Bt(t,r,e);case"attribute":return U(t,r);default:return t[r]||0}}function ze(t,r){var e=/^(\*=|\+=|-=)/.exec(t);if(!e)return t;var n=z(t)||0,i=parseFloat(r),o=parseFloat(t.replace(e[0],""));switch(e[0][0]){case"+":return i+o+n;case"-":return i-o+n;case"*":return i*o+n}}function _t(t,r){if(g.col(t))return Pn(t);if(/\s/g.test(t))return t;var e=z(t),n=e?t.substr(0,t.length-e.length):t;return r?n+r:n}function Ne(t,r){return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))}function Ln(t){return Math.PI*2*U(t,"r")}function In(t){return U(t,"width")*2+U(t,"height")*2}function kn(t){return Ne({x:U(t,"x1"),y:U(t,"y1")},{x:U(t,"x2"),y:U(t,"y2")})}function qt(t){for(var r=t.points,e=0,n,i=0;i<r.numberOfItems;i++){var o=r.getItem(i);i>0&&(e+=Ne(n,o)),n=o}return e}function Tn(t){var r=t.points;return qt(t)+Ne(r.getItem(r.numberOfItems-1),r.getItem(0))}function Ht(t){if(t.getTotalLength)return t.getTotalLength();switch(t.tagName.toLowerCase()){case"circle":return Ln(t);case"rect":return In(t);case"line":return kn(t);case"polyline":return qt(t);case"polygon":return Tn(t)}}function On(t){var r=Ht(t);return t.setAttribute("stroke-dasharray",r),r}function Mn(t){for(var r=t.parentNode;g.svg(r)&&g.svg(r.parentNode);)r=r.parentNode;return r}function Ft(t,r){var e=r||{},n=e.el||Mn(t),i=n.getBoundingClientRect(),o=U(n,"viewBox"),a=i.width,u=i.height,s=e.viewBox||(o?o.split(" "):[0,0,a,u]);return{el:n,viewBox:s,x:s[0]/1,y:s[1]/1,w:a,h:u,vW:s[2],vH:s[3]}}function jn(t,r){var e=g.str(t)?Rt(t)[0]:t,n=r||100;return function(i){return{property:i,el:e,svg:Ft(e),totalLength:Ht(e)*(n/100)}}}function Rn(t,r,e){function n(l){l===void 0&&(l=0);var h=r+l>=1?r+l:0;return t.el.getPointAtLength(h)}var i=Ft(t.el,t.svg),o=n(),a=n(-1),u=n(1),s=e?1:i.w/i.vW,c=e?1:i.h/i.vH;switch(t.property){case"x":return(o.x-i.x)*s;case"y":return(o.y-i.y)*c;case"angle":return Math.atan2(u.y-a.y,u.x-a.x)*180/Math.PI}}function $t(t,r){var e=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,n=_t(g.pth(t)?t.totalLength:t,r)+"";return{original:n,numbers:n.match(e)?n.match(e).map(Number):[0],strings:g.str(t)||r?n.split(e):[]}}function We(t){var r=t?ge(g.arr(t)?t.map(Ct):Ct(t)):[];return me(r,function(e,n,i){return i.indexOf(e)===n})}function Ut(t){var r=We(t);return r.map(function(e,n){return{target:e,id:n,total:r.length,transforms:{list:Dt(e)}}})}function Cn(t,r){var e=qe(r);if(/^spring/.test(e.easing)&&(e.duration=Mt(e.easing)),g.arr(t)){var n=t.length,i=n===2&&!g.obj(t[0]);i?t={value:t}:g.fnc(r.duration)||(e.duration=r.duration/n)}var o=g.arr(t)?t:[t];return o.map(function(a,u){var s=g.obj(a)&&!g.pth(a)?a:{value:a};return g.und(s.delay)&&(s.delay=u?0:r.delay),g.und(s.endDelay)&&(s.endDelay=u===o.length-1?r.endDelay:0),s}).map(function(a){return ye(a,e)})}function Bn(t){for(var r=me(ge(t.map(function(o){return Object.keys(o)})),function(o){return g.key(o)}).reduce(function(o,a){return o.indexOf(a)<0&&o.push(a),o},[]),e={},n=function(o){var a=r[o];e[a]=t.map(function(u){var s={};for(var c in u)g.key(c)?c==a&&(s.value=u[c]):s[c]=u[c];return s})},i=0;i<r.length;i++)n(i);return e}function Dn(t,r){var e=[],n=r.keyframes;n&&(r=ye(Bn(n),r));for(var i in r)g.key(i)&&e.push({name:i,tweens:Cn(r[i],t)});return e}function _n(t,r){var e={};for(var n in t){var i=Fe(t[n],r);g.arr(i)&&(i=i.map(function(o){return Fe(o,r)}),i.length===1&&(i=i[0])),e[n]=i}return e.duration=parseFloat(e.duration),e.delay=parseFloat(e.delay),e}function qn(t,r){var e;return t.tweens.map(function(n){var i=_n(n,r),o=i.value,a=g.arr(o)?o[1]:o,u=z(a),s=Ve(r.target,t.name,u,r),c=e?e.to.original:s,l=g.arr(o)?o[0]:c,h=z(l)||z(s),f=u||h;return g.und(a)&&(a=c),i.from=$t(l,f),i.to=$t(ze(a,l),f),i.start=e?e.end:0,i.end=i.start+i.delay+i.duration+i.endDelay,i.easing=De(i.easing,i.duration),i.isPath=g.pth(o),i.isPathTargetInsideSVG=i.isPath&&g.svg(r.target),i.isColor=g.col(i.from.original),i.isColor&&(i.round=1),e=i,i})}var Vt={css:function(t,r,e){return t.style[r]=e},attribute:function(t,r,e){return t.setAttribute(r,e)},object:function(t,r,e){return t[r]=e},transform:function(t,r,e,n,i){if(n.list.set(r,e),r===n.last||i){var o="";n.list.forEach(function(a,u){o+=u+"("+a+") "}),t.style.transform=o}}};function zt(t,r){var e=Ut(t);e.forEach(function(n){for(var i in r){var o=Fe(r[i],n),a=n.target,u=z(o),s=Ve(a,i,u,n),c=u||z(s),l=ze(_t(o,c),s),h=Ue(a,i);Vt[h](a,i,l,n.transforms,!0)}})}function Hn(t,r){var e=Ue(t.target,r.name);if(e){var n=qn(r,t),i=n[n.length-1];return{type:e,property:r.name,animatable:t,tweens:n,duration:i.end,delay:n[0].delay,endDelay:i.endDelay}}}function Fn(t,r){return me(ge(t.map(function(e){return r.map(function(n){return Hn(e,n)})})),function(e){return!g.und(e)})}function Nt(t,r){var e=t.length,n=function(o){return o.timelineOffset?o.timelineOffset:0},i={};return i.duration=e?Math.max.apply(Math,t.map(function(o){return n(o)+o.duration})):r.duration,i.delay=e?Math.min.apply(Math,t.map(function(o){return n(o)+o.delay})):r.delay,i.endDelay=e?i.duration-Math.max.apply(Math,t.map(function(o){return n(o)+o.duration-o.endDelay})):r.endDelay,i}var Wt=0;function $n(t){var r=He(Tt,t),e=He(Ce,t),n=Dn(e,t),i=Ut(t.targets),o=Fn(i,n),a=Nt(o,e),u=Wt;return Wt++,ye(r,{id:u,children:[],animatables:i,animations:o,duration:a.duration,delay:a.delay,endDelay:a.endDelay})}var D=[],Yt=function(){var t;function r(){!t&&(!Kt()||!L.suspendWhenDocumentHidden)&&D.length>0&&(t=requestAnimationFrame(e))}function e(i){for(var o=D.length,a=0;a<o;){var u=D[a];u.paused?(D.splice(a,1),o--):(u.tick(i),a++)}t=a>0?requestAnimationFrame(e):void 0}function n(){!L.suspendWhenDocumentHidden||(Kt()?t=cancelAnimationFrame(t):(D.forEach(function(i){return i._onDocumentVisibility()}),Yt()))}return typeof document!="undefined"&&document.addEventListener("visibilitychange",n),r}();function Kt(){return!!document&&document.hidden}function L(t){t===void 0&&(t={});var r=0,e=0,n=0,i,o=0,a=null;function u(m){var y=window.Promise&&new Promise(function(x){return a=x});return m.finished=y,y}var s=$n(t);u(s);function c(){var m=s.direction;m!=="alternate"&&(s.direction=m!=="normal"?"normal":"reverse"),s.reversed=!s.reversed,i.forEach(function(y){return y.reversed=s.reversed})}function l(m){return s.reversed?s.duration-m:m}function h(){r=0,e=l(s.currentTime)*(1/L.speed)}function f(m,y){y&&y.seek(m-y.timelineOffset)}function v(m){if(s.reversePlayback)for(var x=o;x--;)f(m,i[x]);else for(var y=0;y<o;y++)f(m,i[y])}function p(m){for(var y=0,x=s.animations,P=x.length;y<P;){var E=x[y],_=E.animatable,R=E.tweens,C=R.length-1,I=R[C];C&&(I=me(R,function(Ai){return m<Ai.end})[0]||I);for(var ie=$(m-I.start-I.delay,0,I.duration)/I.duration,xe=isNaN(ie)?1:I.easing(ie),q=I.to.strings,et=I.round,tt=[],Pi=I.to.numbers.length,oe=void 0,ce=0;ce<Pi;ce++){var le=void 0,fr=I.to.numbers[ce],hr=I.from.numbers[ce]||0;I.isPath?le=Rn(I.value,xe*fr,I.isPathTargetInsideSVG):le=hr+xe*(fr-hr),et&&(I.isColor&&ce>2||(le=Math.round(le*et)/et)),tt.push(le)}var dr=q.length;if(!dr)oe=tt[0];else{oe=q[0];for(var fe=0;fe<dr;fe++){q[fe];var vr=q[fe+1],rt=tt[fe];isNaN(rt)||(vr?oe+=rt+vr:oe+=rt+" ")}}Vt[E.type](_.target,E.property,oe,_.transforms),E.currentValue=oe,y++}}function d(m){s[m]&&!s.passThrough&&s[m](s)}function w(){s.remaining&&s.remaining!==!0&&s.remaining--}function b(m){var y=s.duration,x=s.delay,P=y-s.endDelay,E=l(m);s.progress=$(E/y*100,0,100),s.reversePlayback=E<s.currentTime,i&&v(E),!s.began&&s.currentTime>0&&(s.began=!0,d("begin")),!s.loopBegan&&s.currentTime>0&&(s.loopBegan=!0,d("loopBegin")),E<=x&&s.currentTime!==0&&p(0),(E>=P&&s.currentTime!==y||!y)&&p(y),E>x&&E<P?(s.changeBegan||(s.changeBegan=!0,s.changeCompleted=!1,d("changeBegin")),d("change"),p(E)):s.changeBegan&&(s.changeCompleted=!0,s.changeBegan=!1,d("changeComplete")),s.currentTime=$(E,0,y),s.began&&d("update"),m>=y&&(e=0,w(),s.remaining?(r=n,d("loopComplete"),s.loopBegan=!1,s.direction==="alternate"&&c()):(s.paused=!0,s.completed||(s.completed=!0,d("loopComplete"),d("complete"),!s.passThrough&&"Promise"in window&&(a(),u(s)))))}return s.reset=function(){var m=s.direction;s.passThrough=!1,s.currentTime=0,s.progress=0,s.paused=!0,s.began=!1,s.loopBegan=!1,s.changeBegan=!1,s.completed=!1,s.changeCompleted=!1,s.reversePlayback=!1,s.reversed=m==="reverse",s.remaining=s.loop,i=s.children,o=i.length;for(var y=o;y--;)s.children[y].reset();(s.reversed&&s.loop!==!0||m==="alternate"&&s.loop===1)&&s.remaining++,p(s.reversed?s.duration:0)},s._onDocumentVisibility=h,s.set=function(m,y){return zt(m,y),s},s.tick=function(m){n=m,r||(r=n),b((n+(e-r))*L.speed)},s.seek=function(m){b(l(m))},s.pause=function(){s.paused=!0,h()},s.play=function(){!s.paused||(s.completed&&s.reset(),s.paused=!1,D.push(s),h(),Yt())},s.reverse=function(){c(),s.completed=!s.reversed,h()},s.restart=function(){s.reset(),s.play()},s.remove=function(m){var y=We(m);Gt(y,s)},s.reset(),s.autoplay&&s.play(),s}function Qt(t,r){for(var e=r.length;e--;)_e(t,r[e].animatable.target)&&r.splice(e,1)}function Gt(t,r){var e=r.animations,n=r.children;Qt(t,e);for(var i=n.length;i--;){var o=n[i],a=o.animations;Qt(t,a),!a.length&&!o.children.length&&n.splice(i,1)}!e.length&&!n.length&&r.pause()}function Un(t){for(var r=We(t),e=D.length;e--;){var n=D[e];Gt(r,n)}}function Vn(t,r){r===void 0&&(r={});var e=r.direction||"normal",n=r.easing?De(r.easing):null,i=r.grid,o=r.axis,a=r.from||0,u=a==="first",s=a==="center",c=a==="last",l=g.arr(t),h=parseFloat(l?t[0]:t),f=l?parseFloat(t[1]):0,v=z(l?t[1]:t)||0,p=r.start||0+(l?h:0),d=[],w=0;return function(b,m,y){if(u&&(a=0),s&&(a=(y-1)/2),c&&(a=y-1),!d.length){for(var x=0;x<y;x++){if(!i)d.push(Math.abs(a-x));else{var P=s?(i[0]-1)/2:a%i[0],E=s?(i[1]-1)/2:Math.floor(a/i[0]),_=x%i[0],R=Math.floor(x/i[0]),C=P-_,I=E-R,ie=Math.sqrt(C*C+I*I);o==="x"&&(ie=-C),o==="y"&&(ie=-I),d.push(ie)}w=Math.max.apply(Math,d)}n&&(d=d.map(function(q){return n(q/w)*w})),e==="reverse"&&(d=d.map(function(q){return o?q<0?q*-1:-q:Math.abs(w-q)}))}var xe=l?(f-h)/w:h;return p+xe*(Math.round(d[m]*100)/100)+v}}function zn(t){t===void 0&&(t={});var r=L(t);return r.duration=0,r.add=function(e,n){var i=D.indexOf(r),o=r.children;i>-1&&D.splice(i,1);function a(f){f.passThrough=!0}for(var u=0;u<o.length;u++)a(o[u]);var s=ye(e,He(Ce,t));s.targets=s.targets||t.targets;var c=r.duration;s.autoplay=!1,s.direction=r.direction,s.timelineOffset=g.und(n)?c:ze(n,c),a(r),r.seek(s.timelineOffset);var l=L(s);a(l),o.push(l);var h=Nt(o,t);return r.delay=h.delay,r.endDelay=h.endDelay,r.duration=h.duration,r.seek(0),r.reset(),r.autoplay&&r.play(),r},r}L.version="3.2.1",L.speed=1,L.suspendWhenDocumentHidden=!0,L.running=D,L.remove=Un,L.get=Ve,L.set=zt,L.convertPx=$e,L.path=jn,L.setDashoffset=On,L.stagger=Vn,L.timeline=zn,L.easing=De,L.penner=jt,L.random=function(t,r){return Math.floor(Math.random()*(r-t+1))+t};function Zt(t,r){for(var e=0;e<r.length;e++){var n=r[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Ye(t,r,e){return r&&Zt(t.prototype,r),e&&Zt(t,e),t}function G(){return(G=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var e=arguments[r];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t}).apply(this,arguments)}function be(t,r){t.prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r}function Jt(t){return(Jt=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)})(t)}function Ke(t,r){return(Ke=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(t,r)}function Xt(t,r,e){return(Xt=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}()?Reflect.construct:function(n,i,o){var a=[null];a.push.apply(a,i);var u=new(Function.bind.apply(n,a));return o&&Ke(u,o.prototype),u}).apply(null,arguments)}function er(t){var r=typeof Map=="function"?new Map:void 0;return(er=function(e){if(e===null||Function.toString.call(e).indexOf("[native code]")===-1)return e;if(typeof e!="function")throw new TypeError("Super expression must either be null or a function");if(r!==void 0){if(r.has(e))return r.get(e);r.set(e,n)}function n(){return Xt(e,arguments,Jt(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Ke(n,e)})(t)}function re(t,r){try{var e=t()}catch(n){return r(n)}return e&&e.then?e.then(void 0,r):e}typeof Symbol!="undefined"&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),typeof Symbol!="undefined"&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));var K,Nn="2.9.7",Wn=function(){};(function(t){t[t.off=0]="off",t[t.error=1]="error",t[t.warning=2]="warning",t[t.info=3]="info",t[t.debug=4]="debug"})(K||(K={}));var tr=K.off,Z=function(){function t(e){this.t=e}t.getLevel=function(){return tr},t.setLevel=function(e){return tr=K[e]};var r=t.prototype;return r.error=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];this.i(console.error,K.error,n)},r.warn=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];this.i(console.warn,K.warning,n)},r.info=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];this.i(console.info,K.info,n)},r.debug=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];this.i(console.log,K.debug,n)},r.i=function(e,n,i){n<=t.getLevel()&&e.apply(console,["["+this.t+"] "].concat(i))},t}(),J=Ze,Yn=nr,Kn=Qe,Qn=ir,Gn=or,rr="/",Zn=new RegExp(["(\\\\.)","(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?"].join("|"),"g");function Qe(t,r){for(var e,n=[],i=0,o=0,a="",u=r&&r.delimiter||rr,s=r&&r.whitelist||void 0,c=!1;(e=Zn.exec(t))!==null;){var l=e[0],h=e[1],f=e.index;if(a+=t.slice(o,f),o=f+l.length,h)a+=h[1],c=!0;else{var v="",p=e[2],d=e[3],w=e[4],b=e[5];if(!c&&a.length){var m=a.length-1,y=a[m];(!s||s.indexOf(y)>-1)&&(v=y,a=a.slice(0,m))}a&&(n.push(a),a="",c=!1);var x=d||w,P=v||u;n.push({name:p||i++,prefix:v,delimiter:P,optional:b==="?"||b==="*",repeat:b==="+"||b==="*",pattern:x?Jn(x):"[^"+N(P===u?P:P+u)+"]+?"})}}return(a||o<t.length)&&n.push(a+t.substr(o)),n}function nr(t,r){return function(e,n){var i=t.exec(e);if(!i)return!1;for(var o=i[0],a=i.index,u={},s=n&&n.decode||decodeURIComponent,c=1;c<i.length;c++)if(i[c]!==void 0){var l=r[c-1];u[l.name]=l.repeat?i[c].split(l.delimiter).map(function(h){return s(h,l)}):s(i[c],l)}return{path:o,index:a,params:u}}}function ir(t,r){for(var e=new Array(t.length),n=0;n<t.length;n++)typeof t[n]=="object"&&(e[n]=new RegExp("^(?:"+t[n].pattern+")$",Ge(r)));return function(i,o){for(var a="",u=o&&o.encode||encodeURIComponent,s=!o||o.validate!==!1,c=0;c<t.length;c++){var l=t[c];if(typeof l!="string"){var h,f=i?i[l.name]:void 0;if(Array.isArray(f)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but got array');if(f.length===0){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var v=0;v<f.length;v++){if(h=u(f[v],l),s&&!e[c].test(h))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'"');a+=(v===0?l.prefix:l.delimiter)+h}}else if(typeof f!="string"&&typeof f!="number"&&typeof f!="boolean"){if(!l.optional)throw new TypeError('Expected "'+l.name+'" to be '+(l.repeat?"an array":"a string"))}else{if(h=u(String(f),l),s&&!e[c].test(h))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but got "'+h+'"');a+=l.prefix+h}}else a+=l}return a}}function N(t){return t.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function Jn(t){return t.replace(/([=!:$/()])/g,"\\$1")}function Ge(t){return t&&t.sensitive?"":"i"}function or(t,r,e){for(var n=(e=e||{}).strict,i=e.start!==!1,o=e.end!==!1,a=e.delimiter||rr,u=[].concat(e.endsWith||[]).map(N).concat("$").join("|"),s=i?"^":"",c=0;c<t.length;c++){var l=t[c];if(typeof l=="string")s+=N(l);else{var h=l.repeat?"(?:"+l.pattern+")(?:"+N(l.delimiter)+"(?:"+l.pattern+"))*":l.pattern;r&&r.push(l),s+=l.optional?l.prefix?"(?:"+N(l.prefix)+"("+h+"))?":"("+h+")?":N(l.prefix)+"("+h+")"}}if(o)n||(s+="(?:"+N(a)+")?"),s+=u==="$"?"$":"(?="+u+")";else{var f=t[t.length-1],v=typeof f=="string"?f[f.length-1]===a:f===void 0;n||(s+="(?:"+N(a)+"(?="+u+"))?"),v||(s+="(?="+N(a)+"|"+u+")")}return new RegExp(s,Ge(e))}function Ze(t,r,e){return t instanceof RegExp?function(n,i){if(!i)return n;var o=n.source.match(/\((?!\?)/g);if(o)for(var a=0;a<o.length;a++)i.push({name:a,prefix:null,delimiter:null,optional:!1,repeat:!1,pattern:null});return n}(t,r):Array.isArray(t)?function(n,i,o){for(var a=[],u=0;u<n.length;u++)a.push(Ze(n[u],i,o).source);return new RegExp("(?:"+a.join("|")+")",Ge(o))}(t,r,e):function(n,i,o){return or(Qe(n,o),i,o)}(t,r,e)}J.match=function(t,r){var e=[];return nr(Ze(t,e,r),e)},J.regexpToFunction=Yn,J.parse=Kn,J.compile=function(t,r){return ir(Qe(t,r),r)},J.tokensToFunction=Qn,J.tokensToRegExp=Gn;var V={container:"container",history:"history",namespace:"namespace",prefix:"data-barba",prevent:"prevent",wrapper:"wrapper"},X=new(function(){function t(){this.o=V,this.u=new DOMParser}var r=t.prototype;return r.toString=function(e){return e.outerHTML},r.toDocument=function(e){return this.u.parseFromString(e,"text/html")},r.toElement=function(e){var n=document.createElement("div");return n.innerHTML=e,n},r.getHtml=function(e){return e===void 0&&(e=document),this.toString(e.documentElement)},r.getWrapper=function(e){return e===void 0&&(e=document),e.querySelector("["+this.o.prefix+'="'+this.o.wrapper+'"]')},r.getContainer=function(e){return e===void 0&&(e=document),e.querySelector("["+this.o.prefix+'="'+this.o.container+'"]')},r.removeContainer=function(e){document.body.contains(e)&&e.parentNode.removeChild(e)},r.addContainer=function(e,n){var i=this.getContainer();i?this.s(e,i):n.appendChild(e)},r.getNamespace=function(e){e===void 0&&(e=document);var n=e.querySelector("["+this.o.prefix+"-"+this.o.namespace+"]");return n?n.getAttribute(this.o.prefix+"-"+this.o.namespace):null},r.getHref=function(e){if(e.tagName&&e.tagName.toLowerCase()==="a"){if(typeof e.href=="string")return e.href;var n=e.getAttribute("href")||e.getAttribute("xlink:href");if(n)return this.resolveUrl(n.baseVal||n)}return null},r.resolveUrl=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var o=n.length;if(o===0)throw new Error("resolveUrl requires at least one argument; got none.");var a=document.createElement("base");if(a.href=arguments[0],o===1)return a.href;var u=document.getElementsByTagName("head")[0];u.insertBefore(a,u.firstChild);for(var s,c=document.createElement("a"),l=1;l<o;l++)c.href=arguments[l],a.href=s=c.href;return u.removeChild(a),s},r.s=function(e,n){n.parentNode.insertBefore(e,n.nextSibling)},t}()),ar=new(function(){function t(){this.h=[],this.v=-1}var r=t.prototype;return r.init=function(e,n){this.l="barba";var i={ns:n,scroll:{x:window.scrollX,y:window.scrollY},url:e};this.h.push(i),this.v=0;var o={from:this.l,index:0,states:[].concat(this.h)};window.history&&window.history.replaceState(o,"",e)},r.change=function(e,n,i){if(i&&i.state){var o=i.state,a=o.index;n=this.m(this.v-a),this.replace(o.states),this.v=a}else this.add(e,n);return n},r.add=function(e,n){var i=this.size,o=this.p(n),a={ns:"tmp",scroll:{x:window.scrollX,y:window.scrollY},url:e};this.h.push(a),this.v=i;var u={from:this.l,index:i,states:[].concat(this.h)};switch(o){case"push":window.history&&window.history.pushState(u,"",e);break;case"replace":window.history&&window.history.replaceState(u,"",e)}},r.update=function(e,n){var i=n||this.v,o=G({},this.get(i),{},e);this.set(i,o)},r.remove=function(e){e?this.h.splice(e,1):this.h.pop(),this.v--},r.clear=function(){this.h=[],this.v=-1},r.replace=function(e){this.h=e},r.get=function(e){return this.h[e]},r.set=function(e,n){return this.h[e]=n},r.p=function(e){var n="push",i=e,o=V.prefix+"-"+V.history;return i.hasAttribute&&i.hasAttribute(o)&&(n=i.getAttribute(o)),n},r.m=function(e){return Math.abs(e)>1?e>0?"forward":"back":e===0?"popstate":e>0?"back":"forward"},Ye(t,[{key:"current",get:function(){return this.h[this.v]}},{key:"state",get:function(){return this.h[this.h.length-1]}},{key:"previous",get:function(){return this.v<1?null:this.h[this.v-1]}},{key:"size",get:function(){return this.h.length}}]),t}()),we=function(t,r){try{var e=function(){if(!r.next.html)return Promise.resolve(t).then(function(n){var i=r.next;if(n){var o=X.toElement(n);i.namespace=X.getNamespace(o),i.container=X.getContainer(o),i.html=n,ar.update({ns:i.namespace});var a=X.toDocument(n);document.title=a.title}})}();return Promise.resolve(e&&e.then?e.then(function(){}):void 0)}catch(n){return Promise.reject(n)}},sr=J,Xn={__proto__:null,update:we,nextTick:function(){return new Promise(function(t){window.requestAnimationFrame(t)})},pathToRegexp:sr},ur=function(){return window.location.origin},ue=function(t){return t===void 0&&(t=window.location.href),Ee(t).port},Ee=function(t){var r,e=t.match(/:\d+/);if(e===null)/^http/.test(t)&&(r=80),/^https/.test(t)&&(r=443);else{var n=e[0].substring(1);r=parseInt(n,10)}var i,o=t.replace(ur(),""),a={},u=o.indexOf("#");u>=0&&(i=o.slice(u+1),o=o.slice(0,u));var s=o.indexOf("?");return s>=0&&(a=cr(o.slice(s+1)),o=o.slice(0,s)),{hash:i,path:o,port:r,query:a}},cr=function(t){return t.split("&").reduce(function(r,e){var n=e.split("=");return r[n[0]]=n[1],r},{})},Je=function(t){return t===void 0&&(t=window.location.href),t.replace(/(\/#.*|\/|#.*)$/,"")},ei={__proto__:null,getHref:function(){return window.location.href},getOrigin:ur,getPort:ue,getPath:function(t){return t===void 0&&(t=window.location.href),Ee(t).path},parse:Ee,parseQuery:cr,clean:Je};function ti(t,r,e){return r===void 0&&(r=2e3),new Promise(function(n,i){var o=new XMLHttpRequest;o.onreadystatechange=function(){if(o.readyState===XMLHttpRequest.DONE){if(o.status===200)n(o.responseText);else if(o.status){var a={status:o.status,statusText:o.statusText};e(t,a),i(a)}}},o.ontimeout=function(){var a=new Error("Timeout error ["+r+"]");e(t,a),i(a)},o.onerror=function(){var a=new Error("Fetch error");e(t,a),i(a)},o.open("GET",t),o.timeout=r,o.setRequestHeader("Accept","text/html,application/xhtml+xml,application/xml"),o.setRequestHeader("x-barba","yes"),o.send()})}var ri=function(t){return!!t&&(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"};function ne(t,r){return r===void 0&&(r={}),function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var o=!1,a=new Promise(function(u,s){r.async=function(){return o=!0,function(l,h){l?s(l):u(h)}};var c=t.apply(r,n);o||(ri(c)?c.then(u,s):u(c))});return a}}var Q=new(function(t){function r(){var n;return(n=t.call(this)||this).logger=new Z("@barba/core"),n.all=["ready","page","reset","currentAdded","currentRemoved","nextAdded","nextRemoved","beforeOnce","once","afterOnce","before","beforeLeave","leave","afterLeave","beforeEnter","enter","afterEnter","after"],n.registered=new Map,n.init(),n}be(r,t);var e=r.prototype;return e.init=function(){var n=this;this.registered.clear(),this.all.forEach(function(i){n[i]||(n[i]=function(o,a){n.registered.has(i)||n.registered.set(i,new Set),n.registered.get(i).add({ctx:a||{},fn:o})})})},e.do=function(n){for(var i=this,o=arguments.length,a=new Array(o>1?o-1:0),u=1;u<o;u++)a[u-1]=arguments[u];if(this.registered.has(n)){var s=Promise.resolve();return this.registered.get(n).forEach(function(c){s=s.then(function(){return ne(c.fn,c.ctx).apply(void 0,a)})}),s.catch(function(c){i.logger.debug("Hook error ["+n+"]"),i.logger.error(c)})}return Promise.resolve()},e.clear=function(){var n=this;this.all.forEach(function(i){delete n[i]}),this.init()},e.help=function(){this.logger.info("Available hooks: "+this.all.join(","));var n=[];this.registered.forEach(function(i,o){return n.push(o)}),this.logger.info("Registered hooks: "+n.join(","))},r}(Wn)),lr=function(){function t(r){if(this.P=[],typeof r=="boolean")this.g=r;else{var e=Array.isArray(r)?r:[r];this.P=e.map(function(n){return sr(n)})}}return t.prototype.checkHref=function(r){if(typeof this.g=="boolean")return this.g;var e=Ee(r).path;return this.P.some(function(n){return n.exec(e)!==null})},t}(),ni=function(t){function r(n){var i;return(i=t.call(this,n)||this).k=new Map,i}be(r,t);var e=r.prototype;return e.set=function(n,i,o){return this.k.set(n,{action:o,request:i}),{action:o,request:i}},e.get=function(n){return this.k.get(n)},e.getRequest=function(n){return this.k.get(n).request},e.getAction=function(n){return this.k.get(n).action},e.has=function(n){return!this.checkHref(n)&&this.k.has(n)},e.delete=function(n){return this.k.delete(n)},e.update=function(n,i){var o=G({},this.k.get(n),{},i);return this.k.set(n,o),o},r}(lr),ii=function(){return!window.history.pushState},oi=function(t){return!t.el||!t.href},ai=function(t){var r=t.event;return r.which>1||r.metaKey||r.ctrlKey||r.shiftKey||r.altKey},si=function(t){var r=t.el;return r.hasAttribute("target")&&r.target==="_blank"},ui=function(t){var r=t.el;return r.protocol!==void 0&&window.location.protocol!==r.protocol||r.hostname!==void 0&&window.location.hostname!==r.hostname},ci=function(t){var r=t.el;return r.port!==void 0&&ue()!==ue(r.href)},li=function(t){var r=t.el;return r.getAttribute&&typeof r.getAttribute("download")=="string"},fi=function(t){return t.el.hasAttribute(V.prefix+"-"+V.prevent)},hi=function(t){return Boolean(t.el.closest("["+V.prefix+"-"+V.prevent+'="all"]'))},di=function(t){var r=t.href;return Je(r)===Je()&&ue(r)===ue()},vi=function(t){function r(n){var i;return(i=t.call(this,n)||this).suite=[],i.tests=new Map,i.init(),i}be(r,t);var e=r.prototype;return e.init=function(){this.add("pushState",ii),this.add("exists",oi),this.add("newTab",ai),this.add("blank",si),this.add("corsDomain",ui),this.add("corsPort",ci),this.add("download",li),this.add("preventSelf",fi),this.add("preventAll",hi),this.add("sameUrl",di,!1)},e.add=function(n,i,o){o===void 0&&(o=!0),this.tests.set(n,i),o&&this.suite.push(n)},e.run=function(n,i,o,a){return this.tests.get(n)({el:i,event:o,href:a})},e.checkLink=function(n,i,o){var a=this;return this.suite.some(function(u){return a.run(u,n,i,o)})},r}(lr),Xe=function(t){function r(e,n){var i;n===void 0&&(n="Barba error");for(var o=arguments.length,a=new Array(o>2?o-2:0),u=2;u<o;u++)a[u-2]=arguments[u];return(i=t.call.apply(t,[this].concat(a))||this).error=e,i.label=n,Error.captureStackTrace&&Error.captureStackTrace(function(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}(i),r),i.name="BarbaError",i}return be(r,t),r}(er(Error)),pi=function(){function t(e){e===void 0&&(e=[]),this.logger=new Z("@barba/core"),this.all=[],this.page=[],this.once=[],this.A=[{name:"namespace",type:"strings"},{name:"custom",type:"function"}],e&&(this.all=this.all.concat(e)),this.update()}var r=t.prototype;return r.add=function(e,n){switch(e){case"rule":this.A.splice(n.position||0,0,n.value);break;case"transition":default:this.all.push(n)}this.update()},r.resolve=function(e,n){var i=this;n===void 0&&(n={});var o=n.once?this.once:this.page;o=o.filter(n.self?function(f){return f.name&&f.name==="self"}:function(f){return!f.name||f.name!=="self"});var a=new Map,u=o.find(function(f){var v=!0,p={};return!(!n.self||f.name!=="self")||(i.A.reverse().forEach(function(d){v&&(v=i.R(f,d,e,p),f.from&&f.to&&(v=i.R(f,d,e,p,"from")&&i.R(f,d,e,p,"to")),f.from&&!f.to&&(v=i.R(f,d,e,p,"from")),!f.from&&f.to&&(v=i.R(f,d,e,p,"to")))}),a.set(f,p),v)}),s=a.get(u),c=[];if(c.push(n.once?"once":"page"),n.self&&c.push("self"),s){var l,h=[u];Object.keys(s).length>0&&h.push(s),(l=this.logger).info.apply(l,["Transition found ["+c.join(",")+"]"].concat(h))}else this.logger.info("No transition found ["+c.join(",")+"]");return u},r.update=function(){var e=this;this.all=this.all.map(function(n){return e.T(n)}).sort(function(n,i){return n.priority-i.priority}).reverse().map(function(n){return delete n.priority,n}),this.page=this.all.filter(function(n){return n.leave!==void 0||n.enter!==void 0}),this.once=this.all.filter(function(n){return n.once!==void 0})},r.R=function(e,n,i,o,a){var u=!0,s=!1,c=e,l=n.name,h=l,f=l,v=l,p=a?c[a]:c,d=a==="to"?i.next:i.current;if(a?p&&p[l]:p[l]){switch(n.type){case"strings":default:var w=Array.isArray(p[h])?p[h]:[p[h]];d[h]&&w.indexOf(d[h])!==-1&&(s=!0),w.indexOf(d[h])===-1&&(u=!1);break;case"object":var b=Array.isArray(p[f])?p[f]:[p[f]];d[f]?(d[f].name&&b.indexOf(d[f].name)!==-1&&(s=!0),b.indexOf(d[f].name)===-1&&(u=!1)):u=!1;break;case"function":p[v](i)?s=!0:u=!1}s&&(a?(o[a]=o[a]||{},o[a][l]=c[a][l]):o[l]=c[l])}return u},r.O=function(e,n,i){var o=0;return(e[n]||e.from&&e.from[n]||e.to&&e.to[n])&&(o+=Math.pow(10,i),e.from&&e.from[n]&&(o+=1),e.to&&e.to[n]&&(o+=2)),o},r.T=function(e){var n=this;e.priority=0;var i=0;return this.A.forEach(function(o,a){i+=n.O(e,o.name,a+1)}),e.priority=i,e},t}(),mi=function(){function t(e){e===void 0&&(e=[]),this.logger=new Z("@barba/core"),this.S=!1,this.store=new pi(e)}var r=t.prototype;return r.get=function(e,n){return this.store.resolve(e,n)},r.doOnce=function(e){var n=e.data,i=e.transition;try{var o=function(){a.S=!1},a=this,u=i||{};a.S=!0;var s=re(function(){return Promise.resolve(a.j("beforeOnce",n,u)).then(function(){return Promise.resolve(a.once(n,u)).then(function(){return Promise.resolve(a.j("afterOnce",n,u)).then(function(){})})})},function(c){a.S=!1,a.logger.debug("Transition error [before/after/once]"),a.logger.error(c)});return Promise.resolve(s&&s.then?s.then(o):o())}catch(c){return Promise.reject(c)}},r.doPage=function(e){var n=e.data,i=e.transition,o=e.page,a=e.wrapper;try{var u=function(v){if(s)return v;c.S=!1},s=!1,c=this,l=i||{},h=l.sync===!0||!1;c.S=!0;var f=re(function(){function v(){return Promise.resolve(c.j("before",n,l)).then(function(){var d=!1;function w(m){return d?m:Promise.resolve(c.remove(n)).then(function(){return Promise.resolve(c.j("after",n,l)).then(function(){})})}var b=function(){if(h)return re(function(){return Promise.resolve(c.add(n,a)).then(function(){return Promise.resolve(c.j("beforeLeave",n,l)).then(function(){return Promise.resolve(c.j("beforeEnter",n,l)).then(function(){return Promise.resolve(Promise.all([c.leave(n,l),c.enter(n,l)])).then(function(){return Promise.resolve(c.j("afterLeave",n,l)).then(function(){return Promise.resolve(c.j("afterEnter",n,l)).then(function(){})})})})})})},function(P){if(c.M(P))throw new Xe(P,"Transition error [sync]")});var m=function(P){return d?P:re(function(){var E=function(){if(y!==!1)return Promise.resolve(c.add(n,a)).then(function(){return Promise.resolve(c.j("beforeEnter",n,l)).then(function(){return Promise.resolve(c.enter(n,l,y)).then(function(){return Promise.resolve(c.j("afterEnter",n,l)).then(function(){})})})})}();if(E&&E.then)return E.then(function(){})},function(E){if(c.M(E))throw new Xe(E,"Transition error [before/after/enter]")})},y=!1,x=re(function(){return Promise.resolve(c.j("beforeLeave",n,l)).then(function(){return Promise.resolve(Promise.all([c.leave(n,l),we(o,n)]).then(function(P){return P[0]})).then(function(P){return y=P,Promise.resolve(c.j("afterLeave",n,l)).then(function(){})})})},function(P){if(c.M(P))throw new Xe(P,"Transition error [before/after/leave]")});return x&&x.then?x.then(m):m(x)}();return b&&b.then?b.then(w):w(b)})}var p=function(){if(h)return Promise.resolve(we(o,n)).then(function(){})}();return p&&p.then?p.then(v):v()},function(v){throw c.S=!1,v.name&&v.name==="BarbaError"?(c.logger.debug(v.label),c.logger.error(v.error),v):(c.logger.debug("Transition error [page]"),c.logger.error(v),v)});return Promise.resolve(f&&f.then?f.then(u):u(f))}catch(v){return Promise.reject(v)}},r.once=function(e,n){try{return Promise.resolve(Q.do("once",e,n)).then(function(){return n.once?ne(n.once,n)(e):Promise.resolve()})}catch(i){return Promise.reject(i)}},r.leave=function(e,n){try{return Promise.resolve(Q.do("leave",e,n)).then(function(){return n.leave?ne(n.leave,n)(e):Promise.resolve()})}catch(i){return Promise.reject(i)}},r.enter=function(e,n,i){try{return Promise.resolve(Q.do("enter",e,n)).then(function(){return n.enter?ne(n.enter,n)(e,i):Promise.resolve()})}catch(o){return Promise.reject(o)}},r.add=function(e,n){try{return X.addContainer(e.next.container,n),Q.do("nextAdded",e),Promise.resolve()}catch(i){return Promise.reject(i)}},r.remove=function(e){try{return X.removeContainer(e.current.container),Q.do("currentRemoved",e),Promise.resolve()}catch(n){return Promise.reject(n)}},r.M=function(e){return e.message?!/Timeout error|Fetch error/.test(e.message):!e.status},r.j=function(e,n,i){try{return Promise.resolve(Q.do(e,n,i)).then(function(){return i[e]?ne(i[e],i)(n):Promise.resolve()})}catch(o){return Promise.reject(o)}},Ye(t,[{key:"isRunning",get:function(){return this.S},set:function(e){this.S=e}},{key:"hasOnce",get:function(){return this.store.once.length>0}},{key:"hasSelf",get:function(){return this.store.all.some(function(e){return e.name==="self"})}},{key:"shouldWait",get:function(){return this.store.all.some(function(e){return e.to&&!e.to.route||e.sync})}}]),t}(),gi=function(){function t(r){var e=this;this.names=["beforeLeave","afterLeave","beforeEnter","afterEnter"],this.byNamespace=new Map,r.length!==0&&(r.forEach(function(n){e.byNamespace.set(n.namespace,n)}),this.names.forEach(function(n){Q[n](e.L(n))}))}return t.prototype.L=function(r){var e=this;return function(n){var i=r.match(/enter/i)?n.next:n.current,o=e.byNamespace.get(i.namespace);return o&&o[r]?ne(o[r],o)(n):Promise.resolve()}},t}();Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(t){var r=this;do{if(r.matches(t))return r;r=r.parentElement||r.parentNode}while(r!==null&&r.nodeType===1);return null});var yi={container:null,html:"",namespace:"",url:{hash:"",href:"",path:"",port:null,query:{}}},bi=new(function(){function t(){this.version=Nn,this.schemaPage=yi,this.Logger=Z,this.logger=new Z("@barba/core"),this.plugins=[],this.hooks=Q,this.dom=X,this.helpers=Xn,this.history=ar,this.request=ti,this.url=ei}var r=t.prototype;return r.use=function(e,n){var i=this.plugins;i.indexOf(e)>-1?this.logger.warn("Plugin ["+e.name+"] already installed."):typeof e.install=="function"?(e.install(this,n),i.push(e)):this.logger.warn("Plugin ["+e.name+'] has no "install" method.')},r.init=function(e){var n=e===void 0?{}:e,i=n.transitions,o=i===void 0?[]:i,a=n.views,u=a===void 0?[]:a,s=n.schema,c=s===void 0?V:s,l=n.requestError,h=n.timeout,f=h===void 0?2e3:h,v=n.cacheIgnore,p=v!==void 0&&v,d=n.prefetchIgnore,w=d!==void 0&&d,b=n.preventRunning,m=b!==void 0&&b,y=n.prevent,x=y===void 0?null:y,P=n.debug,E=n.logLevel;if(Z.setLevel((P!==void 0&&P)===!0?"debug":E===void 0?"off":E),this.logger.info(this.version),Object.keys(c).forEach(function(C){V[C]&&(V[C]=c[C])}),this.$=l,this.timeout=f,this.cacheIgnore=p,this.prefetchIgnore=w,this.preventRunning=m,this._=this.dom.getWrapper(),!this._)throw new Error("[@barba/core] No Barba wrapper found");this._.setAttribute("aria-live","polite"),this.q();var _=this.data.current;if(!_.container)throw new Error("[@barba/core] No Barba container found");if(this.cache=new ni(p),this.prevent=new vi(w),this.transitions=new mi(o),this.views=new gi(u),x!==null){if(typeof x!="function")throw new Error("[@barba/core] Prevent should be a function");this.prevent.add("preventCustom",x)}this.history.init(_.url.href,_.namespace),this.B=this.B.bind(this),this.U=this.U.bind(this),this.D=this.D.bind(this),this.F(),this.plugins.forEach(function(C){return C.init()});var R=this.data;R.trigger="barba",R.next=R.current,R.current=G({},this.schemaPage),this.hooks.do("ready",R),this.once(R),this.q()},r.destroy=function(){this.q(),this.H(),this.history.clear(),this.hooks.clear(),this.plugins=[]},r.force=function(e){window.location.assign(e)},r.go=function(e,n,i){var o;if(n===void 0&&(n="barba"),this.transitions.isRunning)this.force(e);else if(!(o=n==="popstate"?this.history.current&&this.url.getPath(this.history.current.url)===this.url.getPath(e):this.prevent.run("sameUrl",null,null,e))||this.transitions.hasSelf)return n=this.history.change(e,n,i),i&&(i.stopPropagation(),i.preventDefault()),this.page(e,n,o)},r.once=function(e){try{var n=this;return Promise.resolve(n.hooks.do("beforeEnter",e)).then(function(){function i(){return Promise.resolve(n.hooks.do("afterEnter",e)).then(function(){})}var o=function(){if(n.transitions.hasOnce){var a=n.transitions.get(e,{once:!0});return Promise.resolve(n.transitions.doOnce({transition:a,data:e})).then(function(){})}}();return o&&o.then?o.then(i):i()})}catch(i){return Promise.reject(i)}},r.page=function(e,n,i){try{var o=function(){var c=a.data;return Promise.resolve(a.hooks.do("page",c)).then(function(){var l=re(function(){var h=a.transitions.get(c,{once:!1,self:i});return Promise.resolve(a.transitions.doPage({data:c,page:u,transition:h,wrapper:a._})).then(function(){a.q()})},function(){Z.getLevel()===0&&a.force(c.current.url.href)});if(l&&l.then)return l.then(function(){})})},a=this;a.data.next.url=G({href:e},a.url.parse(e)),a.data.trigger=n;var u=a.cache.has(e)?a.cache.update(e,{action:"click"}).request:a.cache.set(e,a.request(e,a.timeout,a.onRequestError.bind(a,n)),"click").request,s=function(){if(a.transitions.shouldWait)return Promise.resolve(we(u,a.data)).then(function(){})}();return Promise.resolve(s&&s.then?s.then(o):o())}catch(c){return Promise.reject(c)}},r.onRequestError=function(e){this.transitions.isRunning=!1;for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];var a=i[0],u=i[1],s=this.cache.getAction(a);return this.cache.delete(a),!(this.$&&this.$(e,s,a,u)===!1||(s==="click"&&this.force(a),1))},r.prefetch=function(e){var n=this;this.cache.has(e)||this.cache.set(e,this.request(e,this.timeout,this.onRequestError.bind(this,"barba")).catch(function(i){n.logger.error(i)}),"prefetch")},r.F=function(){this.prefetchIgnore!==!0&&(document.addEventListener("mouseover",this.B),document.addEventListener("touchstart",this.B)),document.addEventListener("click",this.U),window.addEventListener("popstate",this.D)},r.H=function(){this.prefetchIgnore!==!0&&(document.removeEventListener("mouseover",this.B),document.removeEventListener("touchstart",this.B)),document.removeEventListener("click",this.U),window.removeEventListener("popstate",this.D)},r.B=function(e){var n=this,i=this.I(e);if(i){var o=this.dom.getHref(i);this.prevent.checkHref(o)||this.cache.has(o)||this.cache.set(o,this.request(o,this.timeout,this.onRequestError.bind(this,i)).catch(function(a){n.logger.error(a)}),"enter")}},r.U=function(e){var n=this.I(e);if(n)return this.transitions.isRunning&&this.preventRunning?(e.preventDefault(),void e.stopPropagation()):void this.go(this.dom.getHref(n),n,e)},r.D=function(e){this.go(this.url.getHref(),"popstate",e)},r.I=function(e){for(var n=e.target;n&&!this.dom.getHref(n);)n=n.parentNode;if(n&&!this.prevent.checkLink(n,e,this.dom.getHref(n)))return n},r.q=function(){var e=this.url.getHref(),n={container:this.dom.getContainer(),html:this.dom.getHtml(),namespace:this.dom.getNamespace(),url:G({href:e},this.url.parse(e))};this.C={current:n,next:G({},this.schemaPage),trigger:void 0},this.hooks.do("reset",this.data)},Ye(t,[{key:"data",get:function(){return this.C}},{key:"wrapper",get:function(){return this._}}]),t}());function wi(){bi.init({cacheIgnore:!0,preventRunning:!0,prevent:({el:t})=>t.classList.contains("glightbox"),transitions:[{name:"default",async leave({current:t}){return await L({targets:t.container,translateX:-16,opacity:0,duration:375}).finished},afterLeave(){window.scrollTo({top:0})},afterEnter(){window.app.reload()}},{name:"back",from:{namespace:"post"},to:{namespace:"home"},async leave({current:t}){return await L({targets:t.container,translateX:16,opacity:0,duration:375}).finished}}]})}class Ei{constructor(r){this.config=r,this.theme=r.theme,this.scrollArr=[],this.util=Re.getInstance(r)}init(){["showComments","picPos"].forEach(e=>this[e].apply(this)),this.util.handleScroll(this.scrollArr)}showComments(){const r=document.getElementById("com-switch");r==null||r.addEventListener("click",()=>{const e=document.getElementById("post-comments");this.util.isDisplay(e)?(r.style.setProperty("transform","rotate(180deg)"),r.classList.add("syuanpi"),e.classList.remove("fadeInDown"),this.util.animationEnd(e,"syuanpi fadeOutUp",()=>{e.style.setProperty("display","nnone"),e.classList.remove("syuanpi","fadeOutUp")})):(e.style.setProperty("display","block"),e.classList.add("syuanpi","fadeInDown"),r.classList.remove("syuanpi"),r.style.setProperty("transform","rotate(180deg)"))})}picPos(){document.querySelectorAll(".post-content").forEach(r=>{r.querySelectorAll("img").forEach(e=>{var i;(i=e.parentElement)==null||i.style.setProperty("textAlign","center");let n=`<img src="${e.src}"`;this.theme.lazy&&(n=`<img data-src="${e.src}" class="lazyload" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAA1JREFUGFdj+P///38ACfsD/QVDRcoAAAAASUVORK5CYII="`),e.outerHTML=`<a href="${e.src}" class="glightbox" data-title="${e.alt}" data-gallery="post">${n} alt="${e.alt}"></a>`})}),window.GLightbox()}back2top(){var r;(r=document.querySelector(".to-top"))==null||r.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})})}hideMobileHeader(){const r=document.getElementById("mobile-header");this.scrollArr.push(e=>{e>5?r.classList.add("header-scroll"):r.classList.remove("header-scroll")})}updateRound(r){const e=this.getPageProgress(r);document.getElementById("scrollpercent").innerHTML=""+Math.min(e,100)}showToc(){const r=document.querySelectorAll(".toc-link"),e=document.querySelectorAll(".headerlink");this.scrollArr.push(n=>{const i=[...e].map(o=>o.scrollTop);document.querySelectorAll(".title-link a").forEach(o=>{o.classList[n>=0&&n<230?"add":"remove"]("active")}),r.forEach((o,a)=>{const u=a===r.length,s=i[a],c=u?1/0:i[a+1];o.classList[s<n+210&&n+210<=c?"add":"remove"]("active")})})}titleStatus(){const r=document.title;let e;document.addEventListener("visibilitychange",()=>{const n=Math.min(this.getPageProgress((document.scrollingElement||document.documentElement).scrollTop),100);document.hidden?(clearTimeout(e),document.title="Read "+n+"% \xB7 "+r):(document.title="Welcome Back \xB7 "+r,e=setTimeout(function(){document.title=r},3e3))})}showReward(){if(!this.theme.reward)return;const r=document.getElementById("reward-btn"),e=document.getElementById("reward-wrapper");r==null||r.addEventListener("click",()=>{this.util.isDisplay(e)?this.util.animationEnd(e,"melt",()=>{e==null||e.classList.remove("melt"),e==null||e.style.setProperty("display","none")}):(e==null||e.style.setProperty("display","flex"),this.util.animationEnd(e,"clarity",()=>{e==null||e.classList.remove("clarity")}))})}listenExit(r,e){te(r,"keyup").pipe(It(n=>n.code==="Escape")).subscribe(()=>e==null?void 0:e())}depth(r,e){const n=document.body,i=document.querySelector(".container-inner");n.classList.contains("under")?(n.classList.remove("under"),i==null||i.classList.remove("under"),e.apply(null)):(n.classList.add("under"),i==null||i.classList.add("under"),r.apply(null))}tagcloud(){const r=document.getElementById("tags"),e=document.getElementById("tagcloud"),n=document.getElementById("search"),i=()=>{e==null||e.classList.remove("shuttleIn"),this.util.animationEnd(e,"zoomOut",()=>{e==null||e.classList.remove("zoomOut","syuanpi","show")})},o=()=>{this.depth(()=>{e==null||e.classList.add("syuanpi","shuttleIn","show")},i)};this.listenExit(r,o),this.listenExit(document.querySelector(".tagcloud-taglist"),o),r==null||r.addEventListener("click",()=>{if(n!=null&&n.classList.contains("show")){e==null||e.classList.add("syuanpi","shuttleIn","show"),n.classList.remove("shuttleIn"),this.util.animationEnd(n,"zoomOut",()=>{n.classList.remove("zoomOut","syuanpi","show")});return}o()}),e==null||e.addEventListener("click",l=>{l.stopPropagation(),l.target.tagName==="DIV"&&this.depth(()=>{e.classList.add("syuanpi","shuttleIn","show")},i)});const a=te(document.querySelectorAll(".tagcloud-tag button"),"click").pipe(O(({target:l})=>l)),u=Xr(document.querySelectorAll(".tagcloud-postlist")),s=u.pipe(O(l=>l.classList.remove("active"))),c=a.pipe(je(()=>s));kt(c,a).pipe(O(([l,h])=>h),je(l=>u.pipe(It(h=>{var f;return((f=h.firstElementChild)==null?void 0:f.innerHTML.trim())===l.innerHTML.trim()})))).subscribe(l=>l.classList.add("active"))}search(){if(!this.theme.search)return;const r=document.getElementById("search"),e=document.getElementById("search-btn"),n=document.getElementById("search-input"),i=document.getElementById("search-result"),o=document.getElementById("tagcloud"),a=()=>{r==null||r.classList.remove("shuttleIn"),this.util.animationEnd(r,"zoomOut",()=>{r==null||r.classList.remove("zoomOut","syuanpi","show"),n.value=""})},u=()=>{this.depth(()=>{r==null||r.classList.add("syuanpi","shuttleIn","show"),n.focus()},a)};this.listenExit(r,u),e==null||e.addEventListener("click",()=>{if(o!=null&&o.classList.contains("show")){r==null||r.classList.add("syuanpi","shuttleIn","show"),o.classList.remove("shuttleIn"),this.util.animationEnd(o,"zoomOut",()=>{o.classList.remove("zoomOut","syuanpi","show")});return}u()}),r==null||r.addEventListener("click",s=>{s.stopPropagation(),s.target.tagName==="DIV"&&this.depth(()=>{r.classList.add("syuanpi","shuttleIn","show")},a)}),mn(`${this.config.baseUrl}search.xml`,"search-input").subscribe(s=>{const c=f=>`<ul class="search-result-list syuanpi fadeInUpShort">${f}</ul>`,l=({url:f,title:v,content:p})=>`
          <li class="search-result-item">
            <a href="${f}"><h2>${v}</h2></a>
            <p>${p}</p>
          </li>
        `,h=s.map(l);i.innerHTML=c(h.join(""))})}mobileHeader(){var o;const r=document.querySelector(".mobile-header-body"),e=document.querySelector(".header-menu-line"),n=document.getElementById("mobile-tags"),i=document.getElementById("tagcloud");n==null||n.addEventListener("click",()=>{r==null||r.classList.remove("show"),e==null||e.classList.remove("show"),i==null||i.classList.add("syuanpi","shuttleIn","show")}),(o=document.getElementById("mobile-left"))==null||o.addEventListener("click",()=>{this.depth(()=>{r==null||r.classList.add("show"),e==null||e.classList.add("show")},()=>{r==null||r.classList.remove("show"),e==null||e.classList.remove("show")})})}pjax(){!this.theme.pjax||wi()}bootstarp(){this.showToc(),this.back2top(),this.titleStatus(),this.init(),this.hideMobileHeader(),this.tagcloud(),this.search(),this.showReward(),this.mobileHeader(),this.pjax()}reload(){this.showComments()}getPageProgress(r){const e=document.body.scrollHeight,n=window.innerHeight;return Math.floor(r/(e-n)*100)}}class xi extends Ei{constructor(r){super(r)}back2top(){super.back2top();const r=document.getElementById("backtop");r==null||r.classList.remove("melt"),this.scrollArr.push(e=>{this.updateRound(e)})}switchToc(){var n;if(!this.theme.toc)return;const r=document.getElementById("header"),e=document.querySelector(".post-toc");(n=document.getElementById("switch-toc"))==null||n.addEventListener("click",i=>{i.stopPropagation(),r==null||r.classList.add("show_toc"),e==null||e.classList.remove("hide")}),r==null||r.addEventListener("click",i=>{i.stopPropagation(),r.classList.contains("show_toc")&&(r.classList.remove("show_toc"),e==null||e.classList.add("hide"))})}bootstarp(){super.bootstarp(),this.switchToc()}reload(){super.reload(),this.switchToc()}}return xi});

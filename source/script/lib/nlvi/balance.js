(function(k,S){typeof exports=="object"&&typeof module!="undefined"?module.exports=S():typeof define=="function"&&define.amd?define(S):(k=typeof globalThis!="undefined"?globalThis:k||self,k.Nlvi=S())})(this,function(){"use strict";var Si=Object.defineProperty,Li=Object.defineProperties;var Ii=Object.getOwnPropertyDescriptors;var gn=Object.getOwnPropertySymbols;var ki=Object.prototype.hasOwnProperty,Ti=Object.prototype.propertyIsEnumerable;var yn=(k,S,T)=>S in k?Si(k,S,{enumerable:!0,configurable:!0,writable:!0,value:T}):k[S]=T,bn=(k,S)=>{for(var T in S||(S={}))ki.call(S,T)&&yn(k,T,S[T]);if(gn)for(var T of gn(S))Ti.call(S,T)&&yn(k,T,S[T]);return k},wn=(k,S)=>Li(k,Ii(S));var k=function(t,n){return k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},k(t,n)};function S(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");k(t,n);function e(){this.constructor=t}t.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)}var T=function(){return T=Object.assign||function(n){for(var e,r=1,i=arguments.length;r<i;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},T.apply(this,arguments)};function En(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(e[r[i]]=t[r[i]]);return e}function xn(t,n,e,r){function i(o){return o instanceof e?o:new e(function(a){a(o)})}return new(e||(e=Promise))(function(o,a){function u(l){try{c(r.next(l))}catch(h){a(h)}}function s(l){try{c(r.throw(l))}catch(h){a(h)}}function c(l){l.done?o(l.value):i(l.value).then(u,s)}c((r=r.apply(t,n||[])).next())})}function rt(t,n){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function u(c){return function(l){return s([c,l])}}function s(c){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return e.label++,{value:c[1],done:!1};case 5:e.label++,i=c[1],c=[0];continue;case 7:c=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){e=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){e.label=c[1];break}if(c[0]===6&&e.label<o[1]){e.label=o[1],o=c;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(c);break}o[2]&&e.ops.pop(),e.trys.pop();continue}c=n.call(t,e)}catch(l){c=[6,l],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function ae(t){var n=typeof Symbol=="function"&&Symbol.iterator,e=n&&t[n],r=0;if(e)return e.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function B(t,n){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var r=e.call(t),i,o=[],a;try{for(;(n===void 0||n-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(u){a={error:u}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(a)throw a.error}}return o}function H(t,n,e){if(e||arguments.length===2)for(var r=0,i=n.length,o;r<i;r++)(o||!(r in n))&&(o||(o=Array.prototype.slice.call(n,0,r)),o[r]=n[r]);return t.concat(o||Array.prototype.slice.call(n))}function ee(t){return this instanceof ee?(this.v=t,this):new ee(t)}function Pn(t,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=e.apply(t,n||[]),i,o=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(f){r[f]&&(i[f]=function(v){return new Promise(function(p,d){o.push([f,v,p,d])>1||u(f,v)})})}function u(f,v){try{s(r[f](v))}catch(p){h(o[0][3],p)}}function s(f){f.value instanceof ee?Promise.resolve(f.value.v).then(c,l):h(o[0][2],f)}function c(f){u("next",f)}function l(f){u("throw",f)}function h(f,v){f(v),o.shift(),o.length&&u(o[0][0],o[0][1])}}function An(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t[Symbol.asyncIterator],e;return n?n.call(t):(t=typeof ae=="function"?ae(t):t[Symbol.iterator](),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(o){e[o]=t[o]&&function(a){return new Promise(function(u,s){a=t[o](a),i(u,s,a.done,a.value)})}}function i(o,a,u,s){Promise.resolve(s).then(function(c){o({value:c,done:u})},a)}}function A(t){return typeof t=="function"}function Sn(t){var n=function(r){Error.call(r),r.stack=new Error().stack},e=t(n);return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var Pe=Sn(function(t){return function(e){t(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(r,i){return i+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e}});function Ae(t,n){if(t){var e=t.indexOf(n);0<=e&&t.splice(e,1)}}var he=function(){function t(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var n,e,r,i,o;if(!this.closed){this.closed=!0;var a=this._parentage;if(a)if(this._parentage=null,Array.isArray(a))try{for(var u=ae(a),s=u.next();!s.done;s=u.next()){var c=s.value;c.remove(this)}}catch(d){n={error:d}}finally{try{s&&!s.done&&(e=u.return)&&e.call(u)}finally{if(n)throw n.error}}else a.remove(this);var l=this.initialTeardown;if(A(l))try{l()}catch(d){o=d instanceof Pe?d.errors:[d]}var h=this._finalizers;if(h){this._finalizers=null;try{for(var f=ae(h),v=f.next();!v.done;v=f.next()){var p=v.value;try{ot(p)}catch(d){o=o!=null?o:[],d instanceof Pe?o=H(H([],B(o)),B(d.errors)):o.push(d)}}}catch(d){r={error:d}}finally{try{v&&!v.done&&(i=f.return)&&i.call(f)}finally{if(r)throw r.error}}}if(o)throw new Pe(o)}},t.prototype.add=function(n){var e;if(n&&n!==this)if(this.closed)ot(n);else{if(n instanceof t){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(n)}},t.prototype._hasParent=function(n){var e=this._parentage;return e===n||Array.isArray(e)&&e.includes(n)},t.prototype._addParent=function(n){var e=this._parentage;this._parentage=Array.isArray(e)?(e.push(n),e):e?[e,n]:n},t.prototype._removeParent=function(n){var e=this._parentage;e===n?this._parentage=null:Array.isArray(e)&&Ae(e,n)},t.prototype.remove=function(n){var e=this._finalizers;e&&Ae(e,n),n instanceof t&&n._removeParent(this)},t.EMPTY=function(){var n=new t;return n.closed=!0,n}(),t}();he.EMPTY;function it(t){return t instanceof he||t&&"closed"in t&&A(t.remove)&&A(t.add)&&A(t.unsubscribe)}function ot(t){A(t)?t():t.unsubscribe()}var at={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Se={setTimeout:function(t,n){for(var e=[],r=2;r<arguments.length;r++)e[r-2]=arguments[r];var i=Se.delegate;return i!=null&&i.setTimeout?i.setTimeout.apply(i,H([t,n],B(e))):setTimeout.apply(void 0,H([t,n],B(e)))},clearTimeout:function(t){var n=Se.delegate;return((n==null?void 0:n.clearTimeout)||clearTimeout)(t)},delegate:void 0};function st(t){Se.setTimeout(function(){throw t})}function Le(){}function Ln(t){t()}var Ie=function(t){S(n,t);function n(e){var r=t.call(this)||this;return r.isStopped=!1,e?(r.destination=e,it(e)&&e.add(r)):r.destination=On,r}return n.create=function(e,r,i){return new Te(e,r,i)},n.prototype.next=function(e){this.isStopped||this._next(e)},n.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},n.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},n.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},n.prototype._next=function(e){this.destination.next(e)},n.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},n.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},n}(he),In=Function.prototype.bind;function ke(t,n){return In.call(t,n)}var kn=function(){function t(n){this.partialObserver=n}return t.prototype.next=function(n){var e=this.partialObserver;if(e.next)try{e.next(n)}catch(r){de(r)}},t.prototype.error=function(n){var e=this.partialObserver;if(e.error)try{e.error(n)}catch(r){de(r)}else de(n)},t.prototype.complete=function(){var n=this.partialObserver;if(n.complete)try{n.complete()}catch(e){de(e)}},t}(),Te=function(t){S(n,t);function n(e,r,i){var o=t.call(this)||this,a;if(A(e)||!e)a={next:e!=null?e:void 0,error:r!=null?r:void 0,complete:i!=null?i:void 0};else{var u;o&&at.useDeprecatedNextContext?(u=Object.create(e),u.unsubscribe=function(){return o.unsubscribe()},a={next:e.next&&ke(e.next,u),error:e.error&&ke(e.error,u),complete:e.complete&&ke(e.complete,u)}):a=e}return o.destination=new kn(a),o}return n}(Ie);function de(t){st(t)}function Tn(t){throw t}var On={closed:!0,next:Le,error:Tn,complete:Le},Oe=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function ut(t){return t}function Mn(t){return t.length===0?ut:t.length===1?t[0]:function(e){return t.reduce(function(r,i){return i(r)},e)}}var M=function(){function t(n){n&&(this._subscribe=n)}return t.prototype.lift=function(n){var e=new t;return e.source=this,e.operator=n,e},t.prototype.subscribe=function(n,e,r){var i=this,o=Rn(n)?n:new Te(n,e,r);return Ln(function(){var a=i,u=a.operator,s=a.source;o.add(u?u.call(o,s):s?i._subscribe(o):i._trySubscribe(o))}),o},t.prototype._trySubscribe=function(n){try{return this._subscribe(n)}catch(e){n.error(e)}},t.prototype.forEach=function(n,e){var r=this;return e=ct(e),new e(function(i,o){var a=new Te({next:function(u){try{n(u)}catch(s){o(s),a.unsubscribe()}},error:o,complete:i});r.subscribe(a)})},t.prototype._subscribe=function(n){var e;return(e=this.source)===null||e===void 0?void 0:e.subscribe(n)},t.prototype[Oe]=function(){return this},t.prototype.pipe=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return Mn(n)(this)},t.prototype.toPromise=function(n){var e=this;return n=ct(n),new n(function(r,i){var o;e.subscribe(function(a){return o=a},function(a){return i(a)},function(){return r(o)})})},t.create=function(n){return new t(n)},t}();function ct(t){var n;return(n=t!=null?t:at.Promise)!==null&&n!==void 0?n:Promise}function jn(t){return t&&A(t.next)&&A(t.error)&&A(t.complete)}function Rn(t){return t&&t instanceof Ie||jn(t)&&it(t)}function Cn(t){return A(t==null?void 0:t.lift)}function W(t){return function(n){if(Cn(n))return n.lift(function(e){try{return t(e,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function j(t,n,e,r,i){return new Bn(t,n,e,r,i)}var Bn=function(t){S(n,t);function n(e,r,i,o,a,u){var s=t.call(this,e)||this;return s.onFinalize=a,s.shouldUnsubscribe=u,s._next=r?function(c){try{r(c)}catch(l){e.error(l)}}:t.prototype._next,s._error=o?function(c){try{o(c)}catch(l){e.error(l)}finally{this.unsubscribe()}}:t.prototype._error,s._complete=i?function(){try{i()}catch(c){e.error(c)}finally{this.unsubscribe()}}:t.prototype._complete,s}return n.prototype.unsubscribe=function(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;t.prototype.unsubscribe.call(this),!r&&((e=this.onFinalize)===null||e===void 0||e.call(this))}},n}(Ie),lt={now:function(){return(lt.delegate||Date).now()},delegate:void 0},Dn=function(t){S(n,t);function n(e,r){return t.call(this)||this}return n.prototype.schedule=function(e,r){return this},n}(he),ve={setInterval:function(t,n){for(var e=[],r=2;r<arguments.length;r++)e[r-2]=arguments[r];var i=ve.delegate;return i!=null&&i.setInterval?i.setInterval.apply(i,H([t,n],B(e))):setInterval.apply(void 0,H([t,n],B(e)))},clearInterval:function(t){var n=ve.delegate;return((n==null?void 0:n.clearInterval)||clearInterval)(t)},delegate:void 0},_n=function(t){S(n,t);function n(e,r){var i=t.call(this,e,r)||this;return i.scheduler=e,i.work=r,i.pending=!1,i}return n.prototype.schedule=function(e,r){if(r===void 0&&(r=0),this.closed)return this;this.state=e;var i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,r)),this.pending=!0,this.delay=r,this.id=this.id||this.requestAsyncId(o,this.id,r),this},n.prototype.requestAsyncId=function(e,r,i){return i===void 0&&(i=0),ve.setInterval(e.flush.bind(e,this),i)},n.prototype.recycleAsyncId=function(e,r,i){if(i===void 0&&(i=0),i!=null&&this.delay===i&&this.pending===!1)return r;ve.clearInterval(r)},n.prototype.execute=function(e,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(e,r);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},n.prototype._execute=function(e,r){var i=!1,o;try{this.work(e)}catch(a){i=!0,o=a||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),o},n.prototype.unsubscribe=function(){if(!this.closed){var e=this,r=e.id,i=e.scheduler,o=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Ae(o,this),r!=null&&(this.id=this.recycleAsyncId(i,r,null)),this.delay=null,t.prototype.unsubscribe.call(this)}},n}(Dn),ft=function(){function t(n,e){e===void 0&&(e=t.now),this.schedulerActionCtor=n,this.now=e}return t.prototype.schedule=function(n,e,r){return e===void 0&&(e=0),new this.schedulerActionCtor(this,n).schedule(r,e)},t.now=lt.now,t}(),qn=function(t){S(n,t);function n(e,r){r===void 0&&(r=ft.now);var i=t.call(this,e,r)||this;return i.actions=[],i._active=!1,i._scheduled=void 0,i}return n.prototype.flush=function(e){var r=this.actions;if(this._active){r.push(e);return}var i;this._active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=r.shift());if(this._active=!1,i){for(;e=r.shift();)e.unsubscribe();throw i}},n}(ft),Hn=new qn(_n),Fn=new M(function(t){return t.complete()});function $n(t){return t[t.length-1]}function ht(t){return A($n(t))?t.pop():void 0}var Me=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function dt(t){return A(t==null?void 0:t.then)}function vt(t){return A(t[Oe])}function pt(t){return Symbol.asyncIterator&&A(t==null?void 0:t[Symbol.asyncIterator])}function mt(t){return new TypeError("You provided "+(t!==null&&typeof t=="object"?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function Un(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var gt=Un();function yt(t){return A(t==null?void 0:t[gt])}function bt(t){return Pn(this,arguments,function(){var e,r,i,o;return rt(this,function(a){switch(a.label){case 0:e=t.getReader(),a.label=1;case 1:a.trys.push([1,,9,10]),a.label=2;case 2:return[4,ee(e.read())];case 3:return r=a.sent(),i=r.value,o=r.done,o?[4,ee(void 0)]:[3,5];case 4:return[2,a.sent()];case 5:return[4,ee(i)];case 6:return[4,a.sent()];case 7:return a.sent(),[3,2];case 8:return[3,10];case 9:return e.releaseLock(),[7];case 10:return[2]}})})}function wt(t){return A(t==null?void 0:t.getReader)}function F(t){if(t instanceof M)return t;if(t!=null){if(vt(t))return Vn(t);if(Me(t))return zn(t);if(dt(t))return Nn(t);if(pt(t))return Et(t);if(yt(t))return Wn(t);if(wt(t))return Yn(t)}throw mt(t)}function Vn(t){return new M(function(n){var e=t[Oe]();if(A(e.subscribe))return e.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function zn(t){return new M(function(n){for(var e=0;e<t.length&&!n.closed;e++)n.next(t[e]);n.complete()})}function Nn(t){return new M(function(n){t.then(function(e){n.closed||(n.next(e),n.complete())},function(e){return n.error(e)}).then(null,st)})}function Wn(t){return new M(function(n){var e,r;try{for(var i=ae(t),o=i.next();!o.done;o=i.next()){var a=o.value;if(n.next(a),n.closed)return}}catch(u){e={error:u}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}n.complete()})}function Et(t){return new M(function(n){Kn(t,n).catch(function(e){return n.error(e)})})}function Yn(t){return Et(bt(t))}function Kn(t,n){var e,r,i,o;return xn(this,void 0,void 0,function(){var a,u;return rt(this,function(s){switch(s.label){case 0:s.trys.push([0,5,6,11]),e=An(t),s.label=1;case 1:return[4,e.next()];case 2:if(r=s.sent(),!!r.done)return[3,4];if(a=r.value,n.next(a),n.closed)return[2];s.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return u=s.sent(),i={error:u},[3,11];case 6:return s.trys.push([6,,9,10]),r&&!r.done&&(o=e.return)?[4,o.call(e)]:[3,8];case 7:s.sent(),s.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return n.complete(),[2]}})})}function Y(t,n,e,r,i){r===void 0&&(r=0),i===void 0&&(i=!1);var o=n.schedule(function(){e(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function xt(t,n){return n===void 0&&(n=0),W(function(e,r){e.subscribe(j(r,function(i){return Y(r,t,function(){return r.next(i)},n)},function(){return Y(r,t,function(){return r.complete()},n)},function(i){return Y(r,t,function(){return r.error(i)},n)}))})}function Pt(t,n){return n===void 0&&(n=0),W(function(e,r){r.add(t.schedule(function(){return e.subscribe(r)},n))})}function Qn(t,n){return F(t).pipe(Pt(n),xt(n))}function Gn(t,n){return F(t).pipe(Pt(n),xt(n))}function Zn(t,n){return new M(function(e){var r=0;return n.schedule(function(){r===t.length?e.complete():(e.next(t[r++]),e.closed||this.schedule())})})}function Jn(t,n){return new M(function(e){var r;return Y(e,n,function(){r=t[gt](),Y(e,n,function(){var i,o,a;try{i=r.next(),o=i.value,a=i.done}catch(u){e.error(u);return}a?e.complete():e.next(o)},0,!0)}),function(){return A(r==null?void 0:r.return)&&r.return()}})}function At(t,n){if(!t)throw new Error("Iterable cannot be null");return new M(function(e){Y(e,n,function(){var r=t[Symbol.asyncIterator]();Y(e,n,function(){r.next().then(function(i){i.done?e.complete():e.next(i.value)})},0,!0)})})}function Xn(t,n){return At(bt(t),n)}function er(t,n){if(t!=null){if(vt(t))return Qn(t,n);if(Me(t))return Zn(t,n);if(dt(t))return Gn(t,n);if(pt(t))return At(t,n);if(yt(t))return Jn(t,n);if(wt(t))return Xn(t,n)}throw mt(t)}function tr(t,n){return n?er(t,n):F(t)}function O(t,n){return W(function(e,r){var i=0;e.subscribe(j(r,function(o){r.next(t.call(n,o,i++))}))})}var nr=Array.isArray;function rr(t,n){return nr(n)?t.apply(void 0,H([],B(n))):t(n)}function ir(t){return O(function(n){return rr(t,n)})}function or(t,n,e,r,i,o,a,u){var s=[],c=0,l=0,h=!1,f=function(){h&&!s.length&&!c&&n.complete()},v=function(d){return c<r?p(d):s.push(d)},p=function(d){o&&n.next(d),c++;var w=!1;F(e(d,l++)).subscribe(j(n,function(b){i==null||i(b),o?v(b):n.next(b)},function(){w=!0},void 0,function(){if(w)try{c--;for(var b=function(){var m=s.shift();a?Y(n,a,function(){return p(m)}):p(m)};s.length&&c<r;)b();f()}catch(m){n.error(m)}}))};return t.subscribe(j(n,v,function(){h=!0,f()})),function(){u==null||u()}}function St(t,n,e){return e===void 0&&(e=1/0),A(n)?St(function(r,i){return O(function(o,a){return n(r,o,i,a)})(F(t(r,i)))},e):(typeof n=="number"&&(e=n),W(function(r,i){return or(r,i,t,e)}))}var ar=["addListener","removeListener"],sr=["addEventListener","removeEventListener"],ur=["on","off"];function te(t,n,e,r){if(A(e)&&(r=e,e=void 0),r)return te(t,n,e).pipe(ir(r));var i=B(fr(t)?sr.map(function(u){return function(s){return t[u](n,s,e)}}):cr(t)?ar.map(Lt(t,n)):lr(t)?ur.map(Lt(t,n)):[],2),o=i[0],a=i[1];if(!o&&Me(t))return St(function(u){return te(u,n,e)})(F(t));if(!o)throw new TypeError("Invalid event target");return new M(function(u){var s=function(){for(var c=[],l=0;l<arguments.length;l++)c[l]=arguments[l];return u.next(1<c.length?c:c[0])};return o(s),function(){return a(s)}})}function Lt(t,n){return function(e){return function(r){return t[e](n,r)}}}function cr(t){return A(t.addListener)&&A(t.removeListener)}function lr(t){return A(t.on)&&A(t.off)}function fr(t){return A(t.addEventListener)&&A(t.removeEventListener)}var hr=Array.isArray;function dr(t){return t.length===1&&hr(t[0])?t[0]:t}function It(t,n){return W(function(e,r){var i=0;e.subscribe(j(r,function(o){return t.call(n,o,i++)&&r.next(o)}))})}function kt(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var e=ht(t),r=dr(t);return r.length?new M(function(i){var o=r.map(function(){return[]}),a=r.map(function(){return!1});i.add(function(){o=a=null});for(var u=function(c){F(r[c]).subscribe(j(i,function(l){if(o[c].push(l),o.every(function(f){return f.length})){var h=o.map(function(f){return f.shift()});i.next(e?e.apply(void 0,H([],B(h))):h),o.some(function(f,v){return!f.length&&a[v]})&&i.complete()}},function(){a[c]=!0,!o[c].length&&i.complete()}))},s=0;!i.closed&&s<r.length;s++)u(s);return function(){o=a=null}}):Fn}function vr(t,n){return n===void 0&&(n=Hn),W(function(e,r){var i=null,o=null,a=null,u=function(){if(i){i.unsubscribe(),i=null;var c=o;o=null,r.next(c)}};function s(){var c=a+t,l=n.now();if(l<c){i=this.schedule(void 0,c-l),r.add(i);return}u()}e.subscribe(j(r,function(c){o=c,a=n.now(),i||(i=n.schedule(s,t),r.add(i))},function(){u(),r.complete()},void 0,function(){o=i=null}))})}function je(t,n){return W(function(e,r){var i=null,o=0,a=!1,u=function(){return a&&!i&&r.complete()};e.subscribe(j(r,function(s){i==null||i.unsubscribe();var c=0,l=o++;F(t(s,l)).subscribe(i=j(r,function(h){return r.next(n?n(s,h,l,c++):h)},function(){i=null,u()}))},function(){a=!0,u()}))})}function pr(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var e=ht(t);return W(function(r,i){for(var o=t.length,a=new Array(o),u=t.map(function(){return!1}),s=!1,c=function(h){F(t[h]).subscribe(j(i,function(f){a[h]=f,!s&&!u[h]&&(u[h]=!0,(s=u.every(ut))&&(u=null))},Le))},l=0;l<o;l++)c(l);r.subscribe(j(i,function(h){if(s){var f=H([h],B(a));i.next(e?e.apply(void 0,H([],B(f))):f)}}))})}function mr(t,n){n===void 0&&(n={});var e=n.selector,r=En(n,["selector"]);return new M(function(i){var o=new AbortController,a=o.signal,u=!0,s=r.signal;if(s)if(s.aborted)o.abort();else{var c=function(){a.aborted||o.abort()};s.addEventListener("abort",c),i.add(function(){return s.removeEventListener("abort",c)})}var l=T(T({},r),{signal:a}),h=function(f){u=!1,i.error(f)};return fetch(t,l).then(function(f){e?F(e(f)).subscribe(j(i,void 0,function(){u=!1,i.complete()},h)):(u=!1,i.next(f),i.complete())}).catch(h),function(){u&&o.abort()}})}function gr(t,n){const e=mr(t).pipe(je(a=>a.text()),O(a=>new window.DOMParser().parseFromString(a,"text/xml")),O(a=>a.querySelectorAll("entry")),O(a=>[...a].map(u=>({title:u.getElementsByTagName("title")[0].textContent,url:u.getElementsByTagName("url")[0].textContent,content:u.getElementsByTagName("content")[0].textContent})))),r=te(document.getElementById(n),"input").pipe(vr(500),O(({target:a})=>a.value.trim())),i=r.pipe(O(a=>!!a)),o=r.pipe(pr(e),O(([a,u])=>u.filter(({title:s,content:c})=>s.indexOf(a)>=0||c.indexOf(a)>=0).map(s=>{const c=new RegExp(`(${encodeURIComponent(a)})`,"gi"),l=s.title.replace(c,'<strong class="search-keyword">$1</strong>');let h=s.content.replace(/<[^>]+>/g,"");const f=h.indexOf(a);return h=h.slice(f<20?0:f-20,f<0?100:f+80).replace(c,'<strong class="search-keyword">$1</strong>'),wn(bn({},s),{title:l,content:h})})));return kt(i,o).pipe(O(([a,u])=>a?u:[]))}class Re{constructor(n){this.config=n}static getInstance(n){return this.instance||(this.instance=new Re(n)),this.instance}handleScroll(n){const e=te(window,"scroll").pipe(O(r=>r.target.scrollingElement||r.target.documentElement),O(r=>r.scrollTop));n.length&&e.subscribe(r=>n.forEach(i=>i(r)))}isDisplay(n){return n.offsetParent!==null}animationEnd(n,e,r){n.classList.add(...e.split(" ")),n.addEventListener("animationend",i=>r==null?void 0:r(i),{once:!0})}get isBanderole(){return this.config.theme.scheme==="banderole"}get isBalance(){return this.config.theme.scheme==="balance"}}var Tt={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},Ce={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},yr=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],pe={CSS:{},springs:{}};function $(t,n,e){return Math.min(Math.max(t,n),e)}function se(t,n){return t.indexOf(n)>-1}function Be(t,n){return t.apply(null,n)}var g={arr:function(t){return Array.isArray(t)},obj:function(t){return se(Object.prototype.toString.call(t),"Object")},pth:function(t){return g.obj(t)&&t.hasOwnProperty("totalLength")},svg:function(t){return t instanceof SVGElement},inp:function(t){return t instanceof HTMLInputElement},dom:function(t){return t.nodeType||g.svg(t)},str:function(t){return typeof t=="string"},fnc:function(t){return typeof t=="function"},und:function(t){return typeof t=="undefined"},nil:function(t){return g.und(t)||t===null},hex:function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)},rgb:function(t){return/^rgb/.test(t)},hsl:function(t){return/^hsl/.test(t)},col:function(t){return g.hex(t)||g.rgb(t)||g.hsl(t)},key:function(t){return!Tt.hasOwnProperty(t)&&!Ce.hasOwnProperty(t)&&t!=="targets"&&t!=="keyframes"}};function Ot(t){var n=/\(([^)]+)\)/.exec(t);return n?n[1].split(",").map(function(e){return parseFloat(e)}):[]}function Mt(t,n){var e=Ot(t),r=$(g.und(e[0])?1:e[0],.1,100),i=$(g.und(e[1])?100:e[1],.1,100),o=$(g.und(e[2])?10:e[2],.1,100),a=$(g.und(e[3])?0:e[3],.1,100),u=Math.sqrt(i/r),s=o/(2*Math.sqrt(i*r)),c=s<1?u*Math.sqrt(1-s*s):0,l=1,h=s<1?(s*u+-a)/c:-a+u;function f(p){var d=n?n*p/1e3:p;return s<1?d=Math.exp(-d*s*u)*(l*Math.cos(c*d)+h*Math.sin(c*d)):d=(l+h*d)*Math.exp(-d*u),p===0||p===1?p:1-d}function v(){var p=pe.springs[t];if(p)return p;for(var d=1/6,w=0,b=0;;)if(w+=d,f(w)===1){if(b++,b>=16)break}else b=0;var m=w*d*1e3;return pe.springs[t]=m,m}return n?f:v}function br(t){return t===void 0&&(t=10),function(n){return Math.ceil($(n,1e-6,1)*t)*(1/t)}}var wr=function(){var t=11,n=1/(t-1);function e(l,h){return 1-3*h+3*l}function r(l,h){return 3*h-6*l}function i(l){return 3*l}function o(l,h,f){return((e(h,f)*l+r(h,f))*l+i(h))*l}function a(l,h,f){return 3*e(h,f)*l*l+2*r(h,f)*l+i(h)}function u(l,h,f,v,p){var d,w,b=0;do w=h+(f-h)/2,d=o(w,v,p)-l,d>0?f=w:h=w;while(Math.abs(d)>1e-7&&++b<10);return w}function s(l,h,f,v){for(var p=0;p<4;++p){var d=a(h,f,v);if(d===0)return h;var w=o(h,f,v)-l;h-=w/d}return h}function c(l,h,f,v){if(!(0<=l&&l<=1&&0<=f&&f<=1))return;var p=new Float32Array(t);if(l!==h||f!==v)for(var d=0;d<t;++d)p[d]=o(d*n,l,f);function w(b){for(var m=0,y=1,x=t-1;y!==x&&p[y]<=b;++y)m+=n;--y;var P=(b-p[y])/(p[y+1]-p[y]),E=m+P*n,_=a(E,l,f);return _>=.001?s(b,E,l,f):_===0?E:u(b,m,m+n,l,f)}return function(b){return l===h&&f===v||b===0||b===1?b:o(w(b),h,v)}}return c}(),jt=function(){var t={linear:function(){return function(r){return r}}},n={Sine:function(){return function(r){return 1-Math.cos(r*Math.PI/2)}},Circ:function(){return function(r){return 1-Math.sqrt(1-r*r)}},Back:function(){return function(r){return r*r*(3*r-2)}},Bounce:function(){return function(r){for(var i,o=4;r<((i=Math.pow(2,--o))-1)/11;);return 1/Math.pow(4,3-o)-7.5625*Math.pow((i*3-2)/22-r,2)}},Elastic:function(r,i){r===void 0&&(r=1),i===void 0&&(i=.5);var o=$(r,1,10),a=$(i,.1,2);return function(u){return u===0||u===1?u:-o*Math.pow(2,10*(u-1))*Math.sin((u-1-a/(Math.PI*2)*Math.asin(1/o))*(Math.PI*2)/a)}}},e=["Quad","Cubic","Quart","Quint","Expo"];return e.forEach(function(r,i){n[r]=function(){return function(o){return Math.pow(o,i+2)}}}),Object.keys(n).forEach(function(r){var i=n[r];t["easeIn"+r]=i,t["easeOut"+r]=function(o,a){return function(u){return 1-i(o,a)(1-u)}},t["easeInOut"+r]=function(o,a){return function(u){return u<.5?i(o,a)(u*2)/2:1-i(o,a)(u*-2+2)/2}},t["easeOutIn"+r]=function(o,a){return function(u){return u<.5?(1-i(o,a)(1-u*2))/2:(i(o,a)(u*2-1)+1)/2}}}),t}();function De(t,n){if(g.fnc(t))return t;var e=t.split("(")[0],r=jt[e],i=Ot(t);switch(e){case"spring":return Mt(t,n);case"cubicBezier":return Be(wr,i);case"steps":return Be(br,i);default:return Be(r,i)}}function Rt(t){try{var n=document.querySelectorAll(t);return n}catch{return}}function me(t,n){for(var e=t.length,r=arguments.length>=2?arguments[1]:void 0,i=[],o=0;o<e;o++)if(o in t){var a=t[o];n.call(r,a,o,t)&&i.push(a)}return i}function ge(t){return t.reduce(function(n,e){return n.concat(g.arr(e)?ge(e):e)},[])}function Ct(t){return g.arr(t)?t:(g.str(t)&&(t=Rt(t)||t),t instanceof NodeList||t instanceof HTMLCollection?[].slice.call(t):[t])}function _e(t,n){return t.some(function(e){return e===n})}function qe(t){var n={};for(var e in t)n[e]=t[e];return n}function He(t,n){var e=qe(t);for(var r in t)e[r]=n.hasOwnProperty(r)?n[r]:t[r];return e}function ye(t,n){var e=qe(t);for(var r in n)e[r]=g.und(t[r])?n[r]:t[r];return e}function Er(t){var n=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(t);return n?"rgba("+n[1]+",1)":t}function xr(t){var n=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,e=t.replace(n,function(u,s,c,l){return s+s+c+c+l+l}),r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e),i=parseInt(r[1],16),o=parseInt(r[2],16),a=parseInt(r[3],16);return"rgba("+i+","+o+","+a+",1)"}function Pr(t){var n=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(t),e=parseInt(n[1],10)/360,r=parseInt(n[2],10)/100,i=parseInt(n[3],10)/100,o=n[4]||1;function a(f,v,p){return p<0&&(p+=1),p>1&&(p-=1),p<1/6?f+(v-f)*6*p:p<1/2?v:p<2/3?f+(v-f)*(2/3-p)*6:f}var u,s,c;if(r==0)u=s=c=i;else{var l=i<.5?i*(1+r):i+r-i*r,h=2*i-l;u=a(h,l,e+1/3),s=a(h,l,e),c=a(h,l,e-1/3)}return"rgba("+u*255+","+s*255+","+c*255+","+o+")"}function Ar(t){if(g.rgb(t))return Er(t);if(g.hex(t))return xr(t);if(g.hsl(t))return Pr(t)}function z(t){var n=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(t);if(n)return n[1]}function Sr(t){if(se(t,"translate")||t==="perspective")return"px";if(se(t,"rotate")||se(t,"skew"))return"deg"}function Fe(t,n){return g.fnc(t)?t(n.target,n.id,n.total):t}function U(t,n){return t.getAttribute(n)}function $e(t,n,e){var r=z(n);if(_e([e,"deg","rad","turn"],r))return n;var i=pe.CSS[n+e];if(!g.und(i))return i;var o=100,a=document.createElement(t.tagName),u=t.parentNode&&t.parentNode!==document?t.parentNode:document.body;u.appendChild(a),a.style.position="absolute",a.style.width=o+e;var s=o/a.offsetWidth;u.removeChild(a);var c=s*parseFloat(n);return pe.CSS[n+e]=c,c}function Bt(t,n,e){if(n in t.style){var r=n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),i=t.style[n]||getComputedStyle(t).getPropertyValue(r)||"0";return e?$e(t,i,e):i}}function Ue(t,n){if(g.dom(t)&&!g.inp(t)&&(!g.nil(U(t,n))||g.svg(t)&&t[n]))return"attribute";if(g.dom(t)&&_e(yr,n))return"transform";if(g.dom(t)&&n!=="transform"&&Bt(t,n))return"css";if(t[n]!=null)return"object"}function Dt(t){if(!!g.dom(t)){for(var n=t.style.transform||"",e=/(\w+)\(([^)]*)\)/g,r=new Map,i;i=e.exec(n);)r.set(i[1],i[2]);return r}}function Lr(t,n,e,r){var i=se(n,"scale")?1:0+Sr(n),o=Dt(t).get(n)||i;return e&&(e.transforms.list.set(n,o),e.transforms.last=n),r?$e(t,o,r):o}function Ve(t,n,e,r){switch(Ue(t,n)){case"transform":return Lr(t,n,r,e);case"css":return Bt(t,n,e);case"attribute":return U(t,n);default:return t[n]||0}}function ze(t,n){var e=/^(\*=|\+=|-=)/.exec(t);if(!e)return t;var r=z(t)||0,i=parseFloat(n),o=parseFloat(t.replace(e[0],""));switch(e[0][0]){case"+":return i+o+r;case"-":return i-o+r;case"*":return i*o+r}}function _t(t,n){if(g.col(t))return Ar(t);if(/\s/g.test(t))return t;var e=z(t),r=e?t.substr(0,t.length-e.length):t;return n?r+n:r}function Ne(t,n){return Math.sqrt(Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2))}function Ir(t){return Math.PI*2*U(t,"r")}function kr(t){return U(t,"width")*2+U(t,"height")*2}function Tr(t){return Ne({x:U(t,"x1"),y:U(t,"y1")},{x:U(t,"x2"),y:U(t,"y2")})}function qt(t){for(var n=t.points,e=0,r,i=0;i<n.numberOfItems;i++){var o=n.getItem(i);i>0&&(e+=Ne(r,o)),r=o}return e}function Or(t){var n=t.points;return qt(t)+Ne(n.getItem(n.numberOfItems-1),n.getItem(0))}function Ht(t){if(t.getTotalLength)return t.getTotalLength();switch(t.tagName.toLowerCase()){case"circle":return Ir(t);case"rect":return kr(t);case"line":return Tr(t);case"polyline":return qt(t);case"polygon":return Or(t)}}function Mr(t){var n=Ht(t);return t.setAttribute("stroke-dasharray",n),n}function jr(t){for(var n=t.parentNode;g.svg(n)&&g.svg(n.parentNode);)n=n.parentNode;return n}function Ft(t,n){var e=n||{},r=e.el||jr(t),i=r.getBoundingClientRect(),o=U(r,"viewBox"),a=i.width,u=i.height,s=e.viewBox||(o?o.split(" "):[0,0,a,u]);return{el:r,viewBox:s,x:s[0]/1,y:s[1]/1,w:a,h:u,vW:s[2],vH:s[3]}}function Rr(t,n){var e=g.str(t)?Rt(t)[0]:t,r=n||100;return function(i){return{property:i,el:e,svg:Ft(e),totalLength:Ht(e)*(r/100)}}}function Cr(t,n,e){function r(l){l===void 0&&(l=0);var h=n+l>=1?n+l:0;return t.el.getPointAtLength(h)}var i=Ft(t.el,t.svg),o=r(),a=r(-1),u=r(1),s=e?1:i.w/i.vW,c=e?1:i.h/i.vH;switch(t.property){case"x":return(o.x-i.x)*s;case"y":return(o.y-i.y)*c;case"angle":return Math.atan2(u.y-a.y,u.x-a.x)*180/Math.PI}}function $t(t,n){var e=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,r=_t(g.pth(t)?t.totalLength:t,n)+"";return{original:r,numbers:r.match(e)?r.match(e).map(Number):[0],strings:g.str(t)||n?r.split(e):[]}}function We(t){var n=t?ge(g.arr(t)?t.map(Ct):Ct(t)):[];return me(n,function(e,r,i){return i.indexOf(e)===r})}function Ut(t){var n=We(t);return n.map(function(e,r){return{target:e,id:r,total:n.length,transforms:{list:Dt(e)}}})}function Br(t,n){var e=qe(n);if(/^spring/.test(e.easing)&&(e.duration=Mt(e.easing)),g.arr(t)){var r=t.length,i=r===2&&!g.obj(t[0]);i?t={value:t}:g.fnc(n.duration)||(e.duration=n.duration/r)}var o=g.arr(t)?t:[t];return o.map(function(a,u){var s=g.obj(a)&&!g.pth(a)?a:{value:a};return g.und(s.delay)&&(s.delay=u?0:n.delay),g.und(s.endDelay)&&(s.endDelay=u===o.length-1?n.endDelay:0),s}).map(function(a){return ye(a,e)})}function Dr(t){for(var n=me(ge(t.map(function(o){return Object.keys(o)})),function(o){return g.key(o)}).reduce(function(o,a){return o.indexOf(a)<0&&o.push(a),o},[]),e={},r=function(o){var a=n[o];e[a]=t.map(function(u){var s={};for(var c in u)g.key(c)?c==a&&(s.value=u[c]):s[c]=u[c];return s})},i=0;i<n.length;i++)r(i);return e}function _r(t,n){var e=[],r=n.keyframes;r&&(n=ye(Dr(r),n));for(var i in n)g.key(i)&&e.push({name:i,tweens:Br(n[i],t)});return e}function qr(t,n){var e={};for(var r in t){var i=Fe(t[r],n);g.arr(i)&&(i=i.map(function(o){return Fe(o,n)}),i.length===1&&(i=i[0])),e[r]=i}return e.duration=parseFloat(e.duration),e.delay=parseFloat(e.delay),e}function Hr(t,n){var e;return t.tweens.map(function(r){var i=qr(r,n),o=i.value,a=g.arr(o)?o[1]:o,u=z(a),s=Ve(n.target,t.name,u,n),c=e?e.to.original:s,l=g.arr(o)?o[0]:c,h=z(l)||z(s),f=u||h;return g.und(a)&&(a=c),i.from=$t(l,f),i.to=$t(ze(a,l),f),i.start=e?e.end:0,i.end=i.start+i.delay+i.duration+i.endDelay,i.easing=De(i.easing,i.duration),i.isPath=g.pth(o),i.isPathTargetInsideSVG=i.isPath&&g.svg(n.target),i.isColor=g.col(i.from.original),i.isColor&&(i.round=1),e=i,i})}var Vt={css:function(t,n,e){return t.style[n]=e},attribute:function(t,n,e){return t.setAttribute(n,e)},object:function(t,n,e){return t[n]=e},transform:function(t,n,e,r,i){if(r.list.set(n,e),n===r.last||i){var o="";r.list.forEach(function(a,u){o+=u+"("+a+") "}),t.style.transform=o}}};function zt(t,n){var e=Ut(t);e.forEach(function(r){for(var i in n){var o=Fe(n[i],r),a=r.target,u=z(o),s=Ve(a,i,u,r),c=u||z(s),l=ze(_t(o,c),s),h=Ue(a,i);Vt[h](a,i,l,r.transforms,!0)}})}function Fr(t,n){var e=Ue(t.target,n.name);if(e){var r=Hr(n,t),i=r[r.length-1];return{type:e,property:n.name,animatable:t,tweens:r,duration:i.end,delay:r[0].delay,endDelay:i.endDelay}}}function $r(t,n){return me(ge(t.map(function(e){return n.map(function(r){return Fr(e,r)})})),function(e){return!g.und(e)})}function Nt(t,n){var e=t.length,r=function(o){return o.timelineOffset?o.timelineOffset:0},i={};return i.duration=e?Math.max.apply(Math,t.map(function(o){return r(o)+o.duration})):n.duration,i.delay=e?Math.min.apply(Math,t.map(function(o){return r(o)+o.delay})):n.delay,i.endDelay=e?i.duration-Math.max.apply(Math,t.map(function(o){return r(o)+o.duration-o.endDelay})):n.endDelay,i}var Wt=0;function Ur(t){var n=He(Tt,t),e=He(Ce,t),r=_r(e,t),i=Ut(t.targets),o=$r(i,r),a=Nt(o,e),u=Wt;return Wt++,ye(n,{id:u,children:[],animatables:i,animations:o,duration:a.duration,delay:a.delay,endDelay:a.endDelay})}var D=[],Yt=function(){var t;function n(){!t&&(!Kt()||!L.suspendWhenDocumentHidden)&&D.length>0&&(t=requestAnimationFrame(e))}function e(i){for(var o=D.length,a=0;a<o;){var u=D[a];u.paused?(D.splice(a,1),o--):(u.tick(i),a++)}t=a>0?requestAnimationFrame(e):void 0}function r(){!L.suspendWhenDocumentHidden||(Kt()?t=cancelAnimationFrame(t):(D.forEach(function(i){return i._onDocumentVisibility()}),Yt()))}return typeof document!="undefined"&&document.addEventListener("visibilitychange",r),n}();function Kt(){return!!document&&document.hidden}function L(t){t===void 0&&(t={});var n=0,e=0,r=0,i,o=0,a=null;function u(m){var y=window.Promise&&new Promise(function(x){return a=x});return m.finished=y,y}var s=Ur(t);u(s);function c(){var m=s.direction;m!=="alternate"&&(s.direction=m!=="normal"?"normal":"reverse"),s.reversed=!s.reversed,i.forEach(function(y){return y.reversed=s.reversed})}function l(m){return s.reversed?s.duration-m:m}function h(){n=0,e=l(s.currentTime)*(1/L.speed)}function f(m,y){y&&y.seek(m-y.timelineOffset)}function v(m){if(s.reversePlayback)for(var x=o;x--;)f(m,i[x]);else for(var y=0;y<o;y++)f(m,i[y])}function p(m){for(var y=0,x=s.animations,P=x.length;y<P;){var E=x[y],_=E.animatable,R=E.tweens,C=R.length-1,I=R[C];C&&(I=me(R,function(Ai){return m<Ai.end})[0]||I);for(var ie=$(m-I.start-I.delay,0,I.duration)/I.duration,xe=isNaN(ie)?1:I.easing(ie),q=I.to.strings,et=I.round,tt=[],Pi=I.to.numbers.length,oe=void 0,ce=0;ce<Pi;ce++){var le=void 0,dn=I.to.numbers[ce],vn=I.from.numbers[ce]||0;I.isPath?le=Cr(I.value,xe*dn,I.isPathTargetInsideSVG):le=vn+xe*(dn-vn),et&&(I.isColor&&ce>2||(le=Math.round(le*et)/et)),tt.push(le)}var pn=q.length;if(!pn)oe=tt[0];else{oe=q[0];for(var fe=0;fe<pn;fe++){q[fe];var mn=q[fe+1],nt=tt[fe];isNaN(nt)||(mn?oe+=nt+mn:oe+=nt+" ")}}Vt[E.type](_.target,E.property,oe,_.transforms),E.currentValue=oe,y++}}function d(m){s[m]&&!s.passThrough&&s[m](s)}function w(){s.remaining&&s.remaining!==!0&&s.remaining--}function b(m){var y=s.duration,x=s.delay,P=y-s.endDelay,E=l(m);s.progress=$(E/y*100,0,100),s.reversePlayback=E<s.currentTime,i&&v(E),!s.began&&s.currentTime>0&&(s.began=!0,d("begin")),!s.loopBegan&&s.currentTime>0&&(s.loopBegan=!0,d("loopBegin")),E<=x&&s.currentTime!==0&&p(0),(E>=P&&s.currentTime!==y||!y)&&p(y),E>x&&E<P?(s.changeBegan||(s.changeBegan=!0,s.changeCompleted=!1,d("changeBegin")),d("change"),p(E)):s.changeBegan&&(s.changeCompleted=!0,s.changeBegan=!1,d("changeComplete")),s.currentTime=$(E,0,y),s.began&&d("update"),m>=y&&(e=0,w(),s.remaining?(n=r,d("loopComplete"),s.loopBegan=!1,s.direction==="alternate"&&c()):(s.paused=!0,s.completed||(s.completed=!0,d("loopComplete"),d("complete"),!s.passThrough&&"Promise"in window&&(a(),u(s)))))}return s.reset=function(){var m=s.direction;s.passThrough=!1,s.currentTime=0,s.progress=0,s.paused=!0,s.began=!1,s.loopBegan=!1,s.changeBegan=!1,s.completed=!1,s.changeCompleted=!1,s.reversePlayback=!1,s.reversed=m==="reverse",s.remaining=s.loop,i=s.children,o=i.length;for(var y=o;y--;)s.children[y].reset();(s.reversed&&s.loop!==!0||m==="alternate"&&s.loop===1)&&s.remaining++,p(s.reversed?s.duration:0)},s._onDocumentVisibility=h,s.set=function(m,y){return zt(m,y),s},s.tick=function(m){r=m,n||(n=r),b((r+(e-n))*L.speed)},s.seek=function(m){b(l(m))},s.pause=function(){s.paused=!0,h()},s.play=function(){!s.paused||(s.completed&&s.reset(),s.paused=!1,D.push(s),h(),Yt())},s.reverse=function(){c(),s.completed=!s.reversed,h()},s.restart=function(){s.reset(),s.play()},s.remove=function(m){var y=We(m);Gt(y,s)},s.reset(),s.autoplay&&s.play(),s}function Qt(t,n){for(var e=n.length;e--;)_e(t,n[e].animatable.target)&&n.splice(e,1)}function Gt(t,n){var e=n.animations,r=n.children;Qt(t,e);for(var i=r.length;i--;){var o=r[i],a=o.animations;Qt(t,a),!a.length&&!o.children.length&&r.splice(i,1)}!e.length&&!r.length&&n.pause()}function Vr(t){for(var n=We(t),e=D.length;e--;){var r=D[e];Gt(n,r)}}function zr(t,n){n===void 0&&(n={});var e=n.direction||"normal",r=n.easing?De(n.easing):null,i=n.grid,o=n.axis,a=n.from||0,u=a==="first",s=a==="center",c=a==="last",l=g.arr(t),h=parseFloat(l?t[0]:t),f=l?parseFloat(t[1]):0,v=z(l?t[1]:t)||0,p=n.start||0+(l?h:0),d=[],w=0;return function(b,m,y){if(u&&(a=0),s&&(a=(y-1)/2),c&&(a=y-1),!d.length){for(var x=0;x<y;x++){if(!i)d.push(Math.abs(a-x));else{var P=s?(i[0]-1)/2:a%i[0],E=s?(i[1]-1)/2:Math.floor(a/i[0]),_=x%i[0],R=Math.floor(x/i[0]),C=P-_,I=E-R,ie=Math.sqrt(C*C+I*I);o==="x"&&(ie=-C),o==="y"&&(ie=-I),d.push(ie)}w=Math.max.apply(Math,d)}r&&(d=d.map(function(q){return r(q/w)*w})),e==="reverse"&&(d=d.map(function(q){return o?q<0?q*-1:-q:Math.abs(w-q)}))}var xe=l?(f-h)/w:h;return p+xe*(Math.round(d[m]*100)/100)+v}}function Nr(t){t===void 0&&(t={});var n=L(t);return n.duration=0,n.add=function(e,r){var i=D.indexOf(n),o=n.children;i>-1&&D.splice(i,1);function a(f){f.passThrough=!0}for(var u=0;u<o.length;u++)a(o[u]);var s=ye(e,He(Ce,t));s.targets=s.targets||t.targets;var c=n.duration;s.autoplay=!1,s.direction=n.direction,s.timelineOffset=g.und(r)?c:ze(r,c),a(n),n.seek(s.timelineOffset);var l=L(s);a(l),o.push(l);var h=Nt(o,t);return n.delay=h.delay,n.endDelay=h.endDelay,n.duration=h.duration,n.seek(0),n.reset(),n.autoplay&&n.play(),n},n}L.version="3.2.1",L.speed=1,L.suspendWhenDocumentHidden=!0,L.running=D,L.remove=Vr,L.get=Ve,L.set=zt,L.convertPx=$e,L.path=Rr,L.setDashoffset=Mr,L.stagger=zr,L.timeline=Nr,L.easing=De,L.penner=jt,L.random=function(t,n){return Math.floor(Math.random()*(n-t+1))+t};function Zt(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ye(t,n,e){return n&&Zt(t.prototype,n),e&&Zt(t,e),t}function G(){return(G=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t}).apply(this,arguments)}function be(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n}function Jt(t){return(Jt=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(t)}function Ke(t,n){return(Ke=Object.setPrototypeOf||function(e,r){return e.__proto__=r,e})(t,n)}function Xt(t,n,e){return(Xt=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}()?Reflect.construct:function(r,i,o){var a=[null];a.push.apply(a,i);var u=new(Function.bind.apply(r,a));return o&&Ke(u,o.prototype),u}).apply(null,arguments)}function en(t){var n=typeof Map=="function"?new Map:void 0;return(en=function(e){if(e===null||Function.toString.call(e).indexOf("[native code]")===-1)return e;if(typeof e!="function")throw new TypeError("Super expression must either be null or a function");if(n!==void 0){if(n.has(e))return n.get(e);n.set(e,r)}function r(){return Xt(e,arguments,Jt(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Ke(r,e)})(t)}function ne(t,n){try{var e=t()}catch(r){return n(r)}return e&&e.then?e.then(void 0,n):e}typeof Symbol!="undefined"&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),typeof Symbol!="undefined"&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));var K,Wr="2.9.7",Yr=function(){};(function(t){t[t.off=0]="off",t[t.error=1]="error",t[t.warning=2]="warning",t[t.info=3]="info",t[t.debug=4]="debug"})(K||(K={}));var tn=K.off,Z=function(){function t(e){this.t=e}t.getLevel=function(){return tn},t.setLevel=function(e){return tn=K[e]};var n=t.prototype;return n.error=function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];this.i(console.error,K.error,r)},n.warn=function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];this.i(console.warn,K.warning,r)},n.info=function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];this.i(console.info,K.info,r)},n.debug=function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];this.i(console.log,K.debug,r)},n.i=function(e,r,i){r<=t.getLevel()&&e.apply(console,["["+this.t+"] "].concat(i))},t}(),J=Ze,Kr=rn,Qr=Qe,Gr=on,Zr=an,nn="/",Jr=new RegExp(["(\\\\.)","(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?"].join("|"),"g");function Qe(t,n){for(var e,r=[],i=0,o=0,a="",u=n&&n.delimiter||nn,s=n&&n.whitelist||void 0,c=!1;(e=Jr.exec(t))!==null;){var l=e[0],h=e[1],f=e.index;if(a+=t.slice(o,f),o=f+l.length,h)a+=h[1],c=!0;else{var v="",p=e[2],d=e[3],w=e[4],b=e[5];if(!c&&a.length){var m=a.length-1,y=a[m];(!s||s.indexOf(y)>-1)&&(v=y,a=a.slice(0,m))}a&&(r.push(a),a="",c=!1);var x=d||w,P=v||u;r.push({name:p||i++,prefix:v,delimiter:P,optional:b==="?"||b==="*",repeat:b==="+"||b==="*",pattern:x?Xr(x):"[^"+N(P===u?P:P+u)+"]+?"})}}return(a||o<t.length)&&r.push(a+t.substr(o)),r}function rn(t,n){return function(e,r){var i=t.exec(e);if(!i)return!1;for(var o=i[0],a=i.index,u={},s=r&&r.decode||decodeURIComponent,c=1;c<i.length;c++)if(i[c]!==void 0){var l=n[c-1];u[l.name]=l.repeat?i[c].split(l.delimiter).map(function(h){return s(h,l)}):s(i[c],l)}return{path:o,index:a,params:u}}}function on(t,n){for(var e=new Array(t.length),r=0;r<t.length;r++)typeof t[r]=="object"&&(e[r]=new RegExp("^(?:"+t[r].pattern+")$",Ge(n)));return function(i,o){for(var a="",u=o&&o.encode||encodeURIComponent,s=!o||o.validate!==!1,c=0;c<t.length;c++){var l=t[c];if(typeof l!="string"){var h,f=i?i[l.name]:void 0;if(Array.isArray(f)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but got array');if(f.length===0){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var v=0;v<f.length;v++){if(h=u(f[v],l),s&&!e[c].test(h))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'"');a+=(v===0?l.prefix:l.delimiter)+h}}else if(typeof f!="string"&&typeof f!="number"&&typeof f!="boolean"){if(!l.optional)throw new TypeError('Expected "'+l.name+'" to be '+(l.repeat?"an array":"a string"))}else{if(h=u(String(f),l),s&&!e[c].test(h))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but got "'+h+'"');a+=l.prefix+h}}else a+=l}return a}}function N(t){return t.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function Xr(t){return t.replace(/([=!:$/()])/g,"\\$1")}function Ge(t){return t&&t.sensitive?"":"i"}function an(t,n,e){for(var r=(e=e||{}).strict,i=e.start!==!1,o=e.end!==!1,a=e.delimiter||nn,u=[].concat(e.endsWith||[]).map(N).concat("$").join("|"),s=i?"^":"",c=0;c<t.length;c++){var l=t[c];if(typeof l=="string")s+=N(l);else{var h=l.repeat?"(?:"+l.pattern+")(?:"+N(l.delimiter)+"(?:"+l.pattern+"))*":l.pattern;n&&n.push(l),s+=l.optional?l.prefix?"(?:"+N(l.prefix)+"("+h+"))?":"("+h+")?":N(l.prefix)+"("+h+")"}}if(o)r||(s+="(?:"+N(a)+")?"),s+=u==="$"?"$":"(?="+u+")";else{var f=t[t.length-1],v=typeof f=="string"?f[f.length-1]===a:f===void 0;r||(s+="(?:"+N(a)+"(?="+u+"))?"),v||(s+="(?="+N(a)+"|"+u+")")}return new RegExp(s,Ge(e))}function Ze(t,n,e){return t instanceof RegExp?function(r,i){if(!i)return r;var o=r.source.match(/\((?!\?)/g);if(o)for(var a=0;a<o.length;a++)i.push({name:a,prefix:null,delimiter:null,optional:!1,repeat:!1,pattern:null});return r}(t,n):Array.isArray(t)?function(r,i,o){for(var a=[],u=0;u<r.length;u++)a.push(Ze(r[u],i,o).source);return new RegExp("(?:"+a.join("|")+")",Ge(o))}(t,n,e):function(r,i,o){return an(Qe(r,o),i,o)}(t,n,e)}J.match=function(t,n){var e=[];return rn(Ze(t,e,n),e)},J.regexpToFunction=Kr,J.parse=Qr,J.compile=function(t,n){return on(Qe(t,n),n)},J.tokensToFunction=Gr,J.tokensToRegExp=Zr;var V={container:"container",history:"history",namespace:"namespace",prefix:"data-barba",prevent:"prevent",wrapper:"wrapper"},X=new(function(){function t(){this.o=V,this.u=new DOMParser}var n=t.prototype;return n.toString=function(e){return e.outerHTML},n.toDocument=function(e){return this.u.parseFromString(e,"text/html")},n.toElement=function(e){var r=document.createElement("div");return r.innerHTML=e,r},n.getHtml=function(e){return e===void 0&&(e=document),this.toString(e.documentElement)},n.getWrapper=function(e){return e===void 0&&(e=document),e.querySelector("["+this.o.prefix+'="'+this.o.wrapper+'"]')},n.getContainer=function(e){return e===void 0&&(e=document),e.querySelector("["+this.o.prefix+'="'+this.o.container+'"]')},n.removeContainer=function(e){document.body.contains(e)&&e.parentNode.removeChild(e)},n.addContainer=function(e,r){var i=this.getContainer();i?this.s(e,i):r.appendChild(e)},n.getNamespace=function(e){e===void 0&&(e=document);var r=e.querySelector("["+this.o.prefix+"-"+this.o.namespace+"]");return r?r.getAttribute(this.o.prefix+"-"+this.o.namespace):null},n.getHref=function(e){if(e.tagName&&e.tagName.toLowerCase()==="a"){if(typeof e.href=="string")return e.href;var r=e.getAttribute("href")||e.getAttribute("xlink:href");if(r)return this.resolveUrl(r.baseVal||r)}return null},n.resolveUrl=function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];var o=r.length;if(o===0)throw new Error("resolveUrl requires at least one argument; got none.");var a=document.createElement("base");if(a.href=arguments[0],o===1)return a.href;var u=document.getElementsByTagName("head")[0];u.insertBefore(a,u.firstChild);for(var s,c=document.createElement("a"),l=1;l<o;l++)c.href=arguments[l],a.href=s=c.href;return u.removeChild(a),s},n.s=function(e,r){r.parentNode.insertBefore(e,r.nextSibling)},t}()),sn=new(function(){function t(){this.h=[],this.v=-1}var n=t.prototype;return n.init=function(e,r){this.l="barba";var i={ns:r,scroll:{x:window.scrollX,y:window.scrollY},url:e};this.h.push(i),this.v=0;var o={from:this.l,index:0,states:[].concat(this.h)};window.history&&window.history.replaceState(o,"",e)},n.change=function(e,r,i){if(i&&i.state){var o=i.state,a=o.index;r=this.m(this.v-a),this.replace(o.states),this.v=a}else this.add(e,r);return r},n.add=function(e,r){var i=this.size,o=this.p(r),a={ns:"tmp",scroll:{x:window.scrollX,y:window.scrollY},url:e};this.h.push(a),this.v=i;var u={from:this.l,index:i,states:[].concat(this.h)};switch(o){case"push":window.history&&window.history.pushState(u,"",e);break;case"replace":window.history&&window.history.replaceState(u,"",e)}},n.update=function(e,r){var i=r||this.v,o=G({},this.get(i),{},e);this.set(i,o)},n.remove=function(e){e?this.h.splice(e,1):this.h.pop(),this.v--},n.clear=function(){this.h=[],this.v=-1},n.replace=function(e){this.h=e},n.get=function(e){return this.h[e]},n.set=function(e,r){return this.h[e]=r},n.p=function(e){var r="push",i=e,o=V.prefix+"-"+V.history;return i.hasAttribute&&i.hasAttribute(o)&&(r=i.getAttribute(o)),r},n.m=function(e){return Math.abs(e)>1?e>0?"forward":"back":e===0?"popstate":e>0?"back":"forward"},Ye(t,[{key:"current",get:function(){return this.h[this.v]}},{key:"state",get:function(){return this.h[this.h.length-1]}},{key:"previous",get:function(){return this.v<1?null:this.h[this.v-1]}},{key:"size",get:function(){return this.h.length}}]),t}()),we=function(t,n){try{var e=function(){if(!n.next.html)return Promise.resolve(t).then(function(r){var i=n.next;if(r){var o=X.toElement(r);i.namespace=X.getNamespace(o),i.container=X.getContainer(o),i.html=r,sn.update({ns:i.namespace});var a=X.toDocument(r);document.title=a.title}})}();return Promise.resolve(e&&e.then?e.then(function(){}):void 0)}catch(r){return Promise.reject(r)}},un=J,ei={__proto__:null,update:we,nextTick:function(){return new Promise(function(t){window.requestAnimationFrame(t)})},pathToRegexp:un},cn=function(){return window.location.origin},ue=function(t){return t===void 0&&(t=window.location.href),Ee(t).port},Ee=function(t){var n,e=t.match(/:\d+/);if(e===null)/^http/.test(t)&&(n=80),/^https/.test(t)&&(n=443);else{var r=e[0].substring(1);n=parseInt(r,10)}var i,o=t.replace(cn(),""),a={},u=o.indexOf("#");u>=0&&(i=o.slice(u+1),o=o.slice(0,u));var s=o.indexOf("?");return s>=0&&(a=ln(o.slice(s+1)),o=o.slice(0,s)),{hash:i,path:o,port:n,query:a}},ln=function(t){return t.split("&").reduce(function(n,e){var r=e.split("=");return n[r[0]]=r[1],n},{})},Je=function(t){return t===void 0&&(t=window.location.href),t.replace(/(\/#.*|\/|#.*)$/,"")},ti={__proto__:null,getHref:function(){return window.location.href},getOrigin:cn,getPort:ue,getPath:function(t){return t===void 0&&(t=window.location.href),Ee(t).path},parse:Ee,parseQuery:ln,clean:Je};function ni(t,n,e){return n===void 0&&(n=2e3),new Promise(function(r,i){var o=new XMLHttpRequest;o.onreadystatechange=function(){if(o.readyState===XMLHttpRequest.DONE){if(o.status===200)r(o.responseText);else if(o.status){var a={status:o.status,statusText:o.statusText};e(t,a),i(a)}}},o.ontimeout=function(){var a=new Error("Timeout error ["+n+"]");e(t,a),i(a)},o.onerror=function(){var a=new Error("Fetch error");e(t,a),i(a)},o.open("GET",t),o.timeout=n,o.setRequestHeader("Accept","text/html,application/xhtml+xml,application/xml"),o.setRequestHeader("x-barba","yes"),o.send()})}var ri=function(t){return!!t&&(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"};function re(t,n){return n===void 0&&(n={}),function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];var o=!1,a=new Promise(function(u,s){n.async=function(){return o=!0,function(l,h){l?s(l):u(h)}};var c=t.apply(n,r);o||(ri(c)?c.then(u,s):u(c))});return a}}var Q=new(function(t){function n(){var r;return(r=t.call(this)||this).logger=new Z("@barba/core"),r.all=["ready","page","reset","currentAdded","currentRemoved","nextAdded","nextRemoved","beforeOnce","once","afterOnce","before","beforeLeave","leave","afterLeave","beforeEnter","enter","afterEnter","after"],r.registered=new Map,r.init(),r}be(n,t);var e=n.prototype;return e.init=function(){var r=this;this.registered.clear(),this.all.forEach(function(i){r[i]||(r[i]=function(o,a){r.registered.has(i)||r.registered.set(i,new Set),r.registered.get(i).add({ctx:a||{},fn:o})})})},e.do=function(r){for(var i=this,o=arguments.length,a=new Array(o>1?o-1:0),u=1;u<o;u++)a[u-1]=arguments[u];if(this.registered.has(r)){var s=Promise.resolve();return this.registered.get(r).forEach(function(c){s=s.then(function(){return re(c.fn,c.ctx).apply(void 0,a)})}),s.catch(function(c){i.logger.debug("Hook error ["+r+"]"),i.logger.error(c)})}return Promise.resolve()},e.clear=function(){var r=this;this.all.forEach(function(i){delete r[i]}),this.init()},e.help=function(){this.logger.info("Available hooks: "+this.all.join(","));var r=[];this.registered.forEach(function(i,o){return r.push(o)}),this.logger.info("Registered hooks: "+r.join(","))},n}(Yr)),fn=function(){function t(n){if(this.P=[],typeof n=="boolean")this.g=n;else{var e=Array.isArray(n)?n:[n];this.P=e.map(function(r){return un(r)})}}return t.prototype.checkHref=function(n){if(typeof this.g=="boolean")return this.g;var e=Ee(n).path;return this.P.some(function(r){return r.exec(e)!==null})},t}(),ii=function(t){function n(r){var i;return(i=t.call(this,r)||this).k=new Map,i}be(n,t);var e=n.prototype;return e.set=function(r,i,o){return this.k.set(r,{action:o,request:i}),{action:o,request:i}},e.get=function(r){return this.k.get(r)},e.getRequest=function(r){return this.k.get(r).request},e.getAction=function(r){return this.k.get(r).action},e.has=function(r){return!this.checkHref(r)&&this.k.has(r)},e.delete=function(r){return this.k.delete(r)},e.update=function(r,i){var o=G({},this.k.get(r),{},i);return this.k.set(r,o),o},n}(fn),oi=function(){return!window.history.pushState},ai=function(t){return!t.el||!t.href},si=function(t){var n=t.event;return n.which>1||n.metaKey||n.ctrlKey||n.shiftKey||n.altKey},ui=function(t){var n=t.el;return n.hasAttribute("target")&&n.target==="_blank"},ci=function(t){var n=t.el;return n.protocol!==void 0&&window.location.protocol!==n.protocol||n.hostname!==void 0&&window.location.hostname!==n.hostname},li=function(t){var n=t.el;return n.port!==void 0&&ue()!==ue(n.href)},fi=function(t){var n=t.el;return n.getAttribute&&typeof n.getAttribute("download")=="string"},hi=function(t){return t.el.hasAttribute(V.prefix+"-"+V.prevent)},di=function(t){return Boolean(t.el.closest("["+V.prefix+"-"+V.prevent+'="all"]'))},vi=function(t){var n=t.href;return Je(n)===Je()&&ue(n)===ue()},pi=function(t){function n(r){var i;return(i=t.call(this,r)||this).suite=[],i.tests=new Map,i.init(),i}be(n,t);var e=n.prototype;return e.init=function(){this.add("pushState",oi),this.add("exists",ai),this.add("newTab",si),this.add("blank",ui),this.add("corsDomain",ci),this.add("corsPort",li),this.add("download",fi),this.add("preventSelf",hi),this.add("preventAll",di),this.add("sameUrl",vi,!1)},e.add=function(r,i,o){o===void 0&&(o=!0),this.tests.set(r,i),o&&this.suite.push(r)},e.run=function(r,i,o,a){return this.tests.get(r)({el:i,event:o,href:a})},e.checkLink=function(r,i,o){var a=this;return this.suite.some(function(u){return a.run(u,r,i,o)})},n}(fn),Xe=function(t){function n(e,r){var i;r===void 0&&(r="Barba error");for(var o=arguments.length,a=new Array(o>2?o-2:0),u=2;u<o;u++)a[u-2]=arguments[u];return(i=t.call.apply(t,[this].concat(a))||this).error=e,i.label=r,Error.captureStackTrace&&Error.captureStackTrace(function(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}(i),n),i.name="BarbaError",i}return be(n,t),n}(en(Error)),mi=function(){function t(e){e===void 0&&(e=[]),this.logger=new Z("@barba/core"),this.all=[],this.page=[],this.once=[],this.A=[{name:"namespace",type:"strings"},{name:"custom",type:"function"}],e&&(this.all=this.all.concat(e)),this.update()}var n=t.prototype;return n.add=function(e,r){switch(e){case"rule":this.A.splice(r.position||0,0,r.value);break;case"transition":default:this.all.push(r)}this.update()},n.resolve=function(e,r){var i=this;r===void 0&&(r={});var o=r.once?this.once:this.page;o=o.filter(r.self?function(f){return f.name&&f.name==="self"}:function(f){return!f.name||f.name!=="self"});var a=new Map,u=o.find(function(f){var v=!0,p={};return!(!r.self||f.name!=="self")||(i.A.reverse().forEach(function(d){v&&(v=i.R(f,d,e,p),f.from&&f.to&&(v=i.R(f,d,e,p,"from")&&i.R(f,d,e,p,"to")),f.from&&!f.to&&(v=i.R(f,d,e,p,"from")),!f.from&&f.to&&(v=i.R(f,d,e,p,"to")))}),a.set(f,p),v)}),s=a.get(u),c=[];if(c.push(r.once?"once":"page"),r.self&&c.push("self"),s){var l,h=[u];Object.keys(s).length>0&&h.push(s),(l=this.logger).info.apply(l,["Transition found ["+c.join(",")+"]"].concat(h))}else this.logger.info("No transition found ["+c.join(",")+"]");return u},n.update=function(){var e=this;this.all=this.all.map(function(r){return e.T(r)}).sort(function(r,i){return r.priority-i.priority}).reverse().map(function(r){return delete r.priority,r}),this.page=this.all.filter(function(r){return r.leave!==void 0||r.enter!==void 0}),this.once=this.all.filter(function(r){return r.once!==void 0})},n.R=function(e,r,i,o,a){var u=!0,s=!1,c=e,l=r.name,h=l,f=l,v=l,p=a?c[a]:c,d=a==="to"?i.next:i.current;if(a?p&&p[l]:p[l]){switch(r.type){case"strings":default:var w=Array.isArray(p[h])?p[h]:[p[h]];d[h]&&w.indexOf(d[h])!==-1&&(s=!0),w.indexOf(d[h])===-1&&(u=!1);break;case"object":var b=Array.isArray(p[f])?p[f]:[p[f]];d[f]?(d[f].name&&b.indexOf(d[f].name)!==-1&&(s=!0),b.indexOf(d[f].name)===-1&&(u=!1)):u=!1;break;case"function":p[v](i)?s=!0:u=!1}s&&(a?(o[a]=o[a]||{},o[a][l]=c[a][l]):o[l]=c[l])}return u},n.O=function(e,r,i){var o=0;return(e[r]||e.from&&e.from[r]||e.to&&e.to[r])&&(o+=Math.pow(10,i),e.from&&e.from[r]&&(o+=1),e.to&&e.to[r]&&(o+=2)),o},n.T=function(e){var r=this;e.priority=0;var i=0;return this.A.forEach(function(o,a){i+=r.O(e,o.name,a+1)}),e.priority=i,e},t}(),gi=function(){function t(e){e===void 0&&(e=[]),this.logger=new Z("@barba/core"),this.S=!1,this.store=new mi(e)}var n=t.prototype;return n.get=function(e,r){return this.store.resolve(e,r)},n.doOnce=function(e){var r=e.data,i=e.transition;try{var o=function(){a.S=!1},a=this,u=i||{};a.S=!0;var s=ne(function(){return Promise.resolve(a.j("beforeOnce",r,u)).then(function(){return Promise.resolve(a.once(r,u)).then(function(){return Promise.resolve(a.j("afterOnce",r,u)).then(function(){})})})},function(c){a.S=!1,a.logger.debug("Transition error [before/after/once]"),a.logger.error(c)});return Promise.resolve(s&&s.then?s.then(o):o())}catch(c){return Promise.reject(c)}},n.doPage=function(e){var r=e.data,i=e.transition,o=e.page,a=e.wrapper;try{var u=function(v){if(s)return v;c.S=!1},s=!1,c=this,l=i||{},h=l.sync===!0||!1;c.S=!0;var f=ne(function(){function v(){return Promise.resolve(c.j("before",r,l)).then(function(){var d=!1;function w(m){return d?m:Promise.resolve(c.remove(r)).then(function(){return Promise.resolve(c.j("after",r,l)).then(function(){})})}var b=function(){if(h)return ne(function(){return Promise.resolve(c.add(r,a)).then(function(){return Promise.resolve(c.j("beforeLeave",r,l)).then(function(){return Promise.resolve(c.j("beforeEnter",r,l)).then(function(){return Promise.resolve(Promise.all([c.leave(r,l),c.enter(r,l)])).then(function(){return Promise.resolve(c.j("afterLeave",r,l)).then(function(){return Promise.resolve(c.j("afterEnter",r,l)).then(function(){})})})})})})},function(P){if(c.M(P))throw new Xe(P,"Transition error [sync]")});var m=function(P){return d?P:ne(function(){var E=function(){if(y!==!1)return Promise.resolve(c.add(r,a)).then(function(){return Promise.resolve(c.j("beforeEnter",r,l)).then(function(){return Promise.resolve(c.enter(r,l,y)).then(function(){return Promise.resolve(c.j("afterEnter",r,l)).then(function(){})})})})}();if(E&&E.then)return E.then(function(){})},function(E){if(c.M(E))throw new Xe(E,"Transition error [before/after/enter]")})},y=!1,x=ne(function(){return Promise.resolve(c.j("beforeLeave",r,l)).then(function(){return Promise.resolve(Promise.all([c.leave(r,l),we(o,r)]).then(function(P){return P[0]})).then(function(P){return y=P,Promise.resolve(c.j("afterLeave",r,l)).then(function(){})})})},function(P){if(c.M(P))throw new Xe(P,"Transition error [before/after/leave]")});return x&&x.then?x.then(m):m(x)}();return b&&b.then?b.then(w):w(b)})}var p=function(){if(h)return Promise.resolve(we(o,r)).then(function(){})}();return p&&p.then?p.then(v):v()},function(v){throw c.S=!1,v.name&&v.name==="BarbaError"?(c.logger.debug(v.label),c.logger.error(v.error),v):(c.logger.debug("Transition error [page]"),c.logger.error(v),v)});return Promise.resolve(f&&f.then?f.then(u):u(f))}catch(v){return Promise.reject(v)}},n.once=function(e,r){try{return Promise.resolve(Q.do("once",e,r)).then(function(){return r.once?re(r.once,r)(e):Promise.resolve()})}catch(i){return Promise.reject(i)}},n.leave=function(e,r){try{return Promise.resolve(Q.do("leave",e,r)).then(function(){return r.leave?re(r.leave,r)(e):Promise.resolve()})}catch(i){return Promise.reject(i)}},n.enter=function(e,r,i){try{return Promise.resolve(Q.do("enter",e,r)).then(function(){return r.enter?re(r.enter,r)(e,i):Promise.resolve()})}catch(o){return Promise.reject(o)}},n.add=function(e,r){try{return X.addContainer(e.next.container,r),Q.do("nextAdded",e),Promise.resolve()}catch(i){return Promise.reject(i)}},n.remove=function(e){try{return X.removeContainer(e.current.container),Q.do("currentRemoved",e),Promise.resolve()}catch(r){return Promise.reject(r)}},n.M=function(e){return e.message?!/Timeout error|Fetch error/.test(e.message):!e.status},n.j=function(e,r,i){try{return Promise.resolve(Q.do(e,r,i)).then(function(){return i[e]?re(i[e],i)(r):Promise.resolve()})}catch(o){return Promise.reject(o)}},Ye(t,[{key:"isRunning",get:function(){return this.S},set:function(e){this.S=e}},{key:"hasOnce",get:function(){return this.store.once.length>0}},{key:"hasSelf",get:function(){return this.store.all.some(function(e){return e.name==="self"})}},{key:"shouldWait",get:function(){return this.store.all.some(function(e){return e.to&&!e.to.route||e.sync})}}]),t}(),yi=function(){function t(n){var e=this;this.names=["beforeLeave","afterLeave","beforeEnter","afterEnter"],this.byNamespace=new Map,n.length!==0&&(n.forEach(function(r){e.byNamespace.set(r.namespace,r)}),this.names.forEach(function(r){Q[r](e.L(r))}))}return t.prototype.L=function(n){var e=this;return function(r){var i=n.match(/enter/i)?r.next:r.current,o=e.byNamespace.get(i.namespace);return o&&o[n]?re(o[n],o)(r):Promise.resolve()}},t}();Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(t){var n=this;do{if(n.matches(t))return n;n=n.parentElement||n.parentNode}while(n!==null&&n.nodeType===1);return null});var bi={container:null,html:"",namespace:"",url:{hash:"",href:"",path:"",port:null,query:{}}},hn=new(function(){function t(){this.version=Wr,this.schemaPage=bi,this.Logger=Z,this.logger=new Z("@barba/core"),this.plugins=[],this.hooks=Q,this.dom=X,this.helpers=ei,this.history=sn,this.request=ni,this.url=ti}var n=t.prototype;return n.use=function(e,r){var i=this.plugins;i.indexOf(e)>-1?this.logger.warn("Plugin ["+e.name+"] already installed."):typeof e.install=="function"?(e.install(this,r),i.push(e)):this.logger.warn("Plugin ["+e.name+'] has no "install" method.')},n.init=function(e){var r=e===void 0?{}:e,i=r.transitions,o=i===void 0?[]:i,a=r.views,u=a===void 0?[]:a,s=r.schema,c=s===void 0?V:s,l=r.requestError,h=r.timeout,f=h===void 0?2e3:h,v=r.cacheIgnore,p=v!==void 0&&v,d=r.prefetchIgnore,w=d!==void 0&&d,b=r.preventRunning,m=b!==void 0&&b,y=r.prevent,x=y===void 0?null:y,P=r.debug,E=r.logLevel;if(Z.setLevel((P!==void 0&&P)===!0?"debug":E===void 0?"off":E),this.logger.info(this.version),Object.keys(c).forEach(function(C){V[C]&&(V[C]=c[C])}),this.$=l,this.timeout=f,this.cacheIgnore=p,this.prefetchIgnore=w,this.preventRunning=m,this._=this.dom.getWrapper(),!this._)throw new Error("[@barba/core] No Barba wrapper found");this._.setAttribute("aria-live","polite"),this.q();var _=this.data.current;if(!_.container)throw new Error("[@barba/core] No Barba container found");if(this.cache=new ii(p),this.prevent=new pi(w),this.transitions=new gi(o),this.views=new yi(u),x!==null){if(typeof x!="function")throw new Error("[@barba/core] Prevent should be a function");this.prevent.add("preventCustom",x)}this.history.init(_.url.href,_.namespace),this.B=this.B.bind(this),this.U=this.U.bind(this),this.D=this.D.bind(this),this.F(),this.plugins.forEach(function(C){return C.init()});var R=this.data;R.trigger="barba",R.next=R.current,R.current=G({},this.schemaPage),this.hooks.do("ready",R),this.once(R),this.q()},n.destroy=function(){this.q(),this.H(),this.history.clear(),this.hooks.clear(),this.plugins=[]},n.force=function(e){window.location.assign(e)},n.go=function(e,r,i){var o;if(r===void 0&&(r="barba"),this.transitions.isRunning)this.force(e);else if(!(o=r==="popstate"?this.history.current&&this.url.getPath(this.history.current.url)===this.url.getPath(e):this.prevent.run("sameUrl",null,null,e))||this.transitions.hasSelf)return r=this.history.change(e,r,i),i&&(i.stopPropagation(),i.preventDefault()),this.page(e,r,o)},n.once=function(e){try{var r=this;return Promise.resolve(r.hooks.do("beforeEnter",e)).then(function(){function i(){return Promise.resolve(r.hooks.do("afterEnter",e)).then(function(){})}var o=function(){if(r.transitions.hasOnce){var a=r.transitions.get(e,{once:!0});return Promise.resolve(r.transitions.doOnce({transition:a,data:e})).then(function(){})}}();return o&&o.then?o.then(i):i()})}catch(i){return Promise.reject(i)}},n.page=function(e,r,i){try{var o=function(){var c=a.data;return Promise.resolve(a.hooks.do("page",c)).then(function(){var l=ne(function(){var h=a.transitions.get(c,{once:!1,self:i});return Promise.resolve(a.transitions.doPage({data:c,page:u,transition:h,wrapper:a._})).then(function(){a.q()})},function(){Z.getLevel()===0&&a.force(c.current.url.href)});if(l&&l.then)return l.then(function(){})})},a=this;a.data.next.url=G({href:e},a.url.parse(e)),a.data.trigger=r;var u=a.cache.has(e)?a.cache.update(e,{action:"click"}).request:a.cache.set(e,a.request(e,a.timeout,a.onRequestError.bind(a,r)),"click").request,s=function(){if(a.transitions.shouldWait)return Promise.resolve(we(u,a.data)).then(function(){})}();return Promise.resolve(s&&s.then?s.then(o):o())}catch(c){return Promise.reject(c)}},n.onRequestError=function(e){this.transitions.isRunning=!1;for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];var a=i[0],u=i[1],s=this.cache.getAction(a);return this.cache.delete(a),!(this.$&&this.$(e,s,a,u)===!1||(s==="click"&&this.force(a),1))},n.prefetch=function(e){var r=this;this.cache.has(e)||this.cache.set(e,this.request(e,this.timeout,this.onRequestError.bind(this,"barba")).catch(function(i){r.logger.error(i)}),"prefetch")},n.F=function(){this.prefetchIgnore!==!0&&(document.addEventListener("mouseover",this.B),document.addEventListener("touchstart",this.B)),document.addEventListener("click",this.U),window.addEventListener("popstate",this.D)},n.H=function(){this.prefetchIgnore!==!0&&(document.removeEventListener("mouseover",this.B),document.removeEventListener("touchstart",this.B)),document.removeEventListener("click",this.U),window.removeEventListener("popstate",this.D)},n.B=function(e){var r=this,i=this.I(e);if(i){var o=this.dom.getHref(i);this.prevent.checkHref(o)||this.cache.has(o)||this.cache.set(o,this.request(o,this.timeout,this.onRequestError.bind(this,i)).catch(function(a){r.logger.error(a)}),"enter")}},n.U=function(e){var r=this.I(e);if(r)return this.transitions.isRunning&&this.preventRunning?(e.preventDefault(),void e.stopPropagation()):void this.go(this.dom.getHref(r),r,e)},n.D=function(e){this.go(this.url.getHref(),"popstate",e)},n.I=function(e){for(var r=e.target;r&&!this.dom.getHref(r);)r=r.parentNode;if(r&&!this.prevent.checkLink(r,e,this.dom.getHref(r)))return r},n.q=function(){var e=this.url.getHref(),r={container:this.dom.getContainer(),html:this.dom.getHtml(),namespace:this.dom.getNamespace(),url:G({href:e},this.url.parse(e))};this.C={current:r,next:G({},this.schemaPage),trigger:void 0},this.hooks.do("reset",this.data)},Ye(t,[{key:"data",get:function(){return this.C}},{key:"wrapper",get:function(){return this._}}]),t}());function wi(){hn.init({preventRunning:!0,prevent:({el:t})=>t.classList.contains("glightbox"),transitions:[{name:"default",async leave({current:t}){return await L({targets:t.container,translateX:-16,opacity:0,duration:375}).finished}},{name:"back",from:{namespace:"post"},to:{namespace:"home"},async leave({current:t}){return await L({targets:t.container,translateX:16,opacity:0,duration:375}).finished}}]}),hn.hooks.afterEnter(()=>{console.log("enter")})}class Ei{constructor(n){this.config=n,this.theme=n.theme,this.scrollArr=[],this.util=Re.getInstance(n)}init(){["showComments","picPos"].forEach(e=>this[e].apply(this)),this.util.handleScroll(this.scrollArr)}showComments(){const n=document.getElementById("com-switch");n==null||n.addEventListener("click",()=>{const e=document.getElementById("post-comments");this.util.isDisplay(e)?(n.style.transform="",n.classList.add("syuanpi"),e.classList.remove("fadeInDown"),this.util.animationEnd(e,"syuanpi fadeOutUp",()=>{e.style.display="none",e.classList.remove("syuanpi","fadeOutUp")})):(e.style.display="block",e.classList.add("syuanpi","fadeInDown"),n.classList.remove("syuanpi"),n.style.transform="rotate(180deg)")})}picPos(){document.querySelectorAll(".post-content").forEach(n=>{n.querySelectorAll("img").forEach(e=>{e.parentElement.style.textAlign="center";let r=`<img src="${e.src}"`;this.theme.lazy&&(r=`<img data-src="${e.src}" class="lazyload" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAA1JREFUGFdj+P///38ACfsD/QVDRcoAAAAASUVORK5CYII="`),e.outerHTML=`<a href="${e.src}" class="glightbox" data-title="${e.alt}" data-gallery="post">${r} alt="${e.alt}"></a>`})}),window.GLightbox()}back2top(){var n;(n=document.querySelector(".to-top"))==null||n.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})})}hideMobileHeader(){const n=document.getElementById("mobile-header");this.scrollArr.push(e=>{e>5?n.classList.add("header-scroll"):n.classList.remove("header-scroll")})}updateRound(n){const e=this.getPageProgress(n);document.getElementById("scrollpercent").innerHTML=""+Math.min(e,100)}showToc(){const n=document.querySelectorAll(".toc-link"),e=document.querySelectorAll(".headerlink");this.scrollArr.push(r=>{const i=[...e].map(o=>o.scrollTop);document.querySelectorAll(".title-link a").forEach(o=>{o.classList[r>=0&&r<230?"add":"remove"]("active")}),n.forEach((o,a)=>{const u=a===n.length,s=i[a],c=u?1/0:i[a+1];o.classList[s<r+210&&r+210<=c?"add":"remove"]("active")})})}titleStatus(){const n=document.title;let e;document.addEventListener("visibilitychange",()=>{const r=Math.min(this.getPageProgress((document.scrollingElement||document.documentElement).scrollTop),100);document.hidden?(clearTimeout(e),document.title="Read "+r+"% \xB7 "+n):(document.title="Welcome Back \xB7 "+n,e=setTimeout(function(){document.title=n},3e3))})}showReward(){if(!this.theme.reward)return;const n=document.getElementById("reward-btn"),e=document.getElementById("reward-wrapper");n==null||n.addEventListener("click",()=>{this.util.isDisplay(e)?this.util.animationEnd(e,"melt",()=>{e==null||e.classList.remove("melt"),e.style.display="none"}):(e.style.display="flex",this.util.animationEnd(e,"clarity",()=>{e==null||e.classList.remove("clarity")}))})}listenExit(n,e){te(n,"keyup").pipe(It(r=>r.code==="Escape")).subscribe(()=>e==null?void 0:e())}depth(n,e){const r=document.body,i=document.querySelector(".container-inner");r.classList.contains("under")?(r.classList.remove("under"),i==null||i.classList.remove("under"),e.apply(null)):(r.classList.add("under"),i==null||i.classList.add("under"),n.apply(null))}tagcloud(){const n=document.getElementById("tags"),e=document.getElementById("tagcloud"),r=document.getElementById("search"),i=()=>{e==null||e.classList.remove("shuttleIn"),this.util.animationEnd(e,"zoomOut",()=>{e==null||e.classList.remove("zoomOut","syuanpi","show")})},o=()=>{this.depth(()=>{e==null||e.classList.add("syuanpi","shuttleIn","show")},i)};this.listenExit(n,o),this.listenExit(document.querySelector(".tagcloud-taglist"),o),n==null||n.addEventListener("click",()=>{if(r!=null&&r.classList.contains("show")){e==null||e.classList.add("syuanpi","shuttleIn","show"),r.classList.remove("shuttleIn"),this.util.animationEnd(r,"zoomOut",()=>{r.classList.remove("zoomOut","syuanpi","show")});return}o()}),e==null||e.addEventListener("click",l=>{l.stopPropagation(),l.target.tagName==="DIV"&&this.depth(()=>{e.classList.add("syuanpi","shuttleIn","show")},i)});const a=te(document.querySelectorAll(".tagcloud-tag button"),"click").pipe(O(({target:l})=>l)),u=tr(document.querySelectorAll(".tagcloud-postlist")),s=u.pipe(O(l=>l.classList.remove("active"))),c=a.pipe(je(()=>s));kt(c,a).pipe(O(([l,h])=>h),je(l=>u.pipe(It(h=>{var f;return((f=h.firstElementChild)==null?void 0:f.innerHTML.trim())===l.innerHTML.trim()})))).subscribe(l=>l.classList.add("active"))}search(){if(!this.theme.search)return;const n=document.getElementById("search"),e=document.getElementById("search-btn"),r=document.getElementById("search-input"),i=document.getElementById("search-result"),o=document.getElementById("tagcloud"),a=()=>{n==null||n.classList.remove("shuttleIn"),this.util.animationEnd(n,"zoomOut",()=>{n==null||n.classList.remove("zoomOut","syuanpi","show"),r.value=""})},u=()=>{this.depth(()=>{n==null||n.classList.add("syuanpi","shuttleIn","show"),r.focus()},a)};this.listenExit(n,u),e==null||e.addEventListener("click",()=>{if(o!=null&&o.classList.contains("show")){n==null||n.classList.add("syuanpi","shuttleIn","show"),o.classList.remove("shuttleIn"),this.util.animationEnd(o,"zoomOut",()=>{o.classList.remove("zoomOut","syuanpi","show")});return}u()}),n==null||n.addEventListener("click",s=>{s.stopPropagation(),s.target.tagName==="DIV"&&this.depth(()=>{n.classList.add("syuanpi","shuttleIn","show")},a)}),gr(`${this.config.baseUrl}search.xml`,"search-input").subscribe(s=>{const c=f=>`<ul class="search-result-list syuanpi fadeInUpShort">${f}</ul>`,l=({url:f,title:v,content:p})=>`
          <li class="search-result-item">
            <a href="${f}"><h2>${v}</h2></a>
            <p>${p}</p>
          </li>
        `,h=s.map(l);i.innerHTML=c(h.join(""))})}mobileHeader(){var o;const n=document.querySelector(".mobile-header-body"),e=document.querySelector(".header-menu-line"),r=document.getElementById("mobile-tags"),i=document.getElementById("tagcloud");r==null||r.addEventListener("click",()=>{n==null||n.classList.remove("show"),e==null||e.classList.remove("show"),i==null||i.classList.add("syuanpi","shuttleIn","show")}),(o=document.getElementById("mobile-left"))==null||o.addEventListener("click",()=>{this.depth(()=>{n==null||n.classList.add("show"),e==null||e.classList.add("show")},()=>{n==null||n.classList.remove("show"),e==null||e.classList.remove("show")})})}pjax(){!this.theme.pjax||wi()}bootstarp(){this.showToc(),this.back2top(),this.titleStatus(),this.init(),this.hideMobileHeader(),this.tagcloud(),this.search(),this.showReward(),this.mobileHeader(),this.pjax()}getPageProgress(n){const e=document.body.clientHeight,r=window.innerHeight;return Math.floor(n/(e-r)*100)}}class xi extends Ei{constructor(n){super(n)}back2top(){super.back2top();const n=document.getElementById("backtop");n==null||n.classList.remove("melt"),this.scrollArr.push(e=>{this.updateRound(e)})}switchToc(){var r;if(!this.theme.toc)return;const n=document.getElementById("header"),e=document.querySelector(".post-toc");(r=document.getElementById("switch-toc"))==null||r.addEventListener("click",i=>{i.stopPropagation(),n==null||n.classList.add("show_toc"),e==null||e.classList.remove("hide")}),n==null||n.addEventListener("click",i=>{i.stopPropagation(),n.classList.contains("show_toc")&&(n.classList.remove("show_toc"),e==null||e.classList.add("hide"))})}bootstarp(){super.bootstarp(),this.switchToc()}}return xi});
